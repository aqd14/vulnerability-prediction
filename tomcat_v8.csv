component|version|type|bug_id|change|link
Catalina|Tomcat 8.0.53 (violetagg)|Fix||Treat the <mapped-name> element of a <env-entry> in web.xml in the same way as the mappedName element of the equivalent @Resource annotation. Both now attempt to set the mappedName property of the resource. (markt)|
Catalina|Tomcat 8.0.53 (violetagg)|Fix||Correct the processing of resources with <injection-target>s defined in web.xml. First look for a match using JavaBean property names and then, only if a match is not found, look for a match using fields. (markt)|
Catalina|Tomcat 8.0.53 (violetagg)|Fix||When restoring a saved request with a request body after FORM authentication, ensure that calls to the HttpServletRequest methods getRequestURI(), getQueryString() and getProtocol() are not corrupted by the processing of the saved request body. (markt)|
Catalina|Tomcat 8.0.53 (violetagg)|Fix||JNDI resources that are defined with injection targets but no value are now treated as if the resource is not defined. (markt)|
Catalina|Tomcat 8.0.53 (violetagg)|Fix||Ensure that JNDI names used for <lookup-name> entries in web.xml and for lookup elements of @Resource annotations specify a name with an explicit java: namespace. (markt)|
Catalina|Tomcat 8.0.53 (violetagg)|Code||Refactor the org.apache.naming package to reduce duplicate code. Duplicate code identified by the Simian tool. (markt)|
Catalina|Tomcat 8.0.53 (violetagg)|Fix|50019|Add support for <lookup-name>. Based on a patch by Gurkan Erdogdu. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=50019
Catalina|Tomcat 8.0.53 (violetagg)|Fix|60490|Various formatting and layout improvements for the ErrorReportValve. Patch provided by Michael Osipov. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60490
Catalina|Tomcat 8.0.53 (violetagg)|Fix|62343|Make CORS filter defaults more secure. This is the fix for CVE-2018-8014. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=62343
Catalina|Tomcat 8.0.53 (violetagg)|Fix||Ensure that the web application resources implementation does not incorrectly cache results for resources that are only visible as class loader resources. (markt)|
Catalina|Tomcat 8.0.53 (violetagg)|Fix||Make all loggers associated with Tomcat provided Filters non-static to ensure that log messages are not lost when a web application is reloaded. (markt)|
Catalina|Tomcat 8.0.53 (violetagg)|Fix||Correct the manifest for the annotations-api.jar. The JAR implements the Common Annotations API 1.2 and the manifest should reflect that. (markt)|
Catalina|Tomcat 8.0.53 (violetagg)|Fix||Switch to non-static loggers where there is a possibility of a logger becoming associated with a web application class loader causing log messages to be lost if the web application is stopped. (markt)|
Catalina|Tomcat 8.0.53 (violetagg)|Add|62389|Add the IPv6 loopback address to the default internalProxies regular expression. Patch by Craig Andrews. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=62389
Catalina|Tomcat 8.0.53 (violetagg)|Fix||In the RemoteIpValve and RemoteIpFilter, correctly handle the case when the request passes through one or more trustedProxies but no internalProxies. Based on a patch by zhanhb. (markt)|
Catalina|Tomcat 8.0.53 (violetagg)|Fix||Correct the logic in MBeanFactory.removeConnector() to ensure that the correct Connector is removed when there are multiple Connectors using different addresses but the same port. (markt)|
Catalina|Tomcat 8.0.53 (violetagg)|Fix||Make JAASRealm mis-configuration more obvious by requiring the authenticated Subject to include at least one Principal of a type specified by userClassNames. (markt)|
Catalina|Tomcat 8.0.53 (violetagg)|Fix|62476|Use GMT timezone for the value of Expires header as required by HTTP specification (RFC 7231, 7234). (kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=62476
Coyote|Tomcat 8.0.53 (violetagg)|Fix||Log an error message if the AJP connector detects the the reverse proxy is sending AJP messages that are too large for the configured packetSize. (markt)|
Coyote|Tomcat 8.0.53 (violetagg)|Fix||Relax Host validation by removing the requirement that the final component of a FQDN must be alphabetic. (markt)|
Coyote|Tomcat 8.0.53 (violetagg)|Fix|62371|Improve logging of Host validation failures. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=62371
Coyote|Tomcat 8.0.53 (violetagg)|Fix||Correctly handle a digest authorization header when the user name contains an escaped character. (markt)|
Coyote|Tomcat 8.0.53 (violetagg)|Fix||Correctly handle a digest authorization header when one of the hex field values ends the header with in an invalid character. (markt)|
Coyote|Tomcat 8.0.53 (violetagg)|Fix||Correctly handle an invalid quality value in an Accept-Language header. (markt)|
Coyote|Tomcat 8.0.53 (violetagg)|Fix||Improve IPv6 validation by ensuring that IPv4-Mapped IPv6 addresses do not contain leading zeros in the IPv4 part. Based on a patch by Katya Stoycheva. (markt)|
Jasper|Tomcat 8.0.53 (violetagg)|Fix|62080|Ensure that all reads of the current thread's context class loader made by the UEL API and implementation are performed via a PrivilegedAction to ensure that a SecurityException is not triggered when running under a SecurityManager. (mark)|https://bz.apache.org/bugzilla/show_bug.cgi?id=62080
Jasper|Tomcat 8.0.53 (violetagg)|Fix|62350|Refactor org.apache.jasper.runtime.BodyContentImpl so a SecurityException is not thrown when running under a SecurityManger and additional permissions are not required in the catalina.policy file. This is a follow-up to the fix for 43925. (kkolinko/markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=62350
Cluster|Tomcat 8.0.53 (violetagg)|Fix||Remove duplicate calls when creating a replicated session to reduce the time taken to create the session and thereby reduce the chances of a subsequent session update message being ignored because the session does not yet exist. (markt)|
WebSocket|Tomcat 8.0.53 (violetagg)|Fix||When decoding of path parameter failed, make sure to throw DecodeException instead of throwing ArrayIndexOutOfBoundsException. (kfujino)|
WebSocket|Tomcat 8.0.53 (violetagg)|Fix||Enable host name verification when using TLS with the WebSocket client. (markt)|
Tribes|Tomcat 8.0.53 (violetagg)|Fix||Ensure that the correct default value is returned when retrieve unset properties in McastService. (kfujino)|
jdbc-pool|Tomcat 8.0.53 (violetagg)|Fix||When logValidationErrors is set to true, the connection validation error is logged as SEVERE instead of WARNING. (kfujino)|
Other|Tomcat 8.0.53 (violetagg)|Fix|62391|Remove references to javaw.exe as this file is not required by Tomcat and the references prevent the use of the Server JRE. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=62391
Other|Tomcat 8.0.53 (violetagg)|Update||Update the packaged version of the Tomcat Native Library to 1.2.17 to pick up the latest Windows binaries built with APR 1.6.3 and OpenSSL 1.0.2o. (markt)|
Other|Tomcat 8.0.53 (violetagg)|Update|62458|Update the internal fork of Commons Pool 2 to dfef97b (2018-06-18) to pick up some bug fixes and enhancements. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=62458
Other|Tomcat 8.0.53 (violetagg)|Update||Update the internal fork of Commons DBCP 2 to 2.4.0. (markt)|
Other|Tomcat 8.0.53 (violetagg)|Update||Support building with Java 9+ while preserving the Java 7 compatibility at runtime (requires Ant 1.9.8 or later). (ebourg)|
Other|Tomcat 8.0.53 (violetagg)|Add||Implement checksum checks when downloading dependencies that are used to build Tomcat. (kkolinko)|
Catalina|2018-05-08 Tomcat 8.0.52 (violetagg)|Fix||Fix a rare edge case that is unlikely to occur in real usage. This edge case meant that writing long streams of UTF-8 characters to the HTTP response that consisted almost entirely of surrogate pairs could result in one surrogate pair being dropped. (markt)|
Catalina|2018-05-08 Tomcat 8.0.52 (violetagg)|Fix||"Register MBean when DataSource Resource  type=""javax.sql.XADataSource"". Patch provided by Masafumi Miura. (csutherl)"|
Catalina|2018-05-08 Tomcat 8.0.52 (violetagg)|Fix|62297|Enable the CrawlerSessionManagerValve to correctly handle bots that crawl multiple hosts and/or web applications when the Valve is configured on a Host or an Engine. (fschumacher)|https://bz.apache.org/bugzilla/show_bug.cgi?id=62297
Catalina|2018-05-08 Tomcat 8.0.52 (violetagg)|Fix|62329|Correctly list resources in JAR files when directories do not have dedicated entries. Patch provided by Meelis Müür. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=62329
Catalina|2018-05-08 Tomcat 8.0.52 (violetagg)|Add||Collapse multiple leading / characters to a single / in the return value of HttpServletRequest#getContextPath() to avoid issues if the value is used with HttpServletResponse#sendRedirect(). This behaviour is enabled by default and configurable via the new Context attribute allowMultipleLeadingForwardSlashInPath. (markt)|
Catalina|2018-05-08 Tomcat 8.0.52 (violetagg)|Fix||Improve handing of overflow in the UTF-8 decoder with supplementary characters. (markt)|
Coyote|2018-05-08 Tomcat 8.0.52 (violetagg)|Add||Enable strict validation of the provided host name and port for all connectors. Requests with invalid host names and/or ports will be rejected with a 400 response. (markt)|
Coyote|2018-05-08 Tomcat 8.0.52 (violetagg)|Fix||Implement the requirements of RFC 7230 (and RFC 2616) that HTTP/1.1 requests must include a Host header and any request that does not must be rejected with a 400 response. (markt)|
Coyote|2018-05-08 Tomcat 8.0.52 (violetagg)|Fix||Implement the requirements of RFC 7230 that any HTTP/1.1 request that specifies a host in the request line, must specify the same host in the Host header and that any such request that does not, must be rejected with a 400 response. This check is optional and disabled by default. It may be enabled with the allowHostHeaderMismatch attribute of the Connector. (markt)|
Coyote|2018-05-08 Tomcat 8.0.52 (violetagg)|Fix||Implement the requirements of RFC 7230 that any HTTP/1.1 request that contains multiple Host headers is rejected with a 400 response. (markt)|
Coyote|2018-05-08 Tomcat 8.0.52 (violetagg)|Add|62273|Implement configuration options to work-around specification non-compliant user agents (including all the major browsers) that do not correctly %nn encode URI paths and query strings as required by RFC 7230 and RFC 3986. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=62273
Jasper|2018-05-08 Tomcat 8.0.52 (violetagg)|Fix||Enable ECJ version 4.7 and later to be used as a drop in replacement for the ECJ version that ships with Apache Tomcat. (markt)|
Jasper|2018-05-08 Tomcat 8.0.52 (violetagg)|Fix||Enable Java 10 to be specified as a JSP source and/or target if a newer ECJ version is used. (markt)|
Jasper|2018-05-08 Tomcat 8.0.52 (violetagg)|Fix|62287|Do not rely on hash codes to test instances of ValueExpressionImpl for equality. Patch provided by Mark Struberg. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=62287
WebSocket|2018-05-08 Tomcat 8.0.52 (violetagg)|Fix|62301|Correct a regression in the fix for 61491 that didn't correctly handle a final empty message part in all circumstances when using PerMessageDeflate. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=62301
Other|2018-05-08 Tomcat 8.0.52 (violetagg)|Fix||Avoid warning when running under Cygwin when the JAVA_ENDORSED_DIRS environment variable is not set. Patch provided by Zemian Deng. (markt)|
Catalina|2018-04-13 Tomcat 8.0.51 (violetagg)|Fix|51195|Avoid a false positive report of a web application memory leak by clearing ObjectStreamClass$Caches of classes loaded by the web application when the web application is stopped. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=51195
Catalina|2018-04-13 Tomcat 8.0.51 (violetagg)|Fix||Prevent Tomcat from applying gzip compression to content that is already compressed with brotli compression. Based on a patch provided by burka. (markt)|
Catalina|2018-04-13 Tomcat 8.0.51 (violetagg)|Fix|62090|Null container names are not allowed. (remm)|https://bz.apache.org/bugzilla/show_bug.cgi?id=62090
Catalina|2018-04-13 Tomcat 8.0.51 (violetagg)|Fix|62104|Fix programmatic login regression as the NonLoginAuthenticator has to be set for it to work (if no login method is specified). (remm)|https://bz.apache.org/bugzilla/show_bug.cgi?id=62104
Catalina|2018-04-13 Tomcat 8.0.51 (violetagg)|Fix|62117|Improve error message in catalina.sh when calling kill -0 <pid> fails. Based on a suggestion from Mark Morschhaeuser. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=62117
Catalina|2018-04-13 Tomcat 8.0.51 (violetagg)|Fix|62118|Correctly create a JNDI ServiceRef using the specified interface rather than the concrete type. Based on a suggestion by Ángel Álvarez Páscua. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=62118
Catalina|2018-04-13 Tomcat 8.0.51 (violetagg)|Fix||Fix for RequestDumperFilter log attribute. Patch provided by Kirill Romanov via Github. (violetagg)|
Catalina|2018-04-13 Tomcat 8.0.51 (violetagg)|Fix|62123|Avoid ConcurrentModificationException when attempting to clean up application triggered RMI memory leaks on web application stop. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=62123
Catalina|2018-04-13 Tomcat 8.0.51 (violetagg)|Fix|62168|When using the PersistentManager honor a value of -1 for minIdleSwap and do not swap out sessions to keep the number of active sessions under maxActive. Patch provided by Holger Sunke. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=62168
Catalina|2018-04-13 Tomcat 8.0.51 (violetagg)|Fix|62172|Improve Javadoc for org.apache.catalina.startup.Constants and ensure that the constants are correctly used. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=62172
Catalina|2018-04-13 Tomcat 8.0.51 (violetagg)|Fix|62175|Avoid infinite recursion, when trying to validate a session while loading it with PersistentManager. (fschumacher)|https://bz.apache.org/bugzilla/show_bug.cgi?id=62175
Catalina|2018-04-13 Tomcat 8.0.51 (violetagg)|Fix||Ensure that NamingContextListener instances are only notified once of property changes on the associated naming resources. (markt)|
Catalina|2018-04-13 Tomcat 8.0.51 (violetagg)|Add|62224|Disable the forkJoinCommonPoolProtection of the JreMemoryLeakPreventionListener when running on Java 9 and above since the underlying JRE bug has been fixed. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=62224
Catalina|2018-04-13 Tomcat 8.0.51 (violetagg)|Fix|62263|Avoid a NullPointerException when the RemoteIpValve processes a request for which no Context can be found. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=62263
Coyote|2018-04-13 Tomcat 8.0.51 (violetagg)|Fix||Correct off-by-one error in thread pool that allowed thread pools to increase in size to one more than the configured limit. Patch provided by usc. (markt)|
Web applications|2018-04-13 Tomcat 8.0.51 (violetagg)|Add||Work-around a known, non-specification compliant behaviour in some versions of IE that can allow XSS when the Manager application generates a plain text response. Based on a suggestion from Muthukumar Marikani. (markt)|
Web applications|2018-04-13 Tomcat 8.0.51 (violetagg)|Add||Add document for FragmentationInterceptor. (kfujino)|
Web applications|2018-04-13 Tomcat 8.0.51 (violetagg)|Add||Document how the roles for an authenticated user are determined when the CombinedRealm is used. (markt)|
jdbc-pool|2018-04-13 Tomcat 8.0.51 (violetagg)|Fix||Ensure that SQLWarning has been cleared when connection returns to the pool. (kfujino)|
jdbc-pool|2018-04-13 Tomcat 8.0.51 (violetagg)|Fix||Ensure that parameters have been cleared when PreparedStatement and/or CallableStatement are cached. (kfujino)|
jdbc-pool|2018-04-13 Tomcat 8.0.51 (violetagg)|Fix||Enable PoolCleaner to be started even if validationQuery is not set. (kfujino)|
Other|2018-04-13 Tomcat 8.0.51 (violetagg)|Update||Update the build script so MD5 hashes are no longer generated for releases as per the change in the ASF distribution policy. (markt)|
Other|2018-04-13 Tomcat 8.0.51 (violetagg)|Fix|62164|Switch the build script to use TLS for downloads from SourceForge and Maven Central to avoid failures due to HTTP to HTTPS redirects. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=62164
Catalina|2018-02-13 Tomcat 8.0.50 (violetagg)|Fix||Prevent a stack trace being written to standard out when running on Java 10 due to changes in the LogManager implementation. (markt)|
Catalina|2018-02-13 Tomcat 8.0.50 (violetagg)|Fix||Avoid duplicate load attempts if one has been made already. (remm)|
Catalina|2018-02-13 Tomcat 8.0.50 (violetagg)|Fix||Avoid NPE in ThreadLocalLeakPreventionListener if there is no Engine. (remm)|
Catalina|2018-02-13 Tomcat 8.0.50 (violetagg)|Fix|62000|When a JNDI reference cannot be resolved, ensure that the root cause exception is reported rather than swallowed. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=62000
Catalina|2018-02-13 Tomcat 8.0.50 (violetagg)|Fix|62036|When caching an authenticated user Principal in the session when the web application is configured with the NonLoginAuthenticator, cache the internal Principal object rather than the user facing Principal object as Tomcat requires the internal object to correctly process later authorization checks. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=62036
Catalina|2018-02-13 Tomcat 8.0.50 (violetagg)|Fix|62067|"Correctly apply security constraints mapped to the context root using a URL pattern of """". (markt)"|https://bz.apache.org/bugzilla/show_bug.cgi?id=62067
Catalina|2018-02-13 Tomcat 8.0.50 (violetagg)|Fix||When using Tomcat embedded, only perform Authenticator configuration once during web application start. (markt)|
Catalina|2018-02-13 Tomcat 8.0.50 (violetagg)|Fix||Process all ServletSecurity annotations at web application start rather than at servlet load time to ensure constraints are applied consistently. (markt)|
Catalina|2018-02-13 Tomcat 8.0.50 (violetagg)|Fix||Minor optimization when calling class transformers. (rjung)|
Web applications|2018-02-13 Tomcat 8.0.50 (violetagg)|Add|48672|Add documentation for the Host Manager web application. Patch provided by Marek Czernek. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=48672
Other|2018-02-13 Tomcat 8.0.50 (violetagg)|Update||Update the NSIS Installer used to build the Windows installer to version 3.03. (kkolinko)|
Catalina|2018-01-24 Tomcat 8.0.49 (violetagg)|Fix|47214|Use a loop to preload anonymous inner classes when running under a SecurityManager, to be safe for future changes in the code or using a different compiler. (kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=47214
Catalina|2018-01-24 Tomcat 8.0.49 (violetagg)|Add|57619|Implement a small optimisation to how JAR URLs are processed to reduce the storage of duplicate String objects in memory. Patch provided by Dmitri Blinov. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57619
Catalina|2018-01-24 Tomcat 8.0.49 (violetagg)|Fix|61916|Extend the AddDefaultCharsetFilter to add a character set when the content type is set via setHeader() or addHeader() as well as when it is set via setContentType(). (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61916
Catalina|2018-01-24 Tomcat 8.0.49 (violetagg)|Fix|61999|maxSavePostSize set to 0 should disable saving POST data during authentication. (remm)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61999
Coyote|2018-01-24 Tomcat 8.0.49 (violetagg)|Fix|61886|Log errors on non-container threads at DEBUG rather than INFO. The exception will be made available to the application via the asynchronous error handling mechanism. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61886
Coyote|2018-01-24 Tomcat 8.0.49 (violetagg)|Fix|61932|Allow a call to AsyncContext.dispatch() to terminate non-blocking I/O. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61932
Coyote|2018-01-24 Tomcat 8.0.49 (violetagg)|Fix||Fix NIO2 handshaking with a full input buffer. (remm)|
Coyote|2018-01-24 Tomcat 8.0.49 (violetagg)|Fix|61993|Improve handling for ByteChunk and CharChunk instances that grow close to the maximum size allowed by the JRE. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61993
Jasper|2018-01-24 Tomcat 8.0.49 (violetagg)|Add|43925|Add a new system property (org.apache.jasper.runtime.BodyContentImpl.BUFFER_SIZE) to control the size of the buffer used by Jasper when buffering tag bodies. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=43925
Jasper|2018-01-24 Tomcat 8.0.49 (violetagg)|Fix|61854|When using sets and/or maps in EL expressions, ensure that Jasper correctly parses the expression. Patch provided by Ricardo Martin Camarero. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61854
Jasper|2018-01-24 Tomcat 8.0.49 (violetagg)|Fix||Improve the handling of methods with varargs in EL expressions. In particular, the calling of a varargs method with no parameters now works correctly. Based on a patch by Nitkalya (Ing) Wiriyanuparb. (markt)|
Web applications|2018-01-24 Tomcat 8.0.49 (violetagg)|Add|61223|Add the mbeans-descriptors.dtd file to the custom MBean documentation so users have a reference to use when constructing mbeans-descriptors.xml files for custom components. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61223
Web applications|2018-01-24 Tomcat 8.0.49 (violetagg)|Fix||Partial fix for 61886. Ensure that multiple threads do not attempt to complete the AsyncContext if an I/O error occurs in the stock ticker example Servlet. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61886
Web applications|2018-01-24 Tomcat 8.0.49 (violetagg)|Fix|61886|Prevent ConcurrentModificationException when running the asynchronous stock ticker in the examples web application. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61886
Web applications|2018-01-24 Tomcat 8.0.49 (violetagg)|Fix|61886|Prevent NullPointerException and other errors if the stock ticker example is running when the examples web application is stopped. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61886
Web applications|2018-01-24 Tomcat 8.0.49 (violetagg)|Fix|61910|Clarify the meaning of the allowLinking option in the documentation web application. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61910
Web applications|2018-01-24 Tomcat 8.0.49 (violetagg)|Add||Add OCSP configuration information to the SSL How-To. Patch provided by Marek Czernek. (markt)|
Web applications|2018-01-24 Tomcat 8.0.49 (violetagg)|Fix|62006|Document the new JvmOptions9 command line parameter for tomcat8.exe. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=62006
jdbc-pool|2018-01-24 Tomcat 8.0.49 (violetagg)|Fix|61312|Prevent NullPointerExceptionn when using the statement cache of connection that has been closed. (kfujino)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61312
Other|2018-01-24 Tomcat 8.0.49 (violetagg)|Update||Update the internal fork of Commons Pool 2 to 2.4.3. (markt)|
Other|2018-01-24 Tomcat 8.0.49 (violetagg)|Update||Update the internal fork of Commons DBCP 2 to 8a71764 (2017-10-18) to pick up some bug fixes and enhancements. (markt)|
Other|2018-01-24 Tomcat 8.0.49 (violetagg)|Update||Update the internal fork of Commons FileUpload to 6c00d57 (2017-11-23) to pick up some code clean-up. (markt)|
Other|2018-01-24 Tomcat 8.0.49 (violetagg)|Update||Update the internal fork of Commons Codec to r1817136 to pick up some code clean-up. (markt)|
Other|2018-01-24 Tomcat 8.0.49 (violetagg)|Fix||The native source bundles (for Commons Daemon and Tomcat Native) are no longer copied to the bin directory for the deploy target. They are now only copied to the bin directory for the release target. (markt)|
Catalina|2017-12-12 Tomcat 8.0.48 (violetagg)|Add||When running under Java 9 or later, and the urlCacheProtection option of the JreMemoryLeakPreventionListener is enabled, use the API added in Java 9 to only disable the caching for JAR URL connections. (markt)|
Catalina|2017-12-12 Tomcat 8.0.48 (violetagg)|Fix|61597|Extend the StandardJarScanner to scan JARs on the module path when running on Java 9 and class path scanning is enabled. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61597
Catalina|2017-12-12 Tomcat 8.0.48 (violetagg)|Fix||Fix the JMX descriptor for Wrapper.findInitParameter(). (rjung)|
Catalina|2017-12-12 Tomcat 8.0.48 (violetagg)|Fix|61601|Add support for multi-release JARs in JAR scanning and web application class loading. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61601
Catalina|2017-12-12 Tomcat 8.0.48 (violetagg)|Add||Provide the SessionInitializerFilter that can be used to ensure that an HTTP session exists when initiating a WebSocket connection. Patch provided by isapir. (markt)|
Catalina|2017-12-12 Tomcat 8.0.48 (violetagg)|Fix||Avoid a possible NullPointerException when timing out AsyncContext instances during shut down. (markt)|
Coyote|2017-12-12 Tomcat 8.0.48 (violetagg)|Fix|61568|Avoid a potential SecurityException when using the NIO2 connector and a new thread is added to the pool. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61568
Coyote|2017-12-12 Tomcat 8.0.48 (violetagg)|Fix|61736|Improve performance of NIO connector when clients leave large time gaps between network packets. Patch provided by Zilong Song. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61736
Coyote|2017-12-12 Tomcat 8.0.48 (violetagg)|Fix|61773|Fix a connection counting bug in the NIO2 connector that meant connections using the non-blocking I/O features of the Servlet API (which includes the WebSocket implementation on Tomcat 8.0.x) were not removed from the current connection count. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61773
Jasper|2017-12-12 Tomcat 8.0.48 (violetagg)|Fix|61816|Invalid expressions in attribute values or template text should trigger a translation (compile time) error, not a run time error. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61816
WebSocket|2017-12-12 Tomcat 8.0.48 (violetagg)|Fix|61604|Add support for authentication in the websocket client. Patch submitted by J Fernandez. (remm)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61604
Web applications|2017-12-12 Tomcat 8.0.48 (violetagg)|Fix||Enable Javadoc to be built with Java 9. (markt)|
Web applications|2017-12-12 Tomcat 8.0.48 (violetagg)|Fix|61603|Add XML filtering for the status servlet output where needed. (remm)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61603
Web applications|2017-12-12 Tomcat 8.0.48 (violetagg)|Fix||Correct the description of how the CGI servlet maps a request to a script in the CGI How-To. (markt)|
Tribes|2017-12-12 Tomcat 8.0.48 (violetagg)|Fix||Fix incorrect behavior that attempts to resend channel messages more than the actual setting value of maxRetryAttempts. (kfujino)|
Tribes|2017-12-12 Tomcat 8.0.48 (violetagg)|Fix||Ensure that the remaining Sender can send channel messages by avoiding unintended ChannelException caused by comparing the number of failed members and the number of remaining Senders. (kfujino)|
Tribes|2017-12-12 Tomcat 8.0.48 (violetagg)|Fix||Ensure that remaining SelectionKeys that were not handled by throwing a ChannelException during SelectionKey processing are handled. (kfujino)|
Other|2017-12-12 Tomcat 8.0.48 (violetagg)|Fix||Improve the fix for 61439 and exclude the JPA, JAX-WS and EJB annotations completely from the Tomcat distributions. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61439
Other|2017-12-12 Tomcat 8.0.48 (violetagg)|Fix||Improve handling of endorsed directories. The endorsed directory mechanism will only be used if the JAVA_ENDORSED_DIRS system property is explicitly set or if $CATALINA_HOME/endorsed exists. When running on Java 9, any such attempted use of the endorsed directory mechanism will trigger an error and Tomcat will fail to start. (rjung)|
Other|2017-12-12 Tomcat 8.0.48 (violetagg)|Code||Refactoring in preparation for Java 9. Refactor to avoid using some methods that will be deprecated in Java 9 onwards. (markt)|
Other|2017-12-12 Tomcat 8.0.48 (violetagg)|Add|51496|When using the Windows installer, check if the requested service name already exists and, if it does, prompt the user to select an alternative service name. Patch provided by Ralph Plawetzki. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=51496
Other|2017-12-12 Tomcat 8.0.48 (violetagg)|Fix||Add necessary Java 9 configuration options to the startup scripts to prevent warnings being generated on web application stop. (markt)|
Other|2017-12-12 Tomcat 8.0.48 (violetagg)|Fix|61590|Enable service.bat to recognise when JAVA_HOME is configured for a Java 9 JDK. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61590
Other|2017-12-12 Tomcat 8.0.48 (violetagg)|Fix|61598|Update the Windows installer to search the new (as of Java 9) registry locations when looking for a JRE. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61598
Other|2017-12-12 Tomcat 8.0.48 (violetagg)|Add||Add generation of a SHA-512 hash for release artifacts to the build script. (markt)|
Other|2017-12-12 Tomcat 8.0.48 (violetagg)|Fix|61658|Update MIME mappings for fonts to use font/* as per RFC8081. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61658
Other|2017-12-12 Tomcat 8.0.48 (violetagg)|Update||Update the packaged version of the Tomcat Native Library to 1.2.16 to pick up the latest Windows binaries built with APR 1.6.3 and OpenSSL 1.0.2m. (markt)|
Other|2017-12-12 Tomcat 8.0.48 (violetagg)|Update||Update the NSIS Installer used to build the Windows installer to version 3.02.1. (kkolinko)|
Other|2017-12-12 Tomcat 8.0.48 (violetagg)|Update||"Update the Windows installer to use ""The Apache Software Foundation"" as the Publisher when Tomcat is displayed in the list of installed applications in Microsoft Windows. (kkolinko)"|
Other|2017-12-12 Tomcat 8.0.48 (violetagg)|Fix|61803|Remove outdated SSL information from the Security documentation. (remm)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61803
Catalina|2017-10-03 Tomcat 8.0.47 (violetagg)|Fix|60963|Add ExtractingRoot, a new WebResourceRoot implementation that extracts JARs to the work directory for improved performance when deploying packed WAR files. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60963
Catalina|2017-10-03 Tomcat 8.0.47 (violetagg)|Fix|61554|Exclude test files in unusual encodings and markdown files intended for display in GitHub from RAT analysis. Patch provided by Chris Thistlethwaite. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61554
Catalina|2017-10-03 Tomcat 8.0.47 (violetagg)|Add|61189|Add the ability to set environment variables for individual CGI scripts. Based on a patch by jm009. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61189
Catalina|2017-10-03 Tomcat 8.0.47 (violetagg)|Fix|61210|When running under a SecurityManager, do not print a warning about not being able to read a logging configuration file when that file does not exist. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61210
Catalina|2017-10-03 Tomcat 8.0.47 (violetagg)|Add|61280|Add RFC 7617 support to the BasicAuthenticator. Note that the default configuration does not change the existing behaviour. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61280
Catalina|2017-10-03 Tomcat 8.0.47 (violetagg)|Fix|61424|Avoid a possible StackOverflowError when running under a SecurityManager and using Subject.doAs(). (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61424
Catalina|2017-10-03 Tomcat 8.0.47 (violetagg)|Add|61489|When using the CGI servlet, make the generation of command line arguments from the query string (as per section 4.4 of RFC 3875) optional. The feature is enabled by default for consistency with previous releases. Based on a patch by jm009. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61489
Catalina|2017-10-03 Tomcat 8.0.47 (violetagg)|Fix|61503|This corrects a potential regression in the fix for 60940 with an alternative solution that adds the JarEntry objects normally skipped by a JarInputStream only if those entries exist. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61503
Catalina|2017-10-03 Tomcat 8.0.47 (violetagg)|Fix|61542|Fix CVE-2017-12617 and prevent JSPs from being uploaded via a specially crafted request when HTTP PUT was enabled. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61542
Catalina|2017-10-03 Tomcat 8.0.47 (violetagg)|Fix||Use the correct path when loading the JVM logging.properties file for Java 9. (rjung)|
Coyote|2017-10-03 Tomcat 8.0.47 (violetagg)|Fix||Fix possible race condition when setting IO listeners on an upgraded connection. (remm)|
Coyote|2017-10-03 Tomcat 8.0.47 (violetagg)|Fix|48655|Enable Tomcat to shutdown cleanly when using sendfile, the APR/native connector and a multi-part download is in progress. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=48655
Coyote|2017-10-03 Tomcat 8.0.47 (violetagg)|Fix|58244|Handle the case when OpenSSL resumes a TLS session using a ticket and the full client certificate chain is not available. In this case the client certificate without the chain will be presented to the application. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58244
Coyote|2017-10-03 Tomcat 8.0.47 (violetagg)|Fix||Fix random SocketTimeoutExceptions when reading the request InputStream. Based on a patch by Peter Major. (markt)|
Coyote|2017-10-03 Tomcat 8.0.47 (violetagg)|Fix|60900|Avoid a NullPointerException in the APR Poller if a connection is closed at the same time as new data arrives on that connection. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60900
Coyote|2017-10-03 Tomcat 8.0.47 (violetagg)|Add||Add an option to reject requests that contain HTTP headers with invalid (non-token) header names with a 400 response. (markt)|
WebSocket|2017-10-03 Tomcat 8.0.47 (violetagg)|Fix|61491|When using the permessage-deflate extension, correctly handle the sending of empty messages after non-empty messages to avoid the IllegalArgumentException. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61491
Web applications|2017-10-03 Tomcat 8.0.47 (violetagg)|Fix||Show connector cipher list in the manager web application in the correct cipher order. (rjung)|
Tribes|2017-10-03 Tomcat 8.0.47 (violetagg)|Fix||To avoid unexpected session timeout notification from backup session, update the access time when receiving the map member notification message. (kfujino)|
Tribes|2017-10-03 Tomcat 8.0.47 (violetagg)|Fix||Add member info to the log message when the failure detection check fails in TcpFailureDetector. (kfujino)|
Tribes|2017-10-03 Tomcat 8.0.47 (violetagg)|Fix||Avoid Ping timeout until the added map member by receiving MSG_START message is completely started. (kfujino)|
Tribes|2017-10-03 Tomcat 8.0.47 (violetagg)|Fix||When sending a channel message, make sure that the Sender has connected. (kfujino)|
Tribes|2017-10-03 Tomcat 8.0.47 (violetagg)|Fix||Correct the backup node selection logic that node 0 is returned twice consecutively. (kfujino)|
Tribes|2017-10-03 Tomcat 8.0.47 (violetagg)|Fix||Fix race condition of responseMap in RpcChannel. (kfujino)|
jdbc-pool|2017-10-03 Tomcat 8.0.47 (violetagg)|Fix|61391|Ensure that failed queries are logged if the SlowQueryReport interceptor is configured to do so and the connection has been abandoned. Patch provided by Craig Webb. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61391
jdbc-pool|2017-10-03 Tomcat 8.0.47 (violetagg)|Fix|61425|Ensure that transaction of idle connection has terminated when the testWhileIdle is set to true and defaultAutoCommit is set to false. Patch provided by WangZheng. (kfujino)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61425
jdbc-pool|2017-10-03 Tomcat 8.0.47 (violetagg)|Fix|61545|Correctly handle invocations of methods defined in the PooledConnection interface when using pooled XA connections. Patch provided by Nils Winkler. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61545
Other|2017-10-03 Tomcat 8.0.47 (violetagg)|Fix|61439|Remove the Java Annotation API classes from tomcat-embed-core.jar and package them in a separate JAR in the embedded distribution to provide end users with greater flexibility to handle potential conflicts with the JRE and/or other JARs. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61439
Other|2017-10-03 Tomcat 8.0.47 (violetagg)|Fix|61441|Improve the detection of JAVA_HOME by the daemon.sh script when running on a platform where Java has been installed from an RPM. (rjung)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61441
Other|2017-10-03 Tomcat 8.0.47 (violetagg)|Update||Update the packaged version of the Tomcat Native Library to 1.2.14 to pick up the latest Windows binaries built with APR 1.6.2 and OpenSSL 1.0.2l. (markt)|
Other|2017-10-03 Tomcat 8.0.47 (violetagg)|Fix||Update fix for 59904 so that values less than zero are accepted instead of throwing a NegativeArraySizeException. (remm)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59904
Other|2017-10-03 Tomcat 8.0.47 (violetagg)|Fix|61563|Correct typos in Spanish translation. Patch provided by Gonzalo Vásquez. (csutherl)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61563
Other|2017-10-03 Tomcat 8.0.47 (violetagg)|Update|61599|Update to Commons Daemon 1.1.0 for improved Java 9 support. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61599
Catalina|2017-08-18 Tomcat 8.0.46 (violetagg)|Fix||Additional permission for deleting files is granted to JULI as it is required by FileHandler when running under a Security Manager. The thread that cleans the log files is marked as daemon thread. (violetagg)|
Catalina|2017-08-18 Tomcat 8.0.46 (violetagg)|Fix|61229|Correct a regression in 8.0.44 that broke WebDAV handling for resources with names that included a & character. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61229
Catalina|2017-08-18 Tomcat 8.0.46 (violetagg)|Fix|61232|When log rotation is disabled only one separator will be used when generating the log file name. For example if the prefix is catalina. and the suffix is .log then the log file name will be catalina.log instead of catalina..log. Patch provided by Katya Stoycheva. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61232
Catalina|2017-08-18 Tomcat 8.0.46 (violetagg)|Fix||Performance improvements for service loader look-ups (and look-ups of other class loader resources) when the web application is deployed in a packed WAR file. (markt)|
Catalina|2017-08-18 Tomcat 8.0.46 (violetagg)|Fix|61253|Add warn message when Digester.updateAttributes throws an exception instead of ignoring it. (csutherl)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61253
Catalina|2017-08-18 Tomcat 8.0.46 (violetagg)|Fix|61313|Make the read timeout configurable in the JNDIRealm and ensure that a read timeout will result in an attempt to fail over to the alternateURL. Based on patches by Peter Maloney and Felix Schumacher. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61313
Catalina|2017-08-18 Tomcat 8.0.46 (violetagg)|Add|61366|Add a new attribute, localDataSource, to the JDBCStore that allows the Store to be configured to use a DataSource defined by the web application rather than the default of using a globally defined DataSource. Patch provided by Jonathan Horowitz. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61366
Coyote|2017-08-18 Tomcat 8.0.46 (violetagg)|Fix|61086|Ensure to explicitly signal an empty request body for HTTP 205 responses. Additional fix to r1795278. Based on a patch provided by Alexandr Saperov. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61086
Coyote|2017-08-18 Tomcat 8.0.46 (violetagg)|Fix|61322|Correct two regressions caused by the fix for 60319 when using BIO with an external Executor. Firstly, use the maxThreads setting from the Executor as the default for maxConnections if none is specified. Secondly, use maxThreads from the Executor when calculating the point at which to disable keep-alive. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61322
Coyote|2017-08-18 Tomcat 8.0.46 (violetagg)|Fix||Prevent exceptions being thrown during normal shutdown of NIO connections. This enables TLS connections to close cleanly. (markt)|
Jasper|2017-08-18 Tomcat 8.0.46 (violetagg)|Add|53031|Add support for the fork option when compiling JSPs with the Jasper Ant task and javac. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=53031
WebSocket|2017-08-18 Tomcat 8.0.46 (violetagg)|Add|57767|Add support to the WebSocket client for following redirects when attempting to establish a WebSocket connection. Patch provided by J Fernandez. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57767
Web applications|2017-08-18 Tomcat 8.0.46 (violetagg)|Fix||Remove references to the Loader attribute searchExternalFirst from the documentation since the attribute is no longer supported. (markt)|
Web applications|2017-08-18 Tomcat 8.0.46 (violetagg)|Fix||Correct the documentation for how StandardRoot is configured. (markt)|
Other|2017-08-18 Tomcat 8.0.46 (violetagg)|Add|52791|Add the ability to set the defaults used by the Windows installer from a configuration file. Patch provided by Sandra Madden. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=52791
Catalina|2017-07-01 Tomcat 8.0.45 (violetagg)|Fix|61101|CORS filter should set Vary header in response. Submitted by Rick Riemer. (remm)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61101
Catalina|2017-07-01 Tomcat 8.0.45 (violetagg)|Add|61105|Add a new JULI FileHandler configuration for specifying the maximum number of days to keep the log files. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61105
Catalina|2017-07-01 Tomcat 8.0.45 (violetagg)|Fix|61125|Ensure that WarURLConnection returns the correct value for calls to getLastModified() as this is required for the correct detection of JSP modifications when the JSP is packaged in a WAR file. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61125
Catalina|2017-07-01 Tomcat 8.0.45 (violetagg)|Fix||Improve the SSLValve so it is able to handle client certificate headers from Nginx. Based on a patch by Lucas Ventura Carro. (markt)|
Catalina|2017-07-01 Tomcat 8.0.45 (violetagg)|Fix|61154|Allow the Manager and Host Manager web applications to start by default when running under a security manager. This was accomplished by adding a custom permission, org.apache.catalina.security.DeployXmlPermission, that permits an application to use a META-INF/context.xml file and then granting that permission to the Manager and Host Manager. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61154
Catalina|2017-07-01 Tomcat 8.0.45 (violetagg)|Fix|61173|Polish the javadoc for o.a.catalina.startup.Tomcat. Patch provided by peterhansson_se. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61173
Catalina|2017-07-01 Tomcat 8.0.45 (violetagg)|Add||A new configuration property crawlerIps is added to the o.a.catalina.valves.CrawlerSessionManagerValve. Using this property one can specify a regular expression that will be used to identify crawlers based on their IP address. Based on a patch provided by Tetradeus. (violetagg)|
Catalina|2017-07-01 Tomcat 8.0.45 (violetagg)|Fix|61180|Log a warning message rather than an information message if it takes more than 100ms to initialised a SecureRandom instance for a web application to use to generate session identifiers. Patch provided by Piotr Chlebda. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61180
Catalina|2017-07-01 Tomcat 8.0.45 (violetagg)|Fix|61185|When an asynchronous request is dispatched via AsyncContext.dispatch() ensure that getRequestURI() for the dispatched request matches that of the original request. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61185
Catalina|2017-07-01 Tomcat 8.0.45 (violetagg)|Fix|61201|Ensure that the SCRIPT_NAME environment variable for CGI executables is populated in a consistent way regardless of how the CGI servlet is mapped to a request. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61201
Catalina|2017-07-01 Tomcat 8.0.45 (violetagg)|Fix|61215|Correctly define addConnectorPort and invalidAuthenticationWhenDeny in the mbean-descriptors.xml file for the org.apache.catalina.valves package so that the attributes are accessible via JMX. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61215
Coyote|2017-07-01 Tomcat 8.0.45 (violetagg)|Fix|61086|Explicitly signal an empty request body for HTTP 205 responses. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61086
Coyote|2017-07-01 Tomcat 8.0.45 (violetagg)|Fix||Revert a change introduced in the fix for bug 60718 that changed the status code recorded in the access log when the client dropped the connection from 200 to 500. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60718
Coyote|2017-07-01 Tomcat 8.0.45 (violetagg)|Fix||Make asynchronous error handling more robust. In particular ensure that onError() is called for any registered AsyncListeners after an I/O error on a non-container thread. (markt)|
Jasper|2017-07-01 Tomcat 8.0.45 (violetagg)|Fix|44787|Improve error message when JSP compiler configuration options are not valid. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=44787
Jasper|2017-07-01 Tomcat 8.0.45 (violetagg)|Fix|61137|j.s.jsp.tagext.TagLibraryInfo#uri and j.s.jsp.tagext.TagLibraryInfo#prefix fields should not be final. Patch provided by Katya Todorova. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61137
WebSocket|2017-07-01 Tomcat 8.0.45 (violetagg)|Fix||Correct the log message when a MessageHandler for PongMessage does not implement MessageHandler.Whole. (rjung)|
WebSocket|2017-07-01 Tomcat 8.0.45 (violetagg)|Fix||Improve thread-safety of Futures used to report the result of sending WebSocket messages. (markt)|
WebSocket|2017-07-01 Tomcat 8.0.45 (violetagg)|Fix|61183|Correct a regression in the previous fix for 58624 that could trigger a deadlock depending on the locking strategy employed by the client code. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61183
Web applications|2017-07-01 Tomcat 8.0.45 (violetagg)|Fix||Better document the meaning of the trimSpaces option for Jasper. (markt)|
Web applications|2017-07-01 Tomcat 8.0.45 (violetagg)|Fix|61150|Configure the Manager and Host-Manager web applications to permit serialization and deserialization of CRSFPreventionFilter related session objects to avoid warning messages and/or stack traces on web application stop and/or start when running under a security manager. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61150
Other|2017-07-01 Tomcat 8.0.45 (violetagg)|Add|45832|Add HTTP DIGEST authentication support to the Catalina Ant tasks used to communicate with the Manager application. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=45832
Other|2017-07-01 Tomcat 8.0.45 (violetagg)|Fix|45879|Add the RELEASE-NOTES file to the root of the installation created by the Tomcat installer for Windows to make it easier for users to identify the installed Tomcat version. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=45879
Other|2017-07-01 Tomcat 8.0.45 (violetagg)|Fix|61055|Clarify the code comments in the rewrite valve to make clear that there are no plans to provide proxy support for this valve since Tomcat does not have proxy capbilities. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61055
Other|2017-07-01 Tomcat 8.0.45 (violetagg)|Fix|61076|Document the altDDName attribute for the Context element. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61076
Other|2017-07-01 Tomcat 8.0.45 (violetagg)|Fix||Correct typo in Jar Scan Filter Configuration Reference. Issue reported via comments.apache.org. (violetagg)|
Other|2017-07-01 Tomcat 8.0.45 (violetagg)|Fix|61145|Add missing @Documented annotation to annotations in the annotations API. Patch provided by Katya Todorova. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61145
Other|2017-07-01 Tomcat 8.0.45 (violetagg)|Fix|61146|Add missing lookup() method to @EJB annotation in the annotations API. Patch provided by Katya Todorova. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61146
Other|2017-07-01 Tomcat 8.0.45 (violetagg)|Fix||Correct typo in Context Container Configuration Reference. Patch provided by Katya Todorova. (violetagg)|
General|2017-05-16 Tomcat 8.0.44 (violetagg)|Add||Allow to exclude JUnit test classes using the build property test.exclude and document the property in BUILDING.txt. (rjung)|
Catalina|2017-05-16 Tomcat 8.0.44 (violetagg)|Fix|60940|Improve the handling of the META-INF/ and META-INF/MANIFEST.MF entries for Jar files located in /WEB-INF/lib when running a web application from a packed WAR file. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60940
Catalina|2017-05-16 Tomcat 8.0.44 (violetagg)|Fix||Pre-load the ExceptionUtils class. Since the class is used extensively in error handling, it is prudent to pre-load it to avoid any failure to load this class masking the true problem during error handling. (markt)|
Catalina|2017-05-16 Tomcat 8.0.44 (violetagg)|Fix||Review those places where Tomcat re-encodes a URI or URI component and ensure that that correct encoding (path differs from query string) is applied and that the encoding is applied consistently. (markt)|
Catalina|2017-05-16 Tomcat 8.0.44 (violetagg)|Fix||Use a more reliable mechanism for the DefaultServlet when determining if the current request is for custom error page or not. (markt)|
Catalina|2017-05-16 Tomcat 8.0.44 (violetagg)|Fix||Ensure that when the Default or WebDAV servlets process an error dispatch that the error resource is processed via the doGet() method irrespective of the method used for the original request that triggered the error. (markt)|
Catalina|2017-05-16 Tomcat 8.0.44 (violetagg)|Fix||If a static custom error page is specified that does not exist or cannot be read, ensure that the intended error status is returned rather than a 404 or 403. (markt)|
Catalina|2017-05-16 Tomcat 8.0.44 (violetagg)|Fix||When the WebDAV servlet is configured and an error dispatch is made to a custom error page located below WEB-INF, ensure that the target error page is displayed rather than a 404 response. (markt)|
Catalina|2017-05-16 Tomcat 8.0.44 (violetagg)|Add|61047|Add MIME mapping for woff2 fonts in the default web.xml. Patch provided by Justin Williamson. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61047
Catalina|2017-05-16 Tomcat 8.0.44 (violetagg)|Fix||Correct the logic that selects the encoding to use to decode the query string in the SSIServletExternalResolver so that the useBodyEncodingForURI attribute of the Connector is correctly taken into account. (markt)|
Catalina|2017-05-16 Tomcat 8.0.44 (violetagg)|Fix|61072|Respect the documentation statements that allow using the platform default secure random for session id generation. (remm)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61072
Catalina|2017-05-16 Tomcat 8.0.44 (violetagg)|Fix||Correct the javadoc for o.a.c.connector.CoyoteAdapter#parseSessionCookiesId. Patch provided by John Andrew (XUZHOUWANG) via Github. (violetagg)|
Jasper|2017-05-16 Tomcat 8.0.44 (violetagg)|Fix|60925|Improve the handling of access to properties defined by interfaces when a BeanELResolver is used under a SecurityManager. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60925
Jasper|2017-05-16 Tomcat 8.0.44 (violetagg)|Update|61057|Update to Eclipse JDT Compiler 4.6.3. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61057
Jasper|2017-05-16 Tomcat 8.0.44 (violetagg)|Fix|61065|Ensure that once the class is resolved by javax.el.ImportHandler#resolveClass it will be cached with the proper name. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61065
WebSocket|2017-05-16 Tomcat 8.0.44 (violetagg)|Fix|61003|Ensure the flags for reading/writing in o.a.t.websocket.AsyncChannelWrapperSecure are correctly reset even if some exceptions occurred during processing. (markt/violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=61003
Web applications|2017-05-16 Tomcat 8.0.44 (violetagg)|Add||Document test.threads option in BUILDING.txt. (kkolinko, rjung)|
Web applications|2017-05-16 Tomcat 8.0.44 (violetagg)|Add||Add documents for maxIdleTime attribute to Channel Receiver docs. (kfujino)|
jdbc-pool|2017-05-16 Tomcat 8.0.44 (violetagg)|Code||Refactor the creating a constructor for a proxy class to reduce duplicate code. (kfujino)|
jdbc-pool|2017-05-16 Tomcat 8.0.44 (violetagg)|Fix||In StatementFacade, the method call on the statements that have been closed throw SQLException rather than NullPointerException. (kfujino)|
Other|2017-05-16 Tomcat 8.0.44 (violetagg)|Fix||Correct comments about Java 8 in Jre8Compat. Patch provided by fibbers via Github. (violetagg)|
Other|2017-05-16 Tomcat 8.0.44 (violetagg)|Fix|60932|Correctly escape single quotes when used in i18n messages. Based on a patch by Michael Osipov. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60932
Other|2017-05-16 Tomcat 8.0.44 (violetagg)|Fix||Update the custom Ant task that integrates with the Symantec code signing service to use the now mandatory 2-factor authentication. (markt)|
Catalina|2017-04-02 Tomcat 8.0.43 (violetagg)|Add|54618|Add support to the HttpHeaderSecurityFilter for the HSTS preload parameter. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=54618
Catalina|2017-04-02 Tomcat 8.0.43 (violetagg)|Fix|60876|Ensure that Set-Cookie headers generated by the Rfc6265CookieProcessor are aligned with the specification. Patch provided by Jim Griswold. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60876
Catalina|2017-04-02 Tomcat 8.0.43 (violetagg)|Fix|60911|Ensure NPE will not be thrown when looking for SSL session ID. Based on a patch by Didier Gutacker. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60911
Coyote|2017-04-02 Tomcat 8.0.43 (violetagg)|Fix||When using the NIO2 connector, ensure a WebSocket close frame is processed before the end of stream is processed to ensure that the end of stream is processed correctly. (markt)|
Coyote|2017-04-02 Tomcat 8.0.43 (violetagg)|Fix|60852|Correctly spell compressible when used in configuration attributes and internal code. Based on a patch by Michael Osipov. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60852
Coyote|2017-04-02 Tomcat 8.0.43 (violetagg)|Fix||Improve sendfile handling when requests are pipelined. (markt)|
Jasper|2017-04-02 Tomcat 8.0.43 (violetagg)|Fix||Improve the error handling for simple tags to ensure that the tag is released and destroyed once used. (remm, violetagg)|
Jasper|2017-04-02 Tomcat 8.0.43 (violetagg)|Fix|60844|Correctly handle the error when fewer parameter values than required by the method are used to invoke an EL method expression. Patch provided by Daniel Gray. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60844
jdbc-pool|2017-04-02 Tomcat 8.0.43 (violetagg)|Fix|60764|Implement equals() and hashCode() in the StatementFacade in order to enable these methods to be called on the closed statements if any statement proxy is set. This behavior can be changed with useStatementFacade attribute. (kfujino)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60764
Other|2017-04-02 Tomcat 8.0.43 (violetagg)|Fix||Refactor the build script and the NSIS installer script so that either NSIS 2.x or NSIS 3.x can be used to build the installer. This is primarily to re-enable building the installer on the Linux based CI system where the combination of NSIS 3.x and wine leads to failed installer builds. (markt)|
Catalina|2017-03-14 Tomcat 8.0.42 (markt)|Update|60596|Improve performance of DefaultServlet when sendfile feature is disabled on connector. (kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60596
Catalina|2017-03-14 Tomcat 8.0.42 (markt)|Fix||Reduce the contention in the default InstanceManager implementation when multiple threads are managing objects and need to reference the annotation cache. (markt)|
Catalina|2017-03-14 Tomcat 8.0.42 (markt)|Add||Extend the JreMemoryLeakPreventionListener to provide protection against ForkJoinPool.commonPool() related memory leaks. (markt)|
Catalina|2017-03-14 Tomcat 8.0.42 (markt)|Code|60674|Remove final marker from CorsFilter to enable sub-classing. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60674
Catalina|2017-03-14 Tomcat 8.0.42 (markt)|Fix|60683|Security manager failure causing NPEs when doing IO on some JVMs. (csutherl)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60683
Catalina|2017-03-14 Tomcat 8.0.42 (markt)|Fix|60688|Update the internal fork of Apache Commons BCEL to r1782855 to add early access Java 9 support to the annotation scanning code. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60688
Catalina|2017-03-14 Tomcat 8.0.42 (markt)|Fix||When HTTP TRACE requests are disabled on the Connector, ensure that the HTTP OPTIONS response from the WebDAV servlet does not include TRACE in the returned Allow header. (markt)|
Catalina|2017-03-14 Tomcat 8.0.42 (markt)|Fix|60718|Improve error handling for asynchronous processing and correct a number of cases where the requestDestroyed() event was not being fired and an entry wasn't being made in the access logs. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60718
Catalina|2017-03-14 Tomcat 8.0.42 (markt)|Fix|60722|Take account of the dispatchersUseEncodedPaths setting on the current Context when generating paths for dispatches triggered by AsyncContext.dispatch(). (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60722
Catalina|2017-03-14 Tomcat 8.0.42 (markt)|Fix|60728|Make the separator Tomcat uses in the Tomcat specific war:file:... URL protocol customizable via a system property. The separator is equivalent to the use of the ! character in jar:file:... URLs. The default separator of * remains unchanged. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60728
Catalina|2017-03-14 Tomcat 8.0.42 (markt)|Fix|60798|Correct a bug in the handling of JARs in unpacked WARs that meant multiple attempts to read the same entry from a JAR in succession would fail for the second and subsequent attempts. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60798
Catalina|2017-03-14 Tomcat 8.0.42 (markt)|Fix|60808|Ensure that the Map returned by ServletRequest.getParameterMap() is fully immutable. Based on a patch provided by woosan. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60808
Catalina|2017-03-14 Tomcat 8.0.42 (markt)|Fix|60824|Correctly cache the Subject in the session - if there is a session - when running under a SecurityManager. Patch provided by Jan Engehausen. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60824
Catalina|2017-03-14 Tomcat 8.0.42 (markt)|Fix||Ensure request and response facades are used when firing application listeners. (markt/remm)|
Coyote|2017-03-14 Tomcat 8.0.42 (markt)|Fix||Ensure that executor thread pools used with connectors pre-start the configured minimum number of idle threads. (markt)|
Coyote|2017-03-14 Tomcat 8.0.42 (markt)|Add|60594|Allow some invalid characters that were recently restricted to be processed in requests by using the system property tomcat.util.http.parser.HttpParser.requestTargetAllow. (csutherl)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60594
Coyote|2017-03-14 Tomcat 8.0.42 (markt)|Fix||Modify the cookie header generated by the Rfc6265CookieProcessor so it always sends an Expires attribute as well as a Max-Age attribute to avoid problems with Microsoft browsers that do not support the Max-Age attribute. (markt)|
Jasper|2017-03-14 Tomcat 8.0.42 (markt)|Fix||Follow up to the fix for 58178. When creating the ELContext for a tag file, ensure that any registered ELContextListeners are fired. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58178
Jasper|2017-03-14 Tomcat 8.0.42 (markt)|Fix||Refactor code generated for JSPs to reduce the size of the code required for tags. (markt)|
Jasper|2017-03-14 Tomcat 8.0.42 (markt)|Update||Update to the Eclipse JDT Compiler 4.6.1. (markt)|
Cluster|2017-03-14 Tomcat 8.0.42 (markt)|Add||Make the accessTimeout configurable in ClusterSingleSignOn. The accessTimeout is used as a timeout period for PING in replication map. (kfujino)|
Cluster|2017-03-14 Tomcat 8.0.42 (markt)|Fix|60806|To avoid ClassNotFoundException, make sure that the web application class loader is passed to ReplicatedContext. (kfujino)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60806
WebSocket|2017-03-14 Tomcat 8.0.42 (markt)|Fix|60617|Correctly create a CONNECT request when establishing a WebSocket connection via a proxy. Patch provided by Svetlin Zarev. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60617
Tribes|2017-03-14 Tomcat 8.0.42 (markt)|Fix||Ensure that NoRpcChannelReply messages are not received on RpcCallback. (kfujino)|
Other|2017-03-14 Tomcat 8.0.42 (markt)|Update||Update the packaged version of the Tomcat Native Library to 1.2.12 to pick up the latest Windows binaries built with OpenSSL 1.0.2k. (violetagg)|
Other|2017-03-14 Tomcat 8.0.42 (markt)|Add|60784|Update all unit tests that test the HTTP status line to check for the required space after the status code. Patch provided by Michael Osipov. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60784
Other|2017-03-14 Tomcat 8.0.42 (markt)|Update||Update the NSIS Installer used to build the Windows installer to version 3.01. (markt)|
Cluster|2017-01-24 Tomcat 8.0.41 (violetagg)|Add||Make the accessTimeout configurable in BackupManager. The accessTimeout is used as a timeout period for PING in replication map. (kfujino)|
Web applications|2017-01-24 Tomcat 8.0.41 (violetagg)|Fix||Ensure the ASF logo image is displayed in host-manager. (violetagg)|
Catalina|not released Tomcat 8.0.40 (violetagg)|Add|53602|Add HTTP status code 451 (RFC 7725) to the list of HTTP status codes recognised by Tomcat. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=53602
Catalina|not released Tomcat 8.0.40 (violetagg)|Fix|60446|Handle the case where the stored user credential uses a different key length than the length currently configured for the CredentialHandler. Based on a patch by Niklas Holm. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60446
Catalina|not released Tomcat 8.0.40 (violetagg)|Fix|60351|Delay creating META-INF/war-tracker file until after the WAR has been expanded to address the case where the Tomcat process terminates during the expansion. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60351
Catalina|not released Tomcat 8.0.40 (violetagg)|Fix||Correctly handle the configClass attribute of a Host when embedding Tomcat. (markt)|
Catalina|not released Tomcat 8.0.40 (violetagg)|Fix|60379|Dispose of the GSS credential once it is no longer required. Patch provided by Michael Osipov. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60379
Catalina|not released Tomcat 8.0.40 (violetagg)|Fix|60380|Ensure that a call to HttpServletRequest#logout() triggers a call to TomcatPrincipal#logout(). Based on a patch by Michael Osipov. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60380
Catalina|not released Tomcat 8.0.40 (violetagg)|Fix|60387|Correct the javadoc for o.a.catalina.AccessLog.setRequestAttributesEnabled. The default value is different for the different implementations. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60387
Catalina|not released Tomcat 8.0.40 (violetagg)|Code|60393|Use consistent parameter naming in implementations of Realm#authenticate(GSSContext, boolean). (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60393
Catalina|not released Tomcat 8.0.40 (violetagg)|Fix|60395|Log when an Authenticator passes an incomplete GSSContext to a Realm since it indicates a bug in the Authenticator. Patch provided by Michael Osipov. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60395
Catalina|not released Tomcat 8.0.40 (violetagg)|Fix||Correctly generate URLs for resources located inside JARs that are themselves located inside a packed WAR file. (markt)|
Catalina|not released Tomcat 8.0.40 (violetagg)|Fix|60410|Ensure that multiple calls to JarInputStreamWrapper#close() do not incorrectly trigger the closure of the underlying JAR or WAR file. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60410
Catalina|not released Tomcat 8.0.40 (violetagg)|Fix|60411|Implement support in the RewriteValve for symbolic names to specify the redirect code to use when returning a redirect response to the user agent. Patch provided by Michael Osipov. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60411
Catalina|not released Tomcat 8.0.40 (violetagg)|Fix|60413|"In the RewriteValve write empty capture groups as the empty string rather than as ""null"" when generating the re-written URL. Based on a patch by Michael Osipov. (markt)"|https://bz.apache.org/bugzilla/show_bug.cgi?id=60413
Catalina|not released Tomcat 8.0.40 (violetagg)|Update||Update the warnings that reference required options for running on Java 9 to use the latest syntax for those options. (markt)|
Catalina|not released Tomcat 8.0.40 (violetagg)|Fix|60513|Fix thread safety issue with RMI cleanup code. (remm)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60513
Coyote|not released Tomcat 8.0.40 (violetagg)|Fix||Ensure that the endpoint is able to unlock the acceptor thread during shutdown if the endpoint is configured to listen to any local address of a specific type such as 0.0.0.0 or ::. (markt)|
Coyote|not released Tomcat 8.0.40 (violetagg)|Fix||Prevent read time out when the file is deleted while serving the response. The issue was observed only with APR Connector and sendfile enabled. (violetagg)|
Coyote|not released Tomcat 8.0.40 (violetagg)|Fix||Improve the logic that selects an address to use to unlock the Acceptor to take account of platforms what do not listen on all local addresses when configured with an address of 0.0.0.0 or ::. (markt)|
Coyote|not released Tomcat 8.0.40 (violetagg)|Fix|60409|When unable to complete sendfile request, ensure the Processor will be added to the cache only once. (markt/violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60409
Jasper|not released Tomcat 8.0.40 (violetagg)|Fix|60431|Improve handling of varargs in UEL expressions. Based on a patch by Ben Wolfe. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60431
Jasper|not released Tomcat 8.0.40 (violetagg)|Fix|60497|Restore previous tag reuse behavior following the use of try/finally. (remm)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60497
Jasper|not released Tomcat 8.0.40 (violetagg)|Fix||Improve the error handling for simple tags to ensure that the tag is released and destroyed once used. (remm)|
Jasper|not released Tomcat 8.0.40 (violetagg)|Fix|60497|Follow up fix using a better variable name for the tag reuse flag. (remm)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60497
Jasper|not released Tomcat 8.0.40 (violetagg)|Fix||Revert use of try/finally for simple tags. (remm)|
Web applications|not released Tomcat 8.0.40 (violetagg)|Fix||Correct a typo in Host Configuration Reference. Issue reported via comments.apache.org. (violetagg)|
Web applications|not released Tomcat 8.0.40 (violetagg)|Fix|60344|Add a note to BUILDING.txt regarding using the source bundle with the correct line endings. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60344
Web applications|not released Tomcat 8.0.40 (violetagg)|Fix|60412|Add information on the comment syntax for the RewriteValve configuration. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60412
Web applications|not released Tomcat 8.0.40 (violetagg)|Fix|60467|remove problematic characters from XML documentation. Based upon a patch by Michael Osipov. (schultz)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60467
Web applications|not released Tomcat 8.0.40 (violetagg)|Add||In the documentation web application, be explicit that clustering requires a secure network for all of the cluster network traffic. (markt)|
Web applications|not released Tomcat 8.0.40 (violetagg)|Update||Update the ASF logos to the new versions.|
Web applications|not released Tomcat 8.0.40 (violetagg)|Fix|60468|Correct the format of the sample ISO-8601 date used to report the build date for the documentation. Patch provided by Michael Osipov. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60468
Tribes|not released Tomcat 8.0.40 (violetagg)|Fix||Reduce the warning logs for a message received from a different domain in order to avoid excessive log outputs. (kfujino)|
Tribes|not released Tomcat 8.0.40 (violetagg)|Add||Add log message that PING message has received beyond the timeout period. (kfujino)|
Tribes|not released Tomcat 8.0.40 (violetagg)|Fix||When a PING message that beyond the time-out period has been received, make sure that valid member is added to the map membership. (kfujino)|
WebSocket|not released Tomcat 8.0.40 (violetagg)|Fix|60437|Avoid possible handshake overflows in the websocket client. (remm)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60437
jdbc-pool|not released Tomcat 8.0.40 (violetagg)|Add|58816|Implement the statistics of jdbc-pool. The stats infos are borrowedCount, returnedCount, createdCount, releasedCount, reconnectedCount, releasedIdleCount and removeAbandonedCount. (kfujino)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58816
jdbc-pool|not released Tomcat 8.0.40 (violetagg)|Fix|60194|If validationQuery is not specified, connection validation is done by calling the isValid() method. (kfujino)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60194
jdbc-pool|not released Tomcat 8.0.40 (violetagg)|Fix|60398|Fix testcase of TestSlowQueryReport. (kfujino)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60398
jdbc-pool|not released Tomcat 8.0.40 (violetagg)|Add||Enable reset the statistics without restarting the pool. (kfujino)|
Other|not released Tomcat 8.0.40 (violetagg)|Fix|60366|Change catalina.bat to use directly LOGGING_MANAGER and LOGGING_CONFIG variables in order to configure logging, instead of modifying JAVA_OPTS. Patch provided by Petter Isberg. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60366
Other|not released Tomcat 8.0.40 (violetagg)|Add||New property is added test.verbose in order to control whether the output of the tests is displayed on the console or not. Patch provided by Emmanuel Bourg. (violetagg)|
Other|not released Tomcat 8.0.40 (violetagg)|Update||Update the ASF logos used in the Apache Tomcat installer for Windows to use the new versions.|
Other|not released Tomcat 8.0.40 (violetagg)|Fix||Spelling corrections provided by Josh Soref. (violetagg)|
Catalina|2016-11-14 Tomcat 8.0.39 (violetagg)|Fix||When creating a new Connector via JMX, ensure that both HTTP/1.1 and AJP/1.3 connectors can be created. (markt)|
Catalina|2016-11-14 Tomcat 8.0.39 (violetagg)|Fix||Include the Context name in the log message when an item cannot be added to the cache. (markt)|
Catalina|2016-11-14 Tomcat 8.0.39 (violetagg)|Fix||Exclude JAR files in /WEB-INF/lib from the static resource cache. (markt)|
Catalina|2016-11-14 Tomcat 8.0.39 (violetagg)|Fix||When calling getResourceAsStream() on a directory, ensure that null is returned. (markt)|
Catalina|2016-11-14 Tomcat 8.0.39 (violetagg)|Fix|60161|Allow creating subcategories of the container logger, and use it for the rewrite valve. (remm)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60161
Catalina|2016-11-14 Tomcat 8.0.39 (violetagg)|Fix||Correctly test for control characters when reading the provided shutdown password. (markt)|
Catalina|2016-11-14 Tomcat 8.0.39 (violetagg)|Fix||When configuring the JMX remote listener, specify the allowed types for the credentials. (markt)|
Coyote|2016-11-14 Tomcat 8.0.39 (violetagg)|Fix||Correct the HTTP header parser so that DEL is not treated as a valid token character. (markt)|
Coyote|2016-11-14 Tomcat 8.0.39 (violetagg)|Fix|60319|When using an Executor, disconnect it from the Connector attributes maxThreads, minSpareThreads and threadPriority to enable the configuration settings to be consistently reported. These Connector attributes will be reported as -1 when an Executor is in use. The values used by the executor may be set and obtained via the Executor. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60319
Coyote|2016-11-14 Tomcat 8.0.39 (violetagg)|Fix||If an I/O error occurs during async processing on a non-container thread, ensure that the onError() event is triggered. (markt)|
Coyote|2016-11-14 Tomcat 8.0.39 (violetagg)|Fix||Improve detection of I/O errors during async processing on non-container threads and trigger async error handling when they are detected. (markt)|
Coyote|2016-11-14 Tomcat 8.0.39 (violetagg)|Add||Add additional checks for valid characters to the HTTP request line parsing so invalid request lines are rejected sooner. (markt)|
Web applications|2016-11-14 Tomcat 8.0.39 (violetagg)|Fix||Correct a typo in HTTP Connector How-To. Issue reported via comments.apache.org. (violetagg)|
Web applications|2016-11-14 Tomcat 8.0.39 (violetagg)|Fix||Fix default value of validationInterval attribute in jdbc-pool. (kfujino)|
Web applications|2016-11-14 Tomcat 8.0.39 (violetagg)|Fix||Correct a typo in CGI How-To. Issue reported via comments.apache.org. (violetagg)|
Tribes|2016-11-14 Tomcat 8.0.39 (violetagg)|Fix||When the proxy node sends a backup retrieve message, ensure that using the channelSendOptions that has been set rather than the default channelSendOptions. (kfujino)|
Other|2016-11-14 Tomcat 8.0.39 (violetagg)|Update||Update the ECJ compiler to version 4.5.1. (markt)|
Other|2016-11-14 Tomcat 8.0.39 (violetagg)|Fix||Remove classes from tomcat-util-scan.jar that are duplicates of those in tomcat-util.jar. (markt)|
Other|2016-11-14 Tomcat 8.0.39 (violetagg)|Add||Update the NSIS Installer used to build the Windows installer to version 3.0. (markt)|
Catalina|2016-10-10 Tomcat 8.0.38 (markt)|Add|59961|Add an option to the StandardJarScanner to control whether or not JAR Manifests are scanned for additional class path entries. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59961
Catalina|2016-10-10 Tomcat 8.0.38 (markt)|Fix|60013|Refactor the previous fix to align the behaviour of the Rewrite Valve with mod_rewrite. As part of this, provide an implementation for the B and NE flags and improve the handling for the QSA flag. Includes multiple test cases by Santhana Preethiand a patch by Tiago Oliveira. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60013
Catalina|2016-10-10 Tomcat 8.0.38 (markt)|Fix|60087|Refactor the web resources handling to use the Tomcat specific war:file:... URL protocol to refer to WAR files and their contents rather than the standard jar:file:... form since some components of the JRE, such as JAR verification, give unexpected results when the standard form is used. A side-effect of the refactoring is that when using packed WARs, it is now possible to reference a WAR and/or specific JARs within a WAR in the security policy file used when running under a SecurityManager. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60087
Catalina|2016-10-10 Tomcat 8.0.38 (markt)|Fix|60116|Fix a problem with the rewrite valve that caused back references evaluated in conditions to be forced to lower case when using the NC flag. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60116
Catalina|2016-10-10 Tomcat 8.0.38 (markt)|Fix||Ensure Digester.useContextClassLoader is considered in case the class loader is used. (violetagg)|
Catalina|2016-10-10 Tomcat 8.0.38 (markt)|Fix|60117|Ensure that the name of LogLevel is localized when using OneLineFormatter. Patch provided by Tatsuya Bessho. (kfujino)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60117
Catalina|2016-10-10 Tomcat 8.0.38 (markt)|Fix|60146|Improve performance for resource retrieval by making calls to WebResource.getInputStream() trigger caching if the resource is small enough. Patch provided by mohitchugh. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60146
Catalina|2016-10-10 Tomcat 8.0.38 (markt)|Add|60151|Improve the exception error messages when a ResourceLink fails to specify the type, specifies an unknown type or specifies the wrong type. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60151
Catalina|2016-10-10 Tomcat 8.0.38 (markt)|Fix|60167|Ignore empty lines in /etc/passwd files when using the PasswdUserDatabase. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60167
Catalina|2016-10-10 Tomcat 8.0.38 (markt)|Fix|60170|Exclude the compressed test file index.html.br from RAT analysis. Patch provided by Gavin McDonald. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60170
Catalina|2016-10-10 Tomcat 8.0.38 (markt)|Fix||When starting web resources, ensure that class resources are only started once. (markt)|
Catalina|2016-10-10 Tomcat 8.0.38 (markt)|Fix||Improve the access checks for linked global resources to handle the case where the current class loader is a child of the web application class loader. (markt)|
Catalina|2016-10-10 Tomcat 8.0.38 (markt)|Fix|60199|Log a warning if deserialization issues prevent a session attribute from being loaded. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60199
Coyote|2016-10-10 Tomcat 8.0.38 (markt)|Fix||Correctly handle a call to AsyncContext.complete() from a non-container thread when non-blocking I/O is being used. (markt)|
Coyote|2016-10-10 Tomcat 8.0.38 (markt)|Add||Refactor the code that implements the requirement that a call to complete() or dispatch() made from a non-container thread before the container initiated thread that called startAsync() completes must be delayed until the container initiated thread has completed. Rather than implementing this by blocking the non-container thread, extend the internal state machine to track this. This removes the possibility that blocking the non-container thread could trigger a deadlock. (markt)|
Coyote|2016-10-10 Tomcat 8.0.38 (markt)|Fix|60123|Avoid potential threading issues that could cause excessively large vales to be returned for the processing time of a current request. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60123
Coyote|2016-10-10 Tomcat 8.0.38 (markt)|Fix|60174|Log instances of HeadersTooLargeException during request processing. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60174
Jasper|2016-10-10 Tomcat 8.0.38 (markt)|Fix|60101|Remove preloading of the class that was deleted. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60101
Web applications|2016-10-10 Tomcat 8.0.38 (markt)|Add||Expand the documentation for the nested elements within a Resources element to clarify the behaviour of different configuration options with respect to the order in which resources are searched. (markt)|
Web applications|2016-10-10 Tomcat 8.0.38 (markt)|Add||Add an example of using the classesToInitialize attribute of the JreMemoryLeakPreventionListener to the documentation web application. Based on a patch by Cris Berneburg. (markt)|
Web applications|2016-10-10 Tomcat 8.0.38 (markt)|Fix|60192|Correct a typo in the status output of the Manager application. Patch provided by Radhakrishna Pemmasani. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60192
jdbc-pool|2016-10-10 Tomcat 8.0.38 (markt)|Fix||Notify jmx when returning the connection that has been marked suspect. (kfujino)|
jdbc-pool|2016-10-10 Tomcat 8.0.38 (markt)|Fix||Ensure that the POOL_EMPTY notification has been added to the jmx notification types. (kfujino)|
jdbc-pool|2016-10-10 Tomcat 8.0.38 (markt)|Fix|60099|Ensure that use all method arguments as a cache key when using StatementCache. (kfujino)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60099
jdbc-pool|2016-10-10 Tomcat 8.0.38 (markt)|Fix|60139|Correct Javadocs for PoolConfiguration.getValidationInterval and setValidationInterval. Reported by Phillip Webb. (kfujino)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60139
Other|2016-10-10 Tomcat 8.0.38 (markt)|Fix||Update the download location for Objenesis. (violetagg)|
Other|2016-10-10 Tomcat 8.0.38 (markt)|Fix|60164|Replace log4j-core*.jar with log4j-web*.jar since it is log4j-web*.jar that contains the ServletContainerInitializer. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60164
Other|2016-10-10 Tomcat 8.0.38 (markt)|Add||Add documentation to the bin/catalina.bat script to remind users that environment variables don't affect the configuration of Tomcat when run as a Windows Service. Based upon a documentation patch by James H.H. Lampert. (schultz)|
Other|2016-10-10 Tomcat 8.0.38 (markt)|Update||Update the packaged version of the Tomcat Native Library to 1.2.10 to pick up the latest Windows binaries built with OpenSSL 1.0.2j. (markt)|
Catalina|2016-09-05 Tomcat 8.0.37 (markt)|Fix|57705|Add debug logging for requests denied by the remote host and remote address valves and filters. Based on a patch by Graham Leggett. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57705
Catalina|2016-09-05 Tomcat 8.0.37 (markt)|Add|59399|Add a new option to the Realm implementations that ship with Tomcat that allows the HTTP status code used for HTTP -> HTTPS redirects to be controlled per Realm. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59399
Catalina|2016-09-05 Tomcat 8.0.37 (markt)|Update||Change the default of the sessionCookiePathUsesTrailingSlash attribute of the Context element to false since the problems caused when a Servlet is mapped to /* are more significant than the security risk of not enabling this option by default. (markt)|
Catalina|2016-09-05 Tomcat 8.0.37 (markt)|Fix||Do not attempt to start web resources during a web application's initialisation phase since the web application is not fully configured at that point and the web resources may not be correctly configured. (markt)|
Catalina|2016-09-05 Tomcat 8.0.37 (markt)|Fix|59708|Modify the LockOutRealm logic. Valid authentication attempts during the lock out period will no longer reset the lock out timer to zero. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59708
Catalina|2016-09-05 Tomcat 8.0.37 (markt)|Fix||Improve error handling around user code prior to calling InstanceManager.destroy() to ensure that the method is executed. (markt)|
Catalina|2016-09-05 Tomcat 8.0.37 (markt)|Fix|59813|Ensure that circular relations of the Class-Path attribute from JAR manifests will be processed correctly. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59813
Catalina|2016-09-05 Tomcat 8.0.37 (markt)|Fix||Ensure that reading the singleThreadModel attribute of a StandardWrapper via JMX does not trigger initialisation of the associated servlet. With some frameworks this can trigger an unexpected initialisation thread and if initialisation is not thread-safe the initialisation can then fail. (markt)|
Catalina|2016-09-05 Tomcat 8.0.37 (markt)|Fix||Compatibility with rewrite from httpd for non existing headers. (jfclere)|
Catalina|2016-09-05 Tomcat 8.0.37 (markt)|Fix||By default, treat paths used to obtain a request dispatcher as encoded. This behaviour can be changed per web application via the dispatchersUseEncodedPaths attribute of the Context. (markt)|
Catalina|2016-09-05 Tomcat 8.0.37 (markt)|Fix|59839|Apply roleSearchAsUser to all nested searches in JNDIRealm. (fschumacher)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59839
Catalina|2016-09-05 Tomcat 8.0.37 (markt)|Fix|59859|Fix resource leak in WebDAV servlet. Based on patch by Coty Sutherland. (fschumacher)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59859
Catalina|2016-09-05 Tomcat 8.0.37 (markt)|Add||Provide a mechanism that enables the container to check if a component (typically a web application) has been granted a given permission when running under a SecurityManager without the current execution stack having to have passed through the component. Use this new mechanism to extend SecurityManager protection to the system property replacement feature of the digester. (markt)|
Catalina|2016-09-05 Tomcat 8.0.37 (markt)|Add||When retrieving an object via a ResourceLink, ensure that the object obtained is of the expected type. (markt)|
Catalina|2016-09-05 Tomcat 8.0.37 (markt)|Fix|59824|Mark the RewriteValve as supporting async processing by default. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59824
Catalina|2016-09-05 Tomcat 8.0.37 (markt)|Fix|59862|Allow nested jar files scanning to be filtered with the system property tomcat.util.scan.StandardJarScanFilter.jarsToSkip. Patch is provided by Terence Bandoian. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59862
Catalina|2016-09-05 Tomcat 8.0.37 (markt)|Fix|59866|When scanning WEB-INF/classes for annotations, don't scan the contents of WEB-INF/classes/META-INF (if present) since classes will never be loaded from that location. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59866
Catalina|2016-09-05 Tomcat 8.0.37 (markt)|Fix|59888|Correctly handle tabs and spaces in quoted version one cookies when using the Rfc6265CookieProcessor. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59888
Catalina|2016-09-05 Tomcat 8.0.37 (markt)|Fix|59912|Fix an edge case in input stream handling where an IOException could be thrown when reading a POST body. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59912
Catalina|2016-09-05 Tomcat 8.0.37 (markt)|Fix|59960|Fix Javadoc so it builds with Java 8. Patch by Coty Sutherland. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59960
Catalina|2016-09-05 Tomcat 8.0.37 (markt)|Fix|59966|Do not start the web application if the error page configuration in web.xml is invalid. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59966
Catalina|2016-09-05 Tomcat 8.0.37 (markt)|Fix||Switch the CGI servlet to the standard logging mechanism and remove support for the debug attribute. (markt)|
Catalina|2016-09-05 Tomcat 8.0.37 (markt)|Fix||Changes to the allowLinking attribute of a StandardRoot instance now invalidate the cache if caching is enabled. (markt)|
Catalina|2016-09-05 Tomcat 8.0.37 (markt)|Add||Add a new initialisation parameter, envHttpHeaders, to the CGI Servlet to mitigate httpoxy (CVE-2016-5388) by default and to provide a mechanism that can be used to mitigate any future, similar issues. (markt)|https://httpoxy.org
Catalina|2016-09-05 Tomcat 8.0.37 (markt)|Add||When adding and removing ResourceLinks dynamically, ensure that the global resource is only visible via the ResourceLinkFactory when it is meant to be. (markt)|
Catalina|2016-09-05 Tomcat 8.0.37 (markt)|Fix|60008|When processing CORs requests, treat any origin with a URI scheme of file as a valid origin. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60008
Catalina|2016-09-05 Tomcat 8.0.37 (markt)|Fix||Improve handling of exceptions during a Lifecycle events triggered by a state transition. The exception is now caught and the component is now placed into the FAILED state. (markt)|
Catalina|2016-09-05 Tomcat 8.0.37 (markt)|Fix|60013|Fix encoding issues when using the RewriteValve with UTF-8 query strings or UTF-8 redirect URLs. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60013
Catalina|2016-09-05 Tomcat 8.0.37 (markt)|Fix|60022|Improve handling when a WAR file and/or the associated exploded directory are symlinked into the appBase. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60022
Catalina|2016-09-05 Tomcat 8.0.37 (markt)|Fix||Fix a file descriptor leak when reading the global web.xml. (markt)|
Catalina|2016-09-05 Tomcat 8.0.37 (markt)|Fix||Consistently decode URL patterns provided via web.xml using the encoding of the web.xml file where specified or UTF-8 where no explicit encoding is specified. (markt)|
Catalina|2016-09-05 Tomcat 8.0.37 (markt)|Fix||Make timing attacks against the Realm implementations harder. (schultz)|
Coyote|2016-09-05 Tomcat 8.0.37 (markt)|Fix||Improve error handling around user code prior to calling InstanceManager.destroy() to ensure that the method is executed. (markt)|
Coyote|2016-09-05 Tomcat 8.0.37 (markt)|Fix||Extend synchronization for NIO2 writes to avoid ConcurrentModificationException observed during testing. (markt)|
Coyote|2016-09-05 Tomcat 8.0.37 (markt)|Fix|59904|Add a limit (default 200) for the number of cookies allowed per request. Based on a patch by gehui. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59904
Coyote|2016-09-05 Tomcat 8.0.37 (markt)|Fix|59925|Correct regression in r1628368 and ensure that HTTP separators are handled as configured in the LegacyCookieProcessor. Patch provided by Kyohei Nakamura. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59925
Coyote|2016-09-05 Tomcat 8.0.37 (markt)|Fix||OpenSSL now disables 3DES by default so reflect this when using OpenSSL syntax to select ciphers. (markt)|
Jasper|2016-09-05 Tomcat 8.0.37 (markt)|Fix||Improve error handling around user code prior to calling InstanceManager.destroy() to ensure that the method is executed. (markt)|
Jasper|2016-09-05 Tomcat 8.0.37 (markt)|Fix||Improve the error handling for custom tags to ensure that the tag is returned to the pool or released and destroyed once used. (markt)|
Jasper|2016-09-05 Tomcat 8.0.37 (markt)|Fix|60032|Fix handling of method calls that use varargs within EL value expressions. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60032
Jasper|2016-09-05 Tomcat 8.0.37 (markt)|Fix||Ignore engineOptionsClass and scratchdir when running under a security manager. (markt)|
Jasper|2016-09-05 Tomcat 8.0.37 (markt)|Fix||Fixed StringIndexOutOfBoundsException. Based on a patch provided by wuwen via Github. (violetagg)|
WebSocket|2016-09-05 Tomcat 8.0.37 (markt)|Fix||Improve error handling around user code prior to calling InstanceManager.destroy() to ensure that the method is executed. (markt)|
WebSocket|2016-09-05 Tomcat 8.0.37 (markt)|Fix|59908|Ensure that a reason phrase is included in the close message if a session is closed due to a timeout. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59908
Web Applications|2016-09-05 Tomcat 8.0.37 (markt)|Fix||Do not log an additional case of IOExceptions in the error handler for the Drawboard WebSocket example when the root cause is the client disconnecting since the logs add no value. (markt)|
Web Applications|2016-09-05 Tomcat 8.0.37 (markt)|Fix|59642|Mention the localDataSource in the DataSourceRealm section of the Realm How-To. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59642
Web Applications|2016-09-05 Tomcat 8.0.37 (markt)|Fix||Follow-up to the fix for 59399. Ensure that the new attribute transportGuaranteeRedirectStatus is documented for all Realms. Also document the NullRealm and when it is automatically created for an Engine. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59399
Web Applications|2016-09-05 Tomcat 8.0.37 (markt)|Fix||Fix the description of maxAge attribute in jdbc-pool doc. This attribute works both when a connection is returned and when a connection is borrowed. (kfujino)|
Web Applications|2016-09-05 Tomcat 8.0.37 (markt)|Fix|59774|Correct the prefix values in the documented examples for configuring the AccessLogValve. Patch provided by Mike Noordermeer. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59774
Web Applications|2016-09-05 Tomcat 8.0.37 (markt)|Fix|59868|Clarify the documentation for the Manager web application to make clearer that the host name and IP address in the server section are the primary host name and IP address. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59868
Web Applications|2016-09-05 Tomcat 8.0.37 (markt)|Fix||MBeans Descriptors How-To is moved to mbeans-descriptors-howto.html. Patch provided by Radoslav Husar. (violetagg)|
Web Applications|2016-09-05 Tomcat 8.0.37 (markt)|Fix||Update NIO Connector configuration documentation with an information about socket.directSslBuffer. (violetagg)|
Web Applications|2016-09-05 Tomcat 8.0.37 (markt)|Fix|60034|Correct a typo in the Manager How-To page of the documentation web application. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60034
Tribes|2016-09-05 Tomcat 8.0.37 (markt)|Add||Add log message when the ping has timed-out. (kfujino)|
Tribes|2016-09-05 Tomcat 8.0.37 (markt)|Fix||If the ping message has been received at the AbstractReplicatedMap#leftOver method, ensure that notify the member is alive than ignore it. (kfujino)|
jdbc-pool|2016-09-05 Tomcat 8.0.37 (markt)|Fix||Fix the duplicated connection release when connection verification failed. (kfujino)|
jdbc-pool|2016-09-05 Tomcat 8.0.37 (markt)|Fix||Ensure that do not remove the abandoned connection that has been already released. (kfujino)|
jdbc-pool|2016-09-05 Tomcat 8.0.37 (markt)|Fix||In order to avoid the unintended skip of PoolCleaner, remove the check code of the execution interval in the task that has been scheduled. (kfujino)|
jdbc-pool|2016-09-05 Tomcat 8.0.37 (markt)|Fix|59850|Ensure that the ResultSet is closed when enabling the StatementCache interceptor. (kfujino)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59850
jdbc-pool|2016-09-05 Tomcat 8.0.37 (markt)|Fix|59923|Reduce the default value of validationInterval in order to avoid the potential issue that continues to return an invalid connection after database restart. (kfujino)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59923
jdbc-pool|2016-09-05 Tomcat 8.0.37 (markt)|Fix||Ensure that the ResultSet is returned as Proxy object when enabling the StatementDecoratorInterceptor. (kfujino)|
jdbc-pool|2016-09-05 Tomcat 8.0.37 (markt)|Fix|60043|Ensure that the suspectTimeout works without removing connection when the removeAbandoned is disabled. (kfujino)|https://bz.apache.org/bugzilla/show_bug.cgi?id=60043
jdbc-pool|2016-09-05 Tomcat 8.0.37 (markt)|Fix||Add log message of when returning the connection that has been marked suspect. (kfujino)|
jdbc-pool|2016-09-05 Tomcat 8.0.37 (markt)|Fix||Correct Javadoc for ConnectionPool.suspect(). Based on a patch by Yahya Cahyadi. (markt)|
Other|2016-09-05 Tomcat 8.0.37 (markt)|Update|59276|Update optional Checkstyle library to 6.17. (kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59276
Other|2016-09-05 Tomcat 8.0.37 (markt)|Add||Use the mirror network rather than the ASF master site to download the current ASF dependencies. (markt)|
Other|2016-09-05 Tomcat 8.0.37 (markt)|Update||Update the packaged version of the Tomcat Native Library to 1.2.8 to pick up the latest fixes and make 1.2.8 the minimum recommended version. (markt)|
Other|2016-09-05 Tomcat 8.0.37 (markt)|Fix|59899|Update Tomcat's copy of the Java Persistence annotations to include the changes made in 2.1 / JavaEE 7. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59899
Other|2016-09-05 Tomcat 8.0.37 (markt)|Fix||Fixed typos in mbeans-descriptors.xml files. (violetagg)|
Other|2016-09-05 Tomcat 8.0.37 (markt)|Update||Update the internal fork of Commons BCEL to r1757132 to align with the BCEL 6 release. (markt)|
Other|2016-09-05 Tomcat 8.0.37 (markt)|Update||Update the internal fork of Commons DBCP2 to r1757164 to pick up a couple of bug fixes. (markt)|
Other|2016-09-05 Tomcat 8.0.37 (markt)|Update||Update the internal fork of Commons Codec to r1757174. Code formatting changes only. (markt)|
Other|2016-09-05 Tomcat 8.0.37 (markt)|Update||Update the internal fork of Commons FileUpload to afdedc9. This pulls in a fix to improve the performance with large multipart boundaries. (markt)|
Catalina|2016-06-13 Tomcat 8.0.36 (markt)|Fix||RMI Target related memory leaks are avoidable which makes them an application bug that needs to be fixed rather than a JRE bug to work around. Therefore, start logging RMI Target related memory leaks on web application stop. Add an option that controls if the check for these leaks is made. Log a warning if running on Java 9 with this check enabled but without the command line option it requires. (markt)|
Catalina|2016-06-13 Tomcat 8.0.36 (markt)|Fix||Ensure NPE will not be thrown during deployment when scanning jar files without MANIFEST.MF file. (violetagg)|
Catalina|2016-06-13 Tomcat 8.0.36 (markt)|Fix|59604|Correct the assumption made in the URL decoding that the default platform encoding is always compatible with ISO-8859-1. This assumption is not always valid, e.g. on z/OS. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59604
Catalina|2016-06-13 Tomcat 8.0.36 (markt)|Fix|59608|Skip over any invalid Class-Path attribute from JAR manifests. Log errors at debug level due to many bad libraries. (remm)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59608
Catalina|2016-06-13 Tomcat 8.0.36 (markt)|Fix||Fix error message when failed to register MBean. (kfujino)|
Coyote|2016-06-13 Tomcat 8.0.36 (markt)|Fix||Ensure that requests with HTTP method names that are not tokens (as required by RFC 7231) are rejected with a 400 response. (markt)|
Coyote|2016-06-13 Tomcat 8.0.36 (markt)|Fix||When an asynchronous request is processed by the AJP connector, ensure that request processing has fully completed before starting the next request. (markt)|
Coyote|2016-06-13 Tomcat 8.0.36 (markt)|Fix||If an async dispatch results in the completion of request processing, ensure that any remaining request body is swallowed before starting the processing of the next request else the remaining body may be read as the start of the next request leading to a 400 response. (markt)|
Jasper|2016-06-13 Tomcat 8.0.36 (markt)|Fix|59567|Fix NPE scanning webapps for TLDs when an exploded JAR has an empty WEB-INF/classes/META-INF folder. (remm)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59567
Jasper|2016-06-13 Tomcat 8.0.36 (markt)|Fix||Fix a memory leak in the expression language implementation that caused the class loader of the first web application to use expressions to be pinned in memory. (markt)|
Jasper|2016-06-13 Tomcat 8.0.36 (markt)|Fix|59640|NPEs with not found TLDs. (remm)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59640
Jasper|2016-06-13 Tomcat 8.0.36 (markt)|Fix|59654|Improve error message when attempting to use a TLD file from an invalid location. Patch provided by Huxing Zhang. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59654
Web applications|2016-06-13 Tomcat 8.0.36 (markt)|Fix|58891|Update the SSL how-to. Based on a suggestion by Alexander Kjäll. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58891
jdbc-pool|2016-06-13 Tomcat 8.0.36 (markt)|Fix||Fix a memory leak with the pool cleaner thread that retained a reference to the web application class loader for the first web application to use a connection pool. (markt)|
Other|2016-06-13 Tomcat 8.0.36 (markt)|Update||Update the internal fork of Commons DBCP 2 to r1743696 (2.1.1 plus additional fixes). (markt)|
Other|2016-06-13 Tomcat 8.0.36 (markt)|Update||Update the internal fork of Commons Pool 2 to r1743697 (2.4.2 plus additional fixes). (markt)|
Other|2016-06-13 Tomcat 8.0.36 (markt)|Update||Update the internal fork of Commons File Upload to r1743698 (1.3.1 plus additional fixes). (markt)|
Other|2016-06-13 Tomcat 8.0.36 (markt)|Update||Update the option code coverage tool Cobertura to 2.1.1 so it is easier to compare the change in lines of code between 8.0.x and 9.0.x. (markt)|
Other|2016-06-13 Tomcat 8.0.36 (markt)|Fix|58626|Add support for a new environment variable (USE_NOHUP) that causes nohup to be used when starting Tomcat. It is disabled by default except on HP-UX where it is enabled by default since it is required when starting Tomcat at boot on HP-UX. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58626
Catalina|2016-05-16 Tomcat 8.0.35 (markt)|Fix||Ensure that annotated web components packed in web fragments will be processed when unpackWARs is enabled. (violetagg)|
Catalina|not released Tomcat 8.0.34 (markt)|Fix|59206|Ensure NPE will not be thrown by o.a.tomcat.util.file.ConfigFileLoader when catalina.base is not specified. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59206
Catalina|not released Tomcat 8.0.34 (markt)|Fix|59217|Remove duplication in the recycling of the path in o.a.tomcat.util.http.ServerCookie. Patch is provided by Kyohei Nakamura. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59217
Catalina|not released Tomcat 8.0.34 (markt)|Fix|59213|Async dispatches should be based off a wrapped request. (remm)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59213
Catalina|not released Tomcat 8.0.34 (markt)|Fix||Ensure that javax.servlet.ServletRequest and javax.servlet.ServletResponse provided during javax.servlet.AsyncListener registration are made available via javax.servlet.AsyncEvent.getSuppliedRequest and javax.servlet.AsyncEvent.getSuppliedResponse (violetagg)|
Catalina|not released Tomcat 8.0.34 (markt)|Fix|59219|Ensure AsyncListener.onError() is called if an Exception is thrown during async processing. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59219
Catalina|not released Tomcat 8.0.34 (markt)|Fix|59220|Ensure that AsyncListener.onComplete() is called if the async request times out and the response is already committed. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59220
Catalina|not released Tomcat 8.0.34 (markt)|Fix|59226|Process the Class-Path attribute from JAR manifests for JARs on the class path excluding JARs packaged in WEB-INF/lib. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59226
Catalina|not released Tomcat 8.0.34 (markt)|Fix|59255|Fix possible NPE in mapper. (kkolinko/remm)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59255
Catalina|not released Tomcat 8.0.34 (markt)|Fix|59256|slf4j-taglib*.jar should not be excluded from the standard JAR scanning by default. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59256
Catalina|not released Tomcat 8.0.34 (markt)|Fix||Clarify in the log message that specifying both urlPatterns and value attributes in WebServlet and WebFilter annotations is not allowed. (violetagg)|
Catalina|not released Tomcat 8.0.34 (markt)|Fix||Ensure the exceptions caused by Valves will be available in the log files so that they can be evaluated when o.a.catalina.valves.ErrorReportValve.showReport is disabled. Patch is provided by Svetlin Zarev. (violetagg)|
Catalina|not released Tomcat 8.0.34 (markt)|Fix||Fix handling of Cluster Receiver in StoreConfig. The bind and host attributes define as TransientAttribute. (kfujino)|
Catalina|not released Tomcat 8.0.34 (markt)|Fix|59261|ServletRequest.getAsyncContext() now throws an IllegalStateException as required by the Servlet specification if the request is not in asynchronous mode when called. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59261
Catalina|not released Tomcat 8.0.34 (markt)|Fix|59269|Correct the implementation of PersistentManagerBase so that minIdleSwap functions as designed and sessions are swapped out to keep the active session count below maxActiveSessions. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59269
Catalina|not released Tomcat 8.0.34 (markt)|Fix|59247|Preload ResourceEntry as a workaround for security manager issues on some JVMs. (kkolinko/remm)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59247
Catalina|not released Tomcat 8.0.34 (markt)|Fix||Correctly configure the base path for a resources directory provided by an expanded JAR file. Patch provided by hengyunabc. (markt)|
Catalina|not released Tomcat 8.0.34 (markt)|Fix||Ensure that /WEB-INF/classes is never processed as a web fragment. (markt)|
Catalina|not released Tomcat 8.0.34 (markt)|Fix|59310|Do not add a Content-Length: 0 header for custom responses to HEAD requests that do not set a Content-Length value. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59310
Catalina|not released Tomcat 8.0.34 (markt)|Add||Make a web application's CredentialHandler available through a context attribute. This allows a web application to use the same algorithm for validating or generating new stored credentials from cleartext ones. (schultz)|
Catalina|not released Tomcat 8.0.34 (markt)|Fix||When normalizing paths, improve the handling when paths end with /. or /.. and ensure that input and output are consistent with respect to whether or not they end with /. (markt)|
Catalina|not released Tomcat 8.0.34 (markt)|Fix|59317|Ensure that HttpServletRequest.getRequestURI() returns an encoded URI rather than a decoded URI after a dispatch. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59317
Catalina|not released Tomcat 8.0.34 (markt)|Fix||Use the correct URL for the fragment when reporting errors processing a web-fragment.xml file from a JAR located in an unpacked WAR. (markt)|
Catalina|not released Tomcat 8.0.34 (markt)|Fix||Ensure that JarScanner only uses the explicit call-back to process WEB-INF/classes and only when configured to treat the contents of WEB-INF/classes as a possible exploded JAR. (markt)|
Catalina|not released Tomcat 8.0.34 (markt)|Code||Remove the java2DDisposerProtection option from the JreMemoryLeakPreventionListener. The leak is fixed in Java 7 onwards and Tomcat 8 requires Java 7 so the option is unnecessary. (markt)|
Catalina|not released Tomcat 8.0.34 (markt)|Fix||Ensure that the value for the header X-Frame-Options is constructed correctly according to the specification when ALLOW-FROM option is used. (violetagg)|
Catalina|not released Tomcat 8.0.34 (markt)|Fix|59449|In ContainerBase, ensure that the process to remove a child container is the reverse of the process to add one. Patch provided by Huxing Zhang. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59449
Coyote|not released Tomcat 8.0.34 (markt)|Fix||When running on Java 7, exclude DHE ciphers from the default cipher list for JSSE connectors since they use weak 768 bit DH keys and cannot be configured to use more secure keys. (markt)|
Coyote|not released Tomcat 8.0.34 (markt)|Add||Add a new environment variable JSSE_OPTS that is intended to be used to pass JVM wide configuration to the JSSE implementation. The default value is -Djdk.tls.ephemeralDHKeySize=2048 which protects against weak Diffie-Hellman keys with Java 8. (markt)|
Coyote|not released Tomcat 8.0.34 (markt)|Update||Exclude ciphers that use RSA keys from the default cipher list since they do not support forward secrecy. (markt)|
Coyote|not released Tomcat 8.0.34 (markt)|Fix|58970|Fix a connection counting bug in the NIO connector that meant some dropped connections were not removed from the current connection count. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58970
Coyote|not released Tomcat 8.0.34 (markt)|Fix|59289|Do not recycle upgrade processors in unexpected close situations. (remm)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59289
Coyote|not released Tomcat 8.0.34 (markt)|Fix|59295|Use Locale.toLanguageTag() to construct the Content-Language HTTP header to ensure the locale is correctly represented. Patch provided by zikfat. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59295
Coyote|not released Tomcat 8.0.34 (markt)|Fix|59451|Correct Javadoc for MessageBytes. Patch provided by Kyohei Nakamura. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59451
Coyote|not released Tomcat 8.0.34 (markt)|Fix|59450|Correctly handle the case where the LegacyCookieProcessor is configured with allowHttpSepsInV0 set to false and forwardSlashIsSeparator set to true. Patch provided by Kyohei Nakamura. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59450
Jasper|not released Tomcat 8.0.34 (markt)|Fix||When scanning JARs for TLDs, correctly handle the (rare) case where a JAR has been exploded into WEB-INF/classes and the web application is deployed as a packed WAR. (markt)|
WebSocket|not released Tomcat 8.0.34 (markt)|Fix||Ensure that a client disconnection triggers the error handling for the associated WebSocket end point. (markt)|
WebSocket|not released Tomcat 8.0.34 (markt)|Add||Make WebSocket client more robust when handling errors during the close of a WebSocket session. (markt)|
Web applications|not released Tomcat 8.0.34 (markt)|Fix||Update in the documentation the link to the maven repository where Tomcat snapshot artifacts are deployed. (markt/violetagg)|
Web applications|not released Tomcat 8.0.34 (markt)|Fix||Clarify in the documentation that calls to ServletContext.log(String, Throwable) or GenericServlet.log(String, Throwable) are logged at the SEVERE level. (violetagg)|
Web applications|not released Tomcat 8.0.34 (markt)|Fix||Correct a typo in SSL/TLS Configuration How-To. Issue reported via comments.apache.org. (violetagg)|
Tribes|not released Tomcat 8.0.34 (markt)|Fix||Avoid NPE when a proxy node failed to retrieve a backup entry. (kfujino)|
Tribes|not released Tomcat 8.0.34 (markt)|Add||Add log of when received an unexpected messages. (kfujino)|
Tribes|not released Tomcat 8.0.34 (markt)|Add||Add the flag indicating that member is a localMember. (kfujino)|
Tribes|not released Tomcat 8.0.34 (markt)|Fix||Fix potential NPE that depends on the setting order of attributes of static member when using the static cluster. (kfujino)|
Tribes|not released Tomcat 8.0.34 (markt)|Add||Add get/set method for the channel that is related to ChannelInterceptorBase. (kfujino)|
Tribes|not released Tomcat 8.0.34 (markt)|Fix||As with the multicast cluster environment, in the static cluster environment, the local member inherits properties from the cluster receiver. (kfujino)|
Tribes|not released Tomcat 8.0.34 (markt)|Add||Add get/set method for the channel that is related to each Channel services. (kfujino)|
Tribes|not released Tomcat 8.0.34 (markt)|Add||"Add name to channel in order to identify channels. In tomcat cluster environment, it is set the cluster name + ""-Channel"" as default value. (kfujino)"|
Tribes|not released Tomcat 8.0.34 (markt)|Add||Add the channel name to the thread which is invoked by channel services in order to identify the associated channel. (kfujino)|
Tribes|not released Tomcat 8.0.34 (markt)|Fix||Ensure that clear the channel instance from channel services when stopping channel. (kfujino)|
Tribes|not released Tomcat 8.0.34 (markt)|Add||Implement map state in the replication map. (kfujino)|
Tribes|not released Tomcat 8.0.34 (markt)|Fix||Ensure that the ping is not executed during the start/stop of the replication map. (kfujino)|
Tribes|not released Tomcat 8.0.34 (markt)|Fix||In ping processing in the replication map, send not the INIT message but the newly introduced PING message. (kfujino)|
Other|not released Tomcat 8.0.34 (markt)|Fix|59211|Add hamcrest to Eclipse classpath. Patch is provided by Huxing Zhang. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59211
Other|not released Tomcat 8.0.34 (markt)|Update|59280|Update the NSIS Installer used to build the Windows Installers to version 2.51. (kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59280
Other|not released Tomcat 8.0.34 (markt)|Update||Update the packaged version of the Tomcat Native Library to 1.2.7 to pick up the Windows binaries that are based on OpenSSL 1.0.2h and APR 1.5.2. (markt)|
Catalina|2016-03-24 Tomcat 8.0.33 (markt)|Fix||Correct a regression in the fix for 58867. When configuring a Context to use an external directory for the docBase, and that directory happens to be located along side the original WAR, use the directory as the docBase rather than expanding the WAR into the appBase and using the newly created expanded directory as the docBase. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58867
Catalina|2016-03-24 Tomcat 8.0.33 (markt)|Add|58351|Make the server build date and server version number accessible via JMX. Patch provided by Huxing Zhang. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58351
Catalina|2016-03-24 Tomcat 8.0.33 (markt)|Add|58988|Special characters in the substitutions for the RewriteValve can now be quoted with a backslash. (fschumacher)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58988
Catalina|2016-03-24 Tomcat 8.0.33 (markt)|Fix|58999|"Fix class and resource name filtering in WebappClassLoader. It throws a StringIndexOutOfBoundsException if the name is exactly ""org"" or ""javax"". (rjung)"|https://bz.apache.org/bugzilla/show_bug.cgi?id=58999
Catalina|2016-03-24 Tomcat 8.0.33 (markt)|Code||Remove unnecessary code. There is no support for context level cluster. (kfujino)|
Catalina|2016-03-24 Tomcat 8.0.33 (markt)|Add||Make checking for var and map replacement in RewriteValve a bit stricter and correct detection of colon in var replacement. (fschumacher)|
Catalina|2016-03-24 Tomcat 8.0.33 (markt)|Fix||Fix the type of InstanceManager attribute of mbean definition of StandardContext. (kfujino)|
Catalina|2016-03-24 Tomcat 8.0.33 (markt)|Fix||Refactor the web application class loader to reduce the impact of JAR scanning on the memory footprint of the web application. (markt)|
Catalina|2016-03-24 Tomcat 8.0.33 (markt)|Fix||Fix some resource leaks in the error handling for accessing files from JARs and WARs. (markt)|
Catalina|2016-03-24 Tomcat 8.0.33 (markt)|Fix||Refactor the JAR and JAR-in-WAR resource handling to reduce the memory footprint of the web application. (markt)|
Catalina|2016-03-24 Tomcat 8.0.33 (markt)|Fix|57809|Deprecate the custom context attribute org.apache.tomcat.util.scan.MergedWebXml which will be removed in Tomcat 9. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57809
Catalina|2016-03-24 Tomcat 8.0.33 (markt)|Fix|59001|Correctly handle the case when Tomcat is installed on a path where one of the segments ends in an exclamation mark. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59001
Catalina|2016-03-24 Tomcat 8.0.33 (markt)|Fix||Expand the fix for 59001 to cover the special sequences used in Tomcat's custom jar:war: URLs. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59001
Catalina|2016-03-24 Tomcat 8.0.33 (markt)|Fix|59043|Avoid warning while expiring sessions associated with a single sign on if HttpServletRequest.logout() is used. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59043
Catalina|2016-03-24 Tomcat 8.0.33 (markt)|Fix|59054|Ensure that using the CrawlerSessionManagerValve in a distributed environment does not trigger an error when the Valve registers itself in the session. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59054
Catalina|2016-03-24 Tomcat 8.0.33 (markt)|Fix||Storeconfig handling of alternate cookie processors. (markt/remm)|
Catalina|2016-03-24 Tomcat 8.0.33 (markt)|Fix||Storeconfig handling for socket properties. (remm)|
Catalina|2016-03-24 Tomcat 8.0.33 (markt)|Add||Log a warning message if a user tries to configure the default session timeout via the deprecated (and ignored) Manager.setMaxInactiveInterval() method. (markt)|
Catalina|2016-03-24 Tomcat 8.0.33 (markt)|Fix||Fix incorrect parsing of the NE and NC flags in rewrite rules. (remm)|
Catalina|2016-03-24 Tomcat 8.0.33 (markt)|Fix|59065|Correct the timing of the check for colons in paths on non-Windows systems implemented in catalina.sh so it works correctly with Cygwin. Patch provided by Ed Randall. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59065
Catalina|2016-03-24 Tomcat 8.0.33 (markt)|Fix||When a Host is configured with an appBase that does not exist, create the appBase before trying to expand an external WAR file into it. (markt)|
Catalina|2016-03-24 Tomcat 8.0.33 (markt)|Fix|59115|When using the Servlet 3.0 file upload, the submitted file name may be provided as a token or a quoted-string. If a quoted-string, unquote the string before returning it to the user. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59115
Catalina|2016-03-24 Tomcat 8.0.33 (markt)|Fix|59123|Close NamingEnumeration objects used by the JNDIRealm once they are no longer required. (fschumacher/markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59123
Catalina|2016-03-24 Tomcat 8.0.33 (markt)|Fix|59138|Correct a false positive warning for ThreadLocal related memory leaks when the key class but not the value class has been loaded by the web application class loader. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59138
Catalina|2016-03-24 Tomcat 8.0.33 (markt)|Fix|59145|Don't log an invalid warning when a user logs out of a session associated with SSO. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59145
Catalina|2016-03-24 Tomcat 8.0.33 (markt)|Fix|59151|Fix a regression in the fix for 56917 that added additional (and arguably unnecessary) validation to the provided redirect location. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59151
Catalina|2016-03-24 Tomcat 8.0.33 (markt)|Fix|59154|Fix a NullPointerException in the JASSMemoryLoginModue resulting from the introduction of the CredentialHandler to Realms. (schultz/markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59154
Coyote|2016-03-24 Tomcat 8.0.33 (markt)|Fix|58646|Correct a problem with sendfile that resulted in a Processor being added to the cache twice leading to broken responses. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58646
Coyote|2016-03-24 Tomcat 8.0.33 (markt)|Fix|59015|Fix potential cause of endless APR Poller loop during shutdown if the Poller experiences an error during the shutdown process. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59015
Coyote|2016-03-24 Tomcat 8.0.33 (markt)|Fix||Align cipher aliases for kECDHE and ECDHE with the current OpenSSL implementation. (markt)|
Coyote|2016-03-24 Tomcat 8.0.33 (markt)|Fix|59081|Retain the user defined cipher order when defining ciphers using the OpenSSL format. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59081
Coyote|2016-03-24 Tomcat 8.0.33 (markt)|Fix|59089|Correctly ignore HTTP headers that include non-token characters in the header name. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59089
Coyote|2016-03-24 Tomcat 8.0.33 (markt)|Add||Add support for additional OpenSSL cipher aliases from OpenSSL master when specifying ciphers using the OpenSSL syntax. (markt)|
Jasper|2016-03-24 Tomcat 8.0.33 (markt)|Fix|57583|Improve the performance of javax.servlet.jsp.el.ScopedAttributeELResolver when resolving attributes that do not exist. This improvement only works when Jasper is used with with Tomcat's EL implementation. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57583
Jasper|2016-03-24 Tomcat 8.0.33 (markt)|Update|58111|Update to the Eclipse JDT Compiler 4.5. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58111
Jasper|2016-03-24 Tomcat 8.0.33 (markt)|Add||Add Java 9 support for JSPs. (markt)|
WebSocket|2016-03-24 Tomcat 8.0.33 (markt)|Fix|59014|Ensure that a WebSocket close message can be sent after a close message has been received. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59014
WebSocket|2016-03-24 Tomcat 8.0.33 (markt)|Fix||Correctly handle compression of partial messages when the final message fragment has a zero length payload. (markt)|
WebSocket|2016-03-24 Tomcat 8.0.33 (markt)|Fix|59119|Correct read logic for WebSocket client when using secure connections. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59119
WebSocket|2016-03-24 Tomcat 8.0.33 (markt)|Fix|59134|Correct client connect logic for secure connections made through a proxy. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59134
WebSocket|2016-03-24 Tomcat 8.0.33 (markt)|Fix|59189|Explicitly release the native memory held by the Inflater and Deflater when using PerMessageDeflate and the WebSocket session ends. Based on a patch by Henrik Olsson. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59189
Web applications|2016-03-24 Tomcat 8.0.33 (markt)|Fix||Correct an error in the documentation of the expected behaviour for automatic deployment. If a WAR is updated and an expanded directory is present, the directory will always be deleted and recreated by expanding the WAR if unpackWARs is true. (markt)|
Web applications|2016-03-24 Tomcat 8.0.33 (markt)|Fix|58935|Remove incorrect references in the documentation to using jar:file: URLs with the Manager application. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58935
Web applications|2016-03-24 Tomcat 8.0.33 (markt)|Fix||Correct the description of the ServletRequest.getServerPort() in Proxy How-To. Issue reported via comments.apache.org. (violetagg)|
Web applications|2016-03-24 Tomcat 8.0.33 (markt)|Fix||Fix a potential indefinite wait in the Comet Chat servlet in the examples web application. (markt)|
Tribes|2016-03-24 Tomcat 8.0.33 (markt)|Fix||If promoting a proxy node to a primary node when getting a session, notify the change of the new primary node to the original backup node. (kfujino)|
Other|2016-03-24 Tomcat 8.0.33 (markt)|Fix|58283|Change the default download location for libraries during the build process from /usr/share/java to ${user.home}/temp. Patch provided by Ahmed Hosni. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58283
Other|2016-03-24 Tomcat 8.0.33 (markt)|Fix|59031|When using the Windows uninstaller, do not remove the contents of any directories that have been symlinked into the Tomcat directory structure. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=59031
Other|2016-03-24 Tomcat 8.0.33 (markt)|Update||Update the packaged version of the Tomcat Native Library to 1.2.5 to pick up the Windows binaries that are based on OpenSSL 1.0.2g and APR 1.5.1. (markt)|
Other|2016-03-24 Tomcat 8.0.33 (markt)|Update||Modify the default tomcat-users.xml file to make it harder for users to configure the entries intended for use with the examples web application for the Manager application. (markt)|
General|2016-02-08 Tomcat 8.0.32 (markt)|Add||Allow to configure multiple JUnit test class patterns with the build property test.name and document the property in BUILDING.txt. (rjung)|
General|2016-02-08 Tomcat 8.0.32 (markt)|Fix|58768|Log a warning if a redirect fails because of an invalid location. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58768
Catalina|2016-02-08 Tomcat 8.0.32 (markt)|Fix||Fix class loader decision on the delegation for class loading and resource lookup and make it faster too. (rjung)|
Catalina|2016-02-08 Tomcat 8.0.32 (markt)|Fix|58946|Ensure that the request parameter map remains immutable when processing via a RequestDispatcher. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58946
Catalina|2016-02-08 Tomcat 8.0.32 (markt)|Fix|58827|Deprecate what is left of the JSR 77 implementation. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58827
Catalina|2016-02-08 Tomcat 8.0.32 (markt)|Fix|58905|Ensure that Tomcat.silence() silences the correct logger and respects the current setting. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58905
Coyote|2016-02-08 Tomcat 8.0.32 (markt)|Add||New configuration option ajpFlush for the AJP connectors to disable the sending of AJP flush packets. (rjung)|
Cluster|2016-02-08 Tomcat 8.0.32 (markt)|Fix||Correct a regression in the session attribute filtering that prevented clustering from starting in the default configuration. (kfujino)|
WebSocket|2016-02-08 Tomcat 8.0.32 (markt)|Fix||Fix a timing issue on session close that could result in an exception being thrown for an incomplete message even through the message was completed. (markt)|
Catalina|not released Tomcat 8.0.31 (markt)|Fix||Correct implementation of validateClientProvidedNewSessionId so client provided session IDs may be rejected if validation is enabled. (markt)|
Catalina|not released Tomcat 8.0.31 (markt)|Fix||Add path parameter handling to HttpServletRequest.getContextPath(). This is a follow-up to the fix for 57215. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57215
Catalina|not released Tomcat 8.0.31 (markt)|Fix|58692|Make StandardJarScanner more robust. Log a warning if a class path entry cannot be scanned rather than triggering the failure of the web application. Includes a test case written by Derek Abdine. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58692
Catalina|not released Tomcat 8.0.31 (markt)|Fix|58701|Reset the instanceInitialized field in StandardWrapper when unloading a Servlet so that a new instance may be correctly initialized. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58701
Catalina|not released Tomcat 8.0.31 (markt)|Fix|58702|Ensure an access log entry is generated if the client aborts the connection. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58702
Catalina|not released Tomcat 8.0.31 (markt)|Fix||Fixed various issues reported by Findbugs. (violetagg)|
Catalina|not released Tomcat 8.0.31 (markt)|Fix|58735|Add support for the X-XSS-Protection header to the HttpHeaderSecurityFilter. Patch provided by Jacopo Cappellato. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58735
Catalina|not released Tomcat 8.0.31 (markt)|Fix|58751|Correctly handle the case where an AsyncListener dispatches to a Servlet on an asynchronous timeout and the Servlet uses sendError() to trigger an error page. Includes a test case based on code provided by Andy Wilkinson.(markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58751
Catalina|not released Tomcat 8.0.31 (markt)|Fix|58765|Change default for mapperContextRootRedirectEnabled to true since this is required for correct session management because of the default for sessionCookiePathUsesTrailingSlash. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58765
Catalina|not released Tomcat 8.0.31 (markt)|Fix||Add the StatusManagerServlet to the list of Servlets that can only be loaded by privileged applications. (markt)|
Catalina|not released Tomcat 8.0.31 (markt)|Fix||Simplify code and fix messages in org.apache.catalina.core.DefaultInstanceManager class. (kkolinko)|
Catalina|not released Tomcat 8.0.31 (markt)|Code||Deprecate InstanceListener, InstanceEvent and InstanceSupport prior to removal in 9.0.x. (markt)|
Catalina|not released Tomcat 8.0.31 (markt)|Fix||Ensure that the proper file encoding if specified will be used when a readme file is served by DefaultServlet. (violetagg)|
Catalina|not released Tomcat 8.0.31 (markt)|Fix||Fix declaration of localPort attribute of Connector MBean: it is read-only. (kkolinko)|
Catalina|not released Tomcat 8.0.31 (markt)|Fix|58766|Make skipping non-class files during annotation scanning faster by checking the file name first. Improve debug logging. (kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58766
Catalina|not released Tomcat 8.0.31 (markt)|Fix|58809|Correctly recycle cookies when mapping requests for parallel deployment. As a side-effect of this fix, the system property org.apache.tomcat.util.http.ServerCookie.PRESERVE_COOKIE_HEADER is no longer used. From this release, Tomcat will always preserve the cookie header. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58809
Catalina|not released Tomcat 8.0.31 (markt)|Fix|58836|Correctly merge query string parameters when processing a forwarded request where the target includes a query string that contains a parameter with no value. (markt/kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58836
Catalina|not released Tomcat 8.0.31 (markt)|Fix||Make sure that shared Digester is reset in an unlikely error case in HostConfig.deployWAR(). (kkolinko)|
Catalina|not released Tomcat 8.0.31 (markt)|Fix|58867|Improve checking on Host start for WAR files that have been modified while Tomcat has stopped and re-expand them if unpackWARs is true. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58867
Catalina|not released Tomcat 8.0.31 (markt)|Fix||Fix a potential JDBC resource leak in DataSourceRealm. (schultz)|
Catalina|not released Tomcat 8.0.31 (markt)|Fix|58900|Correctly undeploy symlinked resources and prevent an infinite cycle of deploy / undeploy. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58900
Catalina|not released Tomcat 8.0.31 (markt)|Fix||Protect initialization of ResourceLinkFactory when running with a SecurityManager. (kkolinko)|
Catalina|not released Tomcat 8.0.31 (markt)|Add||Extend the feature available in the cluster session manager implementations that enables session attribute replication to be filtered based on attribute name to all session manager implementations. Note that configuration attribute name has changed from sessionAttributeFilter to sessionAttributeNameFilter. Apply the filter on load as well as unload to ensure that configuration changes made while the web application is stopped are applied to any persisted data. (markt)|
Catalina|not released Tomcat 8.0.31 (markt)|Add||Extend the session attribute filtering options to include filtering based on the implementation class of the value and optional WARN level logging if an attribute is filtered. These options are available for all of the Manager implementations that ship with Tomcat. When a SecurityManager is used filtering will be enabled by default. (markt)|
Jasper|not released Tomcat 8.0.31 (markt)|Fix||Fix handling of missing messages in org.apache.el.util.MessageFactory. (violetagg)|
Cluster|not released Tomcat 8.0.31 (markt)|Fix||In order to avoid that the heartbeat thread and the background thread to run Channel.heartbeat simultaneously, if heartbeatBackgroundEnabled of SimpleTcpCluster set to true, ensure that the heartbeat thread does not start. (kfujino)|
Cluster|not released Tomcat 8.0.31 (markt)|Code||Simplify the code of JvmRouteBinderValve.startInternal(). Avoid potential NPE when JvmRouteBinderValve is configured directly at Engine element. (kfujino)|
WebSocket|not released Tomcat 8.0.31 (markt)|Fix|57489|Ensure onClose() is called when a WebSocket connection is closed even if the sending of the close message fails. Includes test cases by Barry Coughlan. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57489
Web Applications|not released Tomcat 8.0.31 (markt)|Add||Add a description of the default value of heartbeatSleeptime attribute and optionCheck attribute in the cluster channel docs. (kfujino)|
Web Applications|not released Tomcat 8.0.31 (markt)|Fix||Correct some typos in the JNDI resources How-To. (markt)|
Web Applications|not released Tomcat 8.0.31 (markt)|Fix||Don't create sessions unnecessarily in the Manager application. (markt)|
Web Applications|not released Tomcat 8.0.31 (markt)|Fix||Don't create sessions unnecessarily in the Host Manager application. (markt)|
Web Applications|not released Tomcat 8.0.31 (markt)|Fix|58723|Clarify documentation and error messages for the text interface of the manager to make clear that version must be used with path when referencing contexts deployed using parallel deployment. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58723
Tribes|not released Tomcat 8.0.31 (markt)|Fix||Fix potential NPE in AbstractReplicatedMap.breakdown(). (kfujino)|
Tribes|not released Tomcat 8.0.31 (markt)|Fix||Add support for the startup notification of local members in the static cluster. (kfujino)|
Tribes|not released Tomcat 8.0.31 (markt)|Fix||Ignore the unnecessary member remove operation from different domain. (kfujino)|
Tribes|not released Tomcat 8.0.31 (markt)|Fix||Add support for the shutdown notification of local members in the static cluster. (kfujino)|
Tribes|not released Tomcat 8.0.31 (markt)|Fix||Ensure that asynchronous session replication thread is a daemon thread. (kfujino)|
Other|not released Tomcat 8.0.31 (markt)|Update||Remove native code (Windows Service Wrapper, APR/native connector) support for Windows Itanium. (markt)|
Other|not released Tomcat 8.0.31 (markt)|Update||Update the packaged version of the Tomcat Native Library to 1.2.4 to pick up the Windows binaries that are based on OpenSSL 1.0.2e and APR 1.5.1. (markt)|
Other|not released Tomcat 8.0.31 (markt)|Update||Update the NSIS Installer used to build the Windows Installers to version 2.50. (markt/kkolinko)|
Other|not released Tomcat 8.0.31 (markt)|Update||Update optional Checkstyle library to 6.14.1. (kkolinko)|
Catalina|2015-12-06 Tomcat 8.0.30 (markt)|Fix|34319|Only load those keys in StoreBase.processExpire from JDBCStore, that are old enough, to be expired. Based on a patch by Tom Anderson. (fschumacher)|https://bz.apache.org/bugzilla/show_bug.cgi?id=34319
Catalina|2015-12-06 Tomcat 8.0.30 (markt)|Add|56917|As per RFC7231 (HTTP/1.1), allow HTTP/1.1 and later redirects to use relative URIs. This is controlled by a new attribute useRelativeRedirects on the Context and defaults to true. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56917
Catalina|2015-12-06 Tomcat 8.0.30 (markt)|Fix|58629|Allow an embedded Tomcat instance to start when the Service has no Engine configured. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58629
Catalina|2015-12-06 Tomcat 8.0.30 (markt)|Fix|58635|Enable break points to be set within agent code when running Tomcat with a Java agent. Based on a patch by Huxing Zhang. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58635
Catalina|2015-12-06 Tomcat 8.0.30 (markt)|Fix|58660|Correct a regression in 8.0.29 caused by the change that moved the redirection for context roots from the Mapper to the Default Servlet. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58660
Catalina|2015-12-06 Tomcat 8.0.30 (markt)|Fix||Fixed potential NPE in HostConfig while deploying an application. Issue reported by coverity scan. (violetagg)|
Catalina|2015-12-06 Tomcat 8.0.30 (markt)|Fix|58655|Fix an IllegalStateException when calling HttpServletResponse.sendRedirect() with the RemoteIpFilter. This was caused by trying to correctly generate the absolute URI for the redirect. With the fix for 56917, redirects may now be relative making the sendRedirect() implementation for the RemoteIpFilter much simpler. This also addresses issues where the redirect may not have behaved as expected when redirecting from http to https to from https to http. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58655
Catalina|2015-12-06 Tomcat 8.0.30 (markt)|Fix|58657|Exceptions in a Servlet 3.1 ReadListener or WriteListener do not need to be immediately fatal to the connection. Allow an error response to be written. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58657
Coyote|2015-12-06 Tomcat 8.0.30 (markt)|Fix||Improve upgrade context classloader handling by using Context.bind and unbind. (remm)|
Jasper|2015-12-06 Tomcat 8.0.30 (markt)|Fix||57136#c25: Change default value of quoteAttributeEL setting in Jasper to be true for better compatibility with other implementations and older versions of Tomcat (8.0.26/7.0.64 and earlier). Add command line option -no-quoteAttributeEL in JspC. (kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57136#c25
Cluster|2015-12-06 Tomcat 8.0.30 (markt)|Fix||Fix potential integer overflow in DeltaSession. Reported by coverity scan. (fschumacher)|
WebSocket|2015-12-06 Tomcat 8.0.30 (markt)|Add|55006|The WebSocket client now honors the java.net.java.net.ProxySelector configuration (using the HTTP type) when establishing WebSocket connections to servers. Based on a patch by Niki Dokovski. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=55006
WebSocket|2015-12-06 Tomcat 8.0.30 (markt)|Fix|58624|Correct a thread safety issue that meant that blocking message writes could block indefinitely if the WebSocket connection was closed while a message write was in progress. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58624
Web Applications|2015-12-06 Tomcat 8.0.30 (markt)|Fix|58631|Correct the continuation character use in the Windows Service How-To page of the documentation web application. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58631
Tribes|2015-12-06 Tomcat 8.0.30 (markt)|Fix||Ensure that the static member is registered to the add suspect list even if the static member that is registered to the remove suspect list has disappeared. (kfujino)|
Tribes|2015-12-06 Tomcat 8.0.30 (markt)|Fix||Correct the warning log of when the member that is not registered in the membership is detected. (kfujino)|
Tribes|2015-12-06 Tomcat 8.0.30 (markt)|Fix||When using a static cluster, add the members that have been cached in the membership service to the map members list in order to ensure that the map member is a static member. (kfujino)|
jdbc-pool|2015-12-06 Tomcat 8.0.30 (markt)|Fix||Correct evaluation of system property org.apache.tomcat.jdbc.pool.onlyAttemptCurrentClassLoader. It was basically ignored before. Reported by coverity scan. (fschumacher)|
jdbc-pool|2015-12-06 Tomcat 8.0.30 (markt)|Fix||Fix potential integer overflow in ConnectionPool and PooledConnection. Reported by coverity scan. (fschumacher)|
Other|2015-12-06 Tomcat 8.0.30 (markt)|Update||Update optional Checkstyle library to 6.13. (kkolinko)|
General|2015-11-24 Tomcat 8.0.29 (markt)|Update|58596|Clarify the description in RUNNING.txt of how environment variables are used. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58596
Catalina|2015-11-24 Tomcat 8.0.29 (markt)|Add||Extend the fix for 57136 to provide a JSP Servlet initialisation parameter per web application that controls whether or not EL in JSP attributes is processed as if it uses JSP attribute quoting. By default, EL does not use JSP attribute quoting. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57136
Catalina|2015-11-24 Tomcat 8.0.29 (markt)|Fix|57799|InputStream.available() was causing an IO operation to occur even in blocking mode, which caused problems with NIO2. (remm)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57799
Catalina|2015-11-24 Tomcat 8.0.29 (markt)|Add||Extend the fix for 58228 to include ServletContext.getRealPath(). (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58228
Catalina|2015-11-24 Tomcat 8.0.29 (markt)|Add|58486|Protect against two further possible memory leaks associated with XML parsing. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58486
Catalina|2015-11-24 Tomcat 8.0.29 (markt)|Fix|58490|Fixed NPE thrown when scanning for javax.servlet.ServletContainerInitializer in case the web application is not extracted. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58490
Catalina|2015-11-24 Tomcat 8.0.29 (markt)|Code|58497|Make AbstractHttp11Processor easy to extend. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58497
Catalina|2015-11-24 Tomcat 8.0.29 (markt)|Fix|58508|Escape role names when generating associated MBeans in case the role name contains characters not permitted in an MBean name. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58508
Catalina|2015-11-24 Tomcat 8.0.29 (markt)|Fix|58518|Correct a regression in the fix for 56777 that added support for URIs in config file locations. File paths on Windows could previously be specified with \ or / as the separator. 56777 broke that. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58518
Catalina|2015-11-24 Tomcat 8.0.29 (markt)|Fix|58519|Fix ISE thrown by web application classloader in some error conditions due to trying to call initCause() on a ClassNotFoundException which is not permitted. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58519
Catalina|2015-11-24 Tomcat 8.0.29 (markt)|Fix|58534|Removed repeated conditional tests in o.a.tomcat.websocket.pojo.PojoMethodMapping and o.a.tomcat.util.net.AprEndpoint Patch provided by Anthony Whitford. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58534
Catalina|2015-11-24 Tomcat 8.0.29 (markt)|Fix|58535|Use Collections.reverseOrder when a reverse ordering is needed. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58535
Catalina|2015-11-24 Tomcat 8.0.29 (markt)|Fix||58537, 58546: Some of the inner classes in o.a.catalina.valves.ExtendedAccessLogValve and o.a.tomcat.util.net.SecureNio2Channel are made static. Patch provided by Anthony Whitford. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58537
Catalina|2015-11-24 Tomcat 8.0.29 (markt)|Fix|58540|Removed unused code from o.a.catalina.connector.Request. Patch provided by Anthony Whitford. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58540
Catalina|2015-11-24 Tomcat 8.0.29 (markt)|Fix||58541, 58544: It is more efficient to call Integer.toString(int) instead of Integer.valueOf(int).toString() when only a string representation of a primitive is needed. Based on a patch provided by Anthony Whitford. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58541
Catalina|2015-11-24 Tomcat 8.0.29 (markt)|Fix||58541, 58547: It is more efficient to call valueOf(...) instead of Number constructor. Based on a patch provided by Anthony Whitford. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58541
Catalina|2015-11-24 Tomcat 8.0.29 (markt)|Fix|58545|In some use cases it is more efficient to use Map.entrySet() instead of Map.keySet() Based on a patch provided by Anthony Whitford. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58545
Catalina|2015-11-24 Tomcat 8.0.29 (markt)|Fix||Ensure that ServletRequest.getContentLengthLong is used instead of ServletRequest.getContentLength for servlets and valves provided by Tomcat. The API is available since Servlet specification 3.1. (violetagg)|
Catalina|2015-11-24 Tomcat 8.0.29 (markt)|Add||Add a new RestCsrfPreventionFilter that provides basic CSRF protection for REST APIs. (violetagg)|
Catalina|2015-11-24 Tomcat 8.0.29 (markt)|Fix|58578|Avoid NPE accessing cookies during access logging for request that had no context mapping. (remm)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58578
Catalina|2015-11-24 Tomcat 8.0.29 (markt)|Fix||Avoid UnsupportedOperationException when releasing an user-provided URLStreamHandlerFactory. Patch provided by Cristian Talau. (violetagg)|
Catalina|2015-11-24 Tomcat 8.0.29 (markt)|Fix|58581|If a custom error page fails, fall back to the standard error page rather than throwing an NPE. Based on a patch by Huxing Zhang. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58581
Catalina|2015-11-24 Tomcat 8.0.29 (markt)|Fix|58582|Combined realm should perform background processing on its sub-realms. Based upon a patch provided by Aidan. (schultz)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58582
Catalina|2015-11-24 Tomcat 8.0.29 (markt)|Fix||Handle the unlikely case where different versions of a web application are deployed with different session settings. (markt)|
Catalina|2015-11-24 Tomcat 8.0.29 (markt)|Add||Add a new Context option, enabled by default, that enables an additional check that a client provided session ID is in use in at least one other web application before allowing it to be used as the ID for a new session in the current web application. (markt)|
Catalina|2015-11-24 Tomcat 8.0.29 (markt)|Add||Add support for DIGEST authentication to the JNDIRealm. Based on a patch by Alexis Hassler. (markt)|
Catalina|2015-11-24 Tomcat 8.0.29 (markt)|Fix|58603|Ensure that HttpServletRequest.getRequestURL() returns the correct value when using the RemoteIpFilter. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58603
Catalina|2015-11-24 Tomcat 8.0.29 (markt)|Fix||Ensure that in an embedded Tomcat the logging configuration is not lost during garbage collection. (violetagg)|
Catalina|2015-11-24 Tomcat 8.0.29 (markt)|Add||Move the functionality that provides redirects for context roots and directories where a trailing / is added from the Mapper to the DefaultServlet. This enables such requests to be processed by any configured Valves and Filters before the redirect is made. This behaviour is configurable via the mapperContextRootRedirectEnabled and mapperDirectoryRedirectEnabled attributes of the Context which may be used to restore the previous behaviour. (markt)|
Coyote|2015-11-24 Tomcat 8.0.29 (markt)|Fix||Cancel pending blocking IO operation following a timeout in the NIO2 connector. (remm)|
Coyote|2015-11-24 Tomcat 8.0.29 (markt)|Fix||Add instance manager support for upgrade handlers, and set context class loader. (remm)|
Coyote|2015-11-24 Tomcat 8.0.29 (markt)|Update||Synchronize OpenSSL to JSSE cipher mapping to recent OpenSSL changes. In particular, TLSv1.0 is now an alias for those ciphers that require TLSv1 and will not work with SSLv3. TLSv1 remains an alias for SSLv3. (markt)|
Jasper|2015-11-24 Tomcat 8.0.29 (markt)|Add||Deprecate the STRICT_QUOTE_ESCAPING system property and replace it with an initialisation parameter for the JSP Servlet. This enables per web application control of this configuration setting. (markt)|
Cluster|2015-11-24 Tomcat 8.0.29 (markt)|Fix||Optimize the session lock range in DeltaManager.requestCompleted. (kfujino)|
Cluster|2015-11-24 Tomcat 8.0.29 (markt)|Fix||Enable an explicit configuration of local member in the static cluster membership. (kfujino)|
Tribes|2015-11-24 Tomcat 8.0.29 (markt)|Code||Distinguish the handling of the shutdown payload and member verification clearly. When handling shutdown payload, verification completion message is not required. (kfujino)|
Tribes|2015-11-24 Tomcat 8.0.29 (markt)|Fix||When starting the StaticMembershipInterceptor, StaticMembershipInterceptor checks the required Interceptors. If the required Interceptor does not exist, it issues warning logs. (kfujino)|
WebSocket|2015-11-24 Tomcat 8.0.29 (markt)|Fix||Use instance manager for server endpoint instances. (remm)|
Web applications|2015-11-24 Tomcat 8.0.29 (markt)|Add||Make it clear in the documentation for the CGI servlet that the debug page is not considered secure and should not be used in production. (markt)|
Web applications|2015-11-24 Tomcat 8.0.29 (markt)|Fix||The domain attribute of StaticMember is not required but optional. (kfujino)|
jdbc-pool|2015-11-24 Tomcat 8.0.29 (markt)|Fix|58489|Correct QueryStatsComparator to hold up the general contract for Comparator. (fschumacher)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58489
jdbc-pool|2015-11-24 Tomcat 8.0.29 (markt)|Fix||When creating a QueryStats object, ensure that maxQueries is checked. If maxQueries is a value less than or equal to 0, QueryStats are never created. (kfujino)|
Other|2015-11-24 Tomcat 8.0.29 (markt)|Update||Update optional Checkstyle library to 6.12.1. (kkolinko)|
Other|2015-11-24 Tomcat 8.0.29 (markt)|Add||Add support for creating a FindBugs report when building Tomcat. It is disabled by default. (violetagg)|
Catalina|2015-10-12 Tomcat 8.0.28 (markt)|Add||Add support for the custom classpath protocol in URLs. It an be used anywhere Tomcat accepts a URL for a configuration parameter. (markt)|
Catalina|2015-10-12 Tomcat 8.0.28 (markt)|Fix|56777|Allow file based configuration resources (user database, certificate revocation lists, keystores and trust stores) to be configured using URLs as well as files. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56777
Catalina|2015-10-12 Tomcat 8.0.28 (markt)|Fix||Perform null-checking on input and stored credentials in all Realms before passing credentials off to CredentialHandlers for matching. (schultz)|
Coyote|2015-10-12 Tomcat 8.0.28 (markt)|Update||Add the new ciphers from RFC6655 and RFC7251 to the OpenSSL to JSSE cipher mapping. (markt)|
Coyote|2015-10-12 Tomcat 8.0.28 (markt)|Update||Remove DES, RC2 and RC4 from DEFAULT for the OpenSSL to JSSE cipher mapping to align with the OpenSSL development branch. (markt)|
Jasper|2015-10-12 Tomcat 8.0.28 (markt)|Fix||Improve the error message when JSP parser encounters an error parsing an attribute value. (markt)|
Web applications|2015-10-12 Tomcat 8.0.28 (markt)|Update|58474|Provide a reference to the differences between CATALINA_HOME and CATALINA_BASE in the sample application that is part of the documentation web application. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58474
Extras|2015-10-12 Tomcat 8.0.28 (markt)|Fix||Ensure JULI adapters does not include the LogFactoryImpl class. Patch provided by Benjamin Gandon. (markt)|
Catalina|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58187|Correct a regression in the fix for 57765 that meant that deployment of web applications deployed via the Manager application was delayed until the next execution of the automatic deployment background process. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58187
Catalina|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58284|Correctly implement session serialization so non-serializable attributes are skipped with a warning. Patch provided by Andrew Shore. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58284
Catalina|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58313|Fix concurrent access of encoders map when clearing encoders prior to switch to async. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58313
Catalina|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58320|Fix concurrent access of request attributes which is possible during asynchronous processing. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58320
Catalina|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58352|Always trigger a thread dump if Tomcat fails to stop gracefully from catalina.sh even if using -force. Patch provided by Alexandre Garnier. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58352
Catalina|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58368|Fix a rare data race in the code that obtains the ApplicationFilterFactory instance. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58368
Catalina|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58369|Fix a rare data race in the code that obtains the CookieProcessor for a StandardContext instance. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58369
Catalina|2015-10-01 Tomcat 8.0.27 (markt)|Fix||Ensure the JAASRealm uses the configured CredentialHandler. (markt)|
Catalina|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58372|Fix rare data races closed and suspended flags that could be triggered by async and/or comet processing. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58372
Catalina|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58373|Fix rare data race with the application event listeners for StandardContext. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58373
Catalina|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58374|Fix a rare data race in the AsyncContext implementation for access to the internal Tomcat request object to which it holds a reference. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58374
Catalina|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58380|Fix two rare data races in the standard session implementation on the flag that tracks if the session is new and on the field that tracks the maximum inactive period. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58380
Catalina|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58385|Fix a rare data race in the internal flag Tomcat uses to keep track of whether or not a request is being used for Comet processing. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58385
Catalina|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58394|Fix a rare data race in Mapper when adding or removing a host. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58394
Catalina|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58398|Fix a rare data race in LifecycleSupport. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58398
Catalina|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58412|Ensure that the AsyncFileHandler has the source class and method name available for logging. (fschumacher)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58412
Catalina|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58416|Correctly detect when a forced stop fails to stop Tomcat because the Tomcat process is waiting on some system call or is uninterruptible. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58416
Catalina|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58436|Fix some rare data races in JULI's ClassLoaderLogManager during shutdown. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58436
Catalina|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58845|Fix off-by one error in calculation of valid characters in a cookie domain. Patch provided by Thorsten Ehlers. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58845
Coyote|2015-10-01 Tomcat 8.0.27 (markt)|Fix||Correct some edge cases in RequestUtil.normalize(). (markt)|
Coyote|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58275|The IBM JREs accept cipher suite names starting with TLS_ or SSL_ but when listing the supported cipher suites only the SSL_ version is reported. This can break Tomcat's check that at least one requested cipher suite is supported. Tomcat now includes a work-around so either form of the cipher suite name can be used when running on an IBM JRE. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58275
Coyote|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58357|For reasons not currently understood when the APR/native connector is used with OpenSSL reads can return an error code when there is no apparent error. This was work-around for HTTP upgrade connections by treating this as EAGAIN. The same fix has now been applied to the standard HTTP connector. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58357
Coyote|2015-10-01 Tomcat 8.0.27 (markt)|Code||Minor clean-up in NIO2 SSL handshake code to address some theoretical concurrency issues. (markt)|
Coyote|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58367|Fix a rare data race in the code that obtains the reason phrase for a given HTTP response code. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58367
Coyote|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58370|Fix a rare data race in the connector shutdown code. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58370
Coyote|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58371|Fix a rare data race when accessing request URI in String form when switching from non-async to async due to early triggering of the gathering of request statistics. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58371
Coyote|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58375|Fix a rare data race on the internal flag Tomcat uses to mark a response as committed. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58375
Coyote|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58377|Fix a rare data race on the internal flag Tomcat uses to mark a request as using HTTP keep-alive when switching to asynchronous processing. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58377
Coyote|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58379|Fix a rare data race on the internal reference Tomcat retains to the socket when switching to asynchronous processing. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58379
Coyote|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58387|Fix a rare data race when closing Comet connections. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58387
Coyote|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58388|Fix a data race when determining if Comet processing is occurring on a container or non-container thread. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58388
Coyote|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58389|Fix a rare data race while shutting down the thread pools on Connector stop. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58389
Coyote|2015-10-01 Tomcat 8.0.27 (markt)|Code||Clean up use of error flag on socket wrapper prompted by 58390. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58390
Coyote|2015-10-01 Tomcat 8.0.27 (markt)|Code||Remove some unnecessary code from the NIO Poller and fix 58396 as a side-effect. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58396
Coyote|2015-10-01 Tomcat 8.0.27 (markt)|Fix|57799|Remove useless sendfile check for NIO SSL. (remm)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57799
Jasper|2015-10-01 Tomcat 8.0.27 (markt)|Fix|57136|Correct a regression in the previous fix for this issue. \${ should only be an escape for ${ within an EL expression. Within a JSP page \$ should be an escape for $. The EL specification applies when parsing the expression delimited by ${ and }. Parsing of the delimiting ${ and } is the responsibility of the JSP specification. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57136
Jasper|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58296|Fix a memory leak in the JSP unloading feature that meant that using a value other than -1 for maxLoadedJsps triggered a memory leak once the limit was reached. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58296
Jasper|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58327|Cache the expression string for value expression literals since it is frequently used and may be expensive to evaluate. Patch provided by Andreas Kohn. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58327
Jasper|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58340|Improve error reporting for tag files packaged in JARs. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58340
Jasper|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58424|When parsing TLD files, allow whitespace around boolean configuration values. (schultz)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58424
Jasper|2015-10-01 Tomcat 8.0.27 (markt)|Fix||Fix a possible resource leak reported by coverity scan. (fschumacher)|
Jasper|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58427|Enforce the JSP specification defined limitations of which elements are allowed in an implicit.tld file. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58427
Jasper|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58444|Ensure that JSPs work with any custom base class that meets the requirements defined in the JSP specification without requiring that base class to implement Tomcat specific code. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58444
Cluster|2015-10-01 Tomcat 8.0.27 (markt)|Fix||Fix a default clusterListeners in SimpleTcpCluster. The optimal default value is different for each session manager. ClusterSessionListener is never used in BackupManager. (kfujino)|
Cluster|2015-10-01 Tomcat 8.0.27 (markt)|Fix||Correct log messages in case of using BackupManager. (kfujino)|
WebSocket|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58342|Fix a copy and paste error that meant MessageHandler removal could fail for binary and pong MessageHandlers. Patch provided by DJ. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58342
WebSocket|2015-10-01 Tomcat 8.0.27 (markt)|Fix||Data races detected by RV-Predict, mostly caused by completion handlers running in separate threads. (markt)|
WebSocket|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58414|Correctly handle sending zero length messages when using per message deflate. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58414
Web applications|2015-10-01 Tomcat 8.0.27 (markt)|Fix||Correct documentation for cluster-howto. (kfujino)|
Web applications|2015-10-01 Tomcat 8.0.27 (markt)|Fix||Add missing documentation for property alwaysAddExpires for the LegacyCookieProcessor. (markt)|
Tribes|2015-10-01 Tomcat 8.0.27 (markt)|Add||Add support for configurations of ChannelListener and MembershipListener in server.xml. (kfujino)|
Tribes|2015-10-01 Tomcat 8.0.27 (markt)|Fix||Correct log messages in case of using ReplicatedMap. (kfujino)|
Tribes|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58381|Fix a rare data race in the NioReceiver. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58381
Tribes|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58382|Fix multiple rare data races in the default membership implementation. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58382
Tribes|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58383|Fix a data race in SenderState. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58383
Tribes|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58386|Fix a data race in ObjectReader. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58386
Tribes|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58391|Fix multiple data races in NonBlockingCoordinator, most of which were associated with ensuring that log messages contained the correct information. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58391
Tribes|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58392|Fix a data race in DomainFilterInterceptor. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58392
Tribes|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58393|Fix a data race on the listener in McastService. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58393
Tribes|2015-10-01 Tomcat 8.0.27 (markt)|Fix|58395|Fix multiple data races in MemberImpl that were likely to cause issues if certain properties were updated concurrently (such updates are unlikely in normal usage). (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58395
Tribes|2015-10-01 Tomcat 8.0.27 (markt)|Code||Remove some unnecessary code from PooledParallelSender and fix 58397. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58397
jdbc-pool|2015-10-01 Tomcat 8.0.27 (markt)|Fix||Make sure the pool has been properly configured when attributes that related to the pool size are changed via JMX. (kfujino)|
Other|2015-10-01 Tomcat 8.0.27 (markt)|Fix||Ensure logging works for all tests in a class rather than just the first one executed. (markt)|
Other|2015-10-01 Tomcat 8.0.27 (markt)|Add|58344|Add build properties to enable tests to be executed against alternative binaries. Based on a patch by Petr Sumbera. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58344
Web applications|2015-08-21 Tomcat 8.0.26 (markt)|Add|58255|Document the Semaphore valve. Patch provided by Kyohei Nakamura. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58255
Catalina|not released Tomcat 8.0.25 (markt)|Fix||Make the WAR manifest file available for WebResource instances from an unpacked WAR in the same way the manifest is available if the WAR is not unpacked. (markt)|
Catalina|not released Tomcat 8.0.25 (markt)|Fix||Ensure that only /WEB-INF/classes/ and /WEB-INF/lib/ are excluded from the web resource caching. (Resources loaded from these locations are cached by the web application class loader.) (markt)|
Catalina|not released Tomcat 8.0.25 (markt)|Add|57741|Enable the CGI servlet to use the standard error page mechanism. Note that if the CGI servlet's debug init parameter is set to 10 or higher then the standard error page mechanism will be bypassed and a debug response generated by the CGI servlet will be returned instead. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57741
Catalina|not released Tomcat 8.0.25 (markt)|Fix|58031|Make the (first) reason parameter parsing failed available as a request attribute and then use it to provide a better status code via the FailedRequstFilter (if configured). (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58031
Catalina|not released Tomcat 8.0.25 (markt)|Fix|58086|Correct a regression in the fix for 58086 that incorrectly handled WAR URLs. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58086
Catalina|not released Tomcat 8.0.25 (markt)|Fix|58096|Classes loaded from /WEB-INF/classes/ should use that directory as their code base. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58096
Catalina|not released Tomcat 8.0.25 (markt)|Fix||Fix possible resource leaks by closing streams properly. Issues reported by Coverity Scan. (violetagg)|
Catalina|not released Tomcat 8.0.25 (markt)|Fix|58116|Fix regression in the fix for 57281 that broke Comet support when running under a security manager. Based on a patch provided by Johno Crawford. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58116
Catalina|not released Tomcat 8.0.25 (markt)|Fix|58125|Avoid a possible ClassCircularityError when running under a security manager. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58125
Catalina|not released Tomcat 8.0.25 (markt)|Fix|58179|Fix a thread safety issues that could mean concurrent threads setting the same attribute on a ServletContext could both see null as the old value. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58179
Catalina|not released Tomcat 8.0.25 (markt)|Fix||Allow web archives bigger than 2G to be deployed using ANT tasks. (violetagg)|
Catalina|not released Tomcat 8.0.25 (markt)|Fix|58192|Correct a regression in the previous fix for 58023. Ensure that classes are associated with their manifest even if the class file is first read (and cached) without the manifest. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58192
Catalina|not released Tomcat 8.0.25 (markt)|Fix||Fix thread safety issue in the AsyncContext implementation that meant a sequence of start();dispatch(); calls using non-container threads could result in a previous dispatch interfering with a subsequent start. (markt)|
Catalina|not released Tomcat 8.0.25 (markt)|Fix|58228|Make behaviour of ServletContext.getResource() and ServletContext.getResourceAsStream() consistent with each other and the expected behaviour of the GET_RESOURCE_REQUIRE_SLASH system property. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58228
Catalina|not released Tomcat 8.0.25 (markt)|Fix|58230|Fix input stream corruption if non-blocking I/O is used and the first read is made immediately after the switch to async mode rather than in response to onDataAvaiable() and that read does not read all the available data. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58230
Catalina|not released Tomcat 8.0.25 (markt)|Fix||Ensure that log4javascript*.jar was not excluded from the standard JAR scanning by default. (markt)|
Coyote|not released Tomcat 8.0.25 (markt)|Fix|57943|Prevent the same socket being added to the cache twice. Patch based on analysis by Ian Luo / Sun Qi. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57943
Coyote|not released Tomcat 8.0.25 (markt)|Fix||Add text/javascript,application/javascript to the default list of compressable MIME types. (violetagg)|
Coyote|not released Tomcat 8.0.25 (markt)|Fix|58103|When pipelining requests, and the previous request was an async request, ensure that the socket is removed from the waiting requests so that the async timeout thread doesn't process it during the next request. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58103
Coyote|not released Tomcat 8.0.25 (markt)|Fix|58151|Correctly handle EOF in the AJP APR/native connector to prevent the connector entering a loop and generate excessive CPU load. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58151
Coyote|not released Tomcat 8.0.25 (markt)|Fix||In the AJP and HTTP NIO connectors, ensure that the socket timeout is correctly set before adding the socket back to the poller for read. (markt)|
Coyote|not released Tomcat 8.0.25 (markt)|Fix|58157|Ensure that the handling of async timeouts does not result in an unnecessary dispatch to a container thread that could result in the current socket being added to the Poller multiple times with multiple attempts to process the same event for the same socket. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58157
Coyote|not released Tomcat 8.0.25 (markt)|Fix||Correct a couple of edge cases in RequestUtil.normalize(). (markt)|
Jasper|not released Tomcat 8.0.25 (markt)|Fix|58110|Like scriptlet sections, declaration sections of JSP pages have a one-to-one mapping of lines to the generated .java file. Use this information to provide more accurate error messages if a compilation error occurs in a declaration section. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58110
Jasper|not released Tomcat 8.0.25 (markt)|Fix|58119|When tags are compiled they must be placed in the org/apache/jsp/tag/web directory. Correct a regression in the fix for 52725. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58119
Jasper|not released Tomcat 8.0.25 (markt)|Fix||Fix a resource leak in JspC identified by Eclipse. (markt)|
Jasper|not released Tomcat 8.0.25 (markt)|Fix|58178|Expressions in a tag file should use the tag file's PageContext rather than that of the containing page. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58178
Jasper|not released Tomcat 8.0.25 (markt)|Fix||Following on from the fix for 58178, expressions in a tag file should use the tag file's imports rather than those of the containing page. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58178
WebSocket|not released Tomcat 8.0.25 (markt)|Fix|58166|Allow applications to send close codes in the range 3000-4999 inclusive. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58166
WebSocket|not released Tomcat 8.0.25 (markt)|Fix|58232|Avoid possible NPE when adding endpoints programmatically to the javax.websocket.server.ServerContainer. Based on a patch provided by bastian.(violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58232
Web applications|not released Tomcat 8.0.25 (markt)|Fix||Correct the incorrect document of QueryTimeoutInterceptor. The setting value is not in milliseconds but in seconds. (kfujino)|
Web applications|not released Tomcat 8.0.25 (markt)|Fix|58112|Update the documentation for using the Catalina tasks in an Apache Ant build file. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58112
Web applications|not released Tomcat 8.0.25 (markt)|Fix||Improve the Javadoc for some of the APR socket read functions that have inconsistent behaviour for return values. (markt)|
jdbc-pool|not released Tomcat 8.0.25 (markt)|Fix|58042|The default value of logFailed attribute of SlowQueryReport is changed to false so that the failed queries are not logged by default. (kfujino)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58042
jdbc-pool|not released Tomcat 8.0.25 (markt)|Fix||Fix potential NPE in QueryTimeoutInterceptor. (kfujino)|
jdbc-pool|not released Tomcat 8.0.25 (markt)|Fix||Add support for stopping the pool cleaner via JMX. (kfujino)|
jdbc-pool|not released Tomcat 8.0.25 (markt)|Fix||The fairness attribute and ignoreExceptionOnPreLoad attribute do not allow a change via JMX. (kfujino)|
jdbc-pool|not released Tomcat 8.0.25 (markt)|Fix||If the timeBetweenEvictionRunsMillis attribute is changed via jmx, it should restart the pool cleaner because this attribute affects the execution interval of the pool cleaner. (kfujino)|
jdbc-pool|not released Tomcat 8.0.25 (markt)|Fix||Eliminate the dependence on maxActive of busy queues and idle queue in order to enable the expansion of the pool size via JMX. (kfujino)|
Other|not released Tomcat 8.0.25 (markt)|Update||Update optional Checkstyle library to 6.8.1. (kkolinko)|
Other|not released Tomcat 8.0.25 (markt)|Fix||Update sample Eclipse IDE configuration to exclude test/webapp* and similar paths from compiler sourcepath. (kkolinko)|
Other|not released Tomcat 8.0.25 (markt)|Update||Update package renamed Apache Commons Pool to Commons Pool 2.4.2. (markt)|
Other|not released Tomcat 8.0.25 (markt)|Update||Update package renamed Apache Commons DBCP to Commons DBCP 2.1.1. (markt)|
Other|not released Tomcat 8.0.25 (markt)|Add||Support the use of the threads attribute on Ant's junit task. Note that using this with a value of greater than one will disable Cobertura code coverage. (markt)|
Catalina|2015-07-06 Tomcat 8.0.24 (markt)|Fix|57938|Correctly handle empty form fields when a form is submitted as multipart/form-data, the maxPostSize attribute of the Connector has been set to a negative value and the Context has been configured with a value of true for allowCasualMultipartParsing. The meaning of the value zero for the maxPostSize has also been changed to mean a limit of zero rather than no limit to align it with maxSavePostSize and to be more intuitive. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57938
Catalina|2015-07-06 Tomcat 8.0.24 (markt)|Fix|57977|Correctly bind and unbind the web application class loader during execution of the PersistentValve. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57977
Catalina|2015-07-06 Tomcat 8.0.24 (markt)|Fix||Remove some unnecessary code from the web application class loader and deprecate the now unused validate() method since the requirements of SRV.10.7.2 are met using cleaner code in loadClass(String, boolean) and filter(). (markt)|
Catalina|2015-07-06 Tomcat 8.0.24 (markt)|Fix||Correct a bug that prevented the web application class loader's filter() from working correctly. It only returned true for classes in sub-packages of the listed packages, but not classes located in the packages themselves. (markt)|
Catalina|2015-07-06 Tomcat 8.0.24 (markt)|Fix||Add the WebSocket API classes to the list of classes that the web application class loader will always delegate to its parent for loading first. (markt)|
Catalina|2015-07-06 Tomcat 8.0.24 (markt)|Fix|58015|Ensure that whenever the web application class loader checks to see if it should delegate first, it also checks the result of the filter() method which may indicate that it should always delegate first for the current class/resource regardless of the value of the delegate configuration option. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58015
Catalina|2015-07-06 Tomcat 8.0.24 (markt)|Fix|58023|Fix potentially excessive memory usage due to unnecessary caching of JAR manifests in the web application class loader. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58023
Catalina|2015-07-06 Tomcat 8.0.24 (markt)|Fix|57700|Ensure that Container event ADD_CHILD_EVENT will be sent in all cases. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57700
Catalina|2015-07-06 Tomcat 8.0.24 (markt)|Fix|58086|Ensure that WAR URLs are handled properly when using ANT for web application deployment. Based on a patch provided by Lukasz Jader. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58086
Catalina|2015-07-06 Tomcat 8.0.24 (markt)|Fix||Fix CredentialHandler element handling in storeconfig. (remm)|
Coyote|2015-07-06 Tomcat 8.0.24 (markt)|Fix|57265|Further fix to address a potential threading issue when sendfile is used in conjunction with TLS. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57265
Coyote|2015-07-06 Tomcat 8.0.24 (markt)|Fix|57936|Improve robustness of the acceptor thread count parameter for NIO2, since it must be set to 1. Submitted by Oliver Kant. (remm)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57936
Coyote|2015-07-06 Tomcat 8.0.24 (markt)|Add|57943|Added a work-around to catch ConcurrentModificationExceptions during Poller timeout processing that were causing the Poller thread to stop. The root cause of these exceptions is currently unknown. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57943
Coyote|2015-07-06 Tomcat 8.0.24 (markt)|Fix|57944|Ensure that if non-blocking I/O listeners are set on a non-container thread that the expected listener events are still triggered. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57944
Coyote|2015-07-06 Tomcat 8.0.24 (markt)|Fix||Fix possible very long (1000 seconds) timeout with APR/native connector. (markt)|
Coyote|2015-07-06 Tomcat 8.0.24 (markt)|Add||"Support ""-"" separator in the SSLProtocol configuration of the APR/native connector for protocol exclusion. (rjung)"|
Coyote|2015-07-06 Tomcat 8.0.24 (markt)|Fix|58004|Fix AJP buffering output data even in blocking mode. (remm)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58004
WebSocket|2015-07-06 Tomcat 8.0.24 (markt)|Fix|57969|Provide path parameters to POJO via per session javax.websocket.server.ServerEndpointConfig as they vary between different requests. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57969
WebSocket|2015-07-06 Tomcat 8.0.24 (markt)|Fix|57974|Session.getOpenSessions should return all sessions associated with a given endpoint instance, rather than all sessions from the endpoint class. (remm)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57974
Web applications|2015-07-06 Tomcat 8.0.24 (markt)|Fix|57282|Update request processing sequence diagrams. Updated diagrams provided by Stephen Chen. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57282
Web applications|2015-07-06 Tomcat 8.0.24 (markt)|Fix|57971|Correct the documentation for the cluster configuration setting recoverySleepTime. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57971
Web applications|2015-07-06 Tomcat 8.0.24 (markt)|Add|57758|Add document of testOnConnect attribute in jdbc-pool doc. (kfujino)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57758
Web applications|2015-07-06 Tomcat 8.0.24 (markt)|Add||Add description of validatorClassName attribute to testXXXX attributes in jdbc-pool docs. (kfujino)|
Tribes|2015-07-06 Tomcat 8.0.24 (markt)|Code||Use StringManager to provide i18n support in the org.apache.catalina.tribes packages. (kfujino)|
Tribes|2015-07-06 Tomcat 8.0.24 (markt)|Fix||Do not set the nodes that failed to replication to the backup nodes. Ensure that the nodes that the data has been successfully replicated are set to the backup node. (kfujino)|
Tribes|2015-07-06 Tomcat 8.0.24 (markt)|Fix||When failed to replication, rather than all member is handled as a failed member, exclude the failure members from backup members. (kfujino)|
jdbc-pool|2015-07-06 Tomcat 8.0.24 (markt)|Fix||Refactoring of the removeOldest method in SlowQueryReport to behave as expected. (kfujino)|
jdbc-pool|2015-07-06 Tomcat 8.0.24 (markt)|Fix|57783|Fix NullPointerException in SlowQueryReport. To avoid this NPE, Refactor SlowQueryReport#removeOldest and handle the abandoned connection properly. (kfujino)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57783
jdbc-pool|2015-07-06 Tomcat 8.0.24 (markt)|Fix|58042|In SlowQueryReportJmx, the LogSlow and logFailed attributes that inherited from SlowQueryReport are used as a condition of whether JMX notifications are sent. (kfujino)|https://bz.apache.org/bugzilla/show_bug.cgi?id=58042
jdbc-pool|2015-07-06 Tomcat 8.0.24 (markt)|Fix||Ensure that specified Boolean attribute values of SlowQueryReport reflect correctly. The LogSlow and the logFailed are not system property, these are attributes of SlowQueryReport. (kfujino)|
Other|2015-07-06 Tomcat 8.0.24 (markt)|Update||Update package renamed Apache Commons BCEL to r1682271 to pick up some some code clean up. (markt)|
Other|2015-07-06 Tomcat 8.0.24 (markt)|Update||Update package renamed Apache Commons DBCP to r1682314 to pick up the DBCP 2.1 release and additional fixes since then. (markt)|
Other|2015-07-06 Tomcat 8.0.24 (markt)|Update||Update package renamed Apache Commons Pool to the 2.4 release. (markt)|
Other|2015-07-06 Tomcat 8.0.24 (markt)|Update||Update package renamed Apache Commons File upload to r1682322 to pick up the post 1.3.1 fixes. (markt)|
Other|2015-07-06 Tomcat 8.0.24 (markt)|Update||Update package renamed Apache Commons Codec to r1682326. No functional changes. Javadoc only. (markt)|
Other|2015-07-06 Tomcat 8.0.24 (markt)|Update||Update optional Checkstyle library to 6.7. (kkolinko)|
Catalina|2015-05-22 Tomcat 8.0.23 (markt)|Add|54618|Add a new HttpHeaderSecurityFilter that adds the Strict-Transport-Security, X-Frame-Options and X-Content-Type-Options HTTP headers to the response. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=54618
Catalina|2015-05-22 Tomcat 8.0.23 (markt)|Fix|57875|Add javax.websocket.* to the classes for which the web application class loader always delegates first. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57875
Catalina|2015-05-22 Tomcat 8.0.23 (markt)|Fix|57871|Ensure that setting the allowHttpSepsInV0 property of a LegacyCookieProcessor to false only prevents HTTP separators from being used without quotes. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57871
Catalina|2015-05-22 Tomcat 8.0.23 (markt)|Fix||Add a workaround for issues with SPNEGO authentication when running on Java 8 update 40 and later. The workaround should be safe for earlier Java versions but it can be disabled with the applyJava8u40Fix attribute of the SPNEGO authenticator if necessary. (markt)|
Catalina|2015-05-22 Tomcat 8.0.23 (markt)|Fix|57926|Restore the original X-Forwarded-By and X-Forwarded-For headers after processing by the RemoteIPValve . (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57926
Coyote|2015-05-22 Tomcat 8.0.23 (markt)|Fix||Follow up to previous fix that removed the behavior difference between NIO and NIO2 for SSL, which caused corruption with NIO2. (remm)|
Coyote|2015-05-22 Tomcat 8.0.23 (markt)|Fix|57931|Ensure that TLS connections with the NIO or NIO2 HTTP connectors that experience issues during the handshake (e.g. missing or invalid client certificate) are closed cleanly and that the client receives the correct error code rather than simply closing the connection. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57931
Jasper|2015-05-22 Tomcat 8.0.23 (markt)|Fix|56438|Add debug logging to TLD discovery that logs positive and negative results for JARs, resource paths and directories. Patch provided by VIN. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56438
Jasper|2015-05-22 Tomcat 8.0.23 (markt)|Fix|57802|Correct the default implementation of convertToType() provided by javax.el.ELResolver. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57802
Jasper|2015-05-22 Tomcat 8.0.23 (markt)|Fix|57887|Fix compilation of recursive tag files packaged in a JAR. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57887
Cluster|2015-05-22 Tomcat 8.0.23 (markt)|Fix||Make sure that stream is closed after using it in DeltaSession.applyDiff(). (kfujino)|
Cluster|2015-05-22 Tomcat 8.0.23 (markt)|Code||Use StringManager to provide i18n support in the org.apache.catalina.ha packages. (kfujino)|
Cluster|2015-05-22 Tomcat 8.0.23 (markt)|Code||Add the context name to log messages when replication context failed to start. (kfujino)|
Web applications|2015-05-22 Tomcat 8.0.23 (markt)|Fix|57875|Update the web application class loader documentation to reflect the more relaxed approach to SRV.10.7.2 in Tomcat 8 onwards. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57875
Web applications|2015-05-22 Tomcat 8.0.23 (markt)|Fix|57896|Document system property org.apache.tomcat.util.http.ServerCookie.PRESERVE_COOKIE_HEADER that was introduced in Tomcat 8.0.0. (kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57896
Tribes|2015-05-22 Tomcat 8.0.23 (markt)|Fix||Ensure that the state transfer flag is updated to true only when the map states have been transferred correctly from existing map members. (kfujino)|
Other|2015-05-22 Tomcat 8.0.23 (markt)|Update||Update optional Checkstyle library to 6.6. (kkolinko)|
Catalina|2015-05-05 Tomcat 8.0.22 (markt)|Fix|57736|Change the format of the Tomcat specific URLs for resources inside JARs that are in turn packed in a WAR. The ^/ sequence has been replaced by */ so that the resulting URLs are compliant with RFC 2396 and do not trigger exceptions when converted to URIs. The old format will continue to be accepted. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57736
Catalina|2015-05-05 Tomcat 8.0.22 (markt)|Fix|57752|Exclude non-cached resources from the Cache statistics for resource lookups. Patch provided by Adam Mlodzinski. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57752
Catalina|2015-05-05 Tomcat 8.0.22 (markt)|Add||Allow logging of the remote port in the access log using the format pattern %{remote}p. (rjung)|
Catalina|2015-05-05 Tomcat 8.0.22 (markt)|Fix|57556|Refine the previous fix for this issue so that the real path returned only has a trailing separator if the requested path ended with /. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57556
Catalina|2015-05-05 Tomcat 8.0.22 (markt)|Fix|57765|When checking last modified times as part of the automatic deployment process, account for the fact that File.lastModified() has a resolution of one second to ensure that if a file has been modified within the last second, the latest version of the file is always used. Note that a side-effect of this change is that files with modification times in the future are treated as if they are unmodified. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57765
Catalina|2015-05-05 Tomcat 8.0.22 (markt)|Fix||Align redeploy resource modification checking with reload modification checking so that now, in both cases, a change in modification time rather than an increase in modification time is used to determine if the resource has changed. (markt)|
Catalina|2015-05-05 Tomcat 8.0.22 (markt)|Fix||Cleanup o.a.tomcat.util.digester.Digester from debug messages that do not give any valuable information. Patch provided by Polina Genova. (violetagg)|
Catalina|2015-05-05 Tomcat 8.0.22 (markt)|Fix|57772|When reloading a web application and a directory representing an expanded WAR needs to be deleted, delete the directory after the web application has been stopped rather than before to avoid potential ClassNotFoundExceptions. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57772
Catalina|2015-05-05 Tomcat 8.0.22 (markt)|Fix||Fix wrong logger name of org.apache.catalina.webresources.StandardRoot. (kfujino)|
Catalina|2015-05-05 Tomcat 8.0.22 (markt)|Fix|57801|Improve the error message in the start script in case the PID read from the PID file is already owned by a process. (rjung)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57801
Catalina|2015-05-05 Tomcat 8.0.22 (markt)|Fix|57841|Improve error logging during web application start. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57841
Catalina|2015-05-05 Tomcat 8.0.22 (markt)|Fix|57856|Ensure that any scheme/port changes implemented by the RemoteIpFilter also affect HttpServletResponse.sendRedirect(). (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57856
Catalina|2015-05-05 Tomcat 8.0.22 (markt)|Fix|57863|Fix the RewriteMap support in RewriteValve that did not use the correct key value to look up entries. Based on a patch provided by Tatsuya Bessho. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57863
Coyote|2015-05-05 Tomcat 8.0.22 (markt)|Fix|57779|When an I/O error occurs on a non-container thread only dispatch to a container thread to handle the error if using Servlet 3+ asynchronous processing. This avoids potential deadlocks if an application is performing I/O on a non-container thread without using the Servlet 3+ asynchronous API. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57779
Coyote|2015-05-05 Tomcat 8.0.22 (markt)|Code||Remove the experimental support for SPDY. No current user agent supports the version of SPDY that the experiment targeted. Note: HTTP/2 support is under development for Tomcat 9 and may be back-ported to Tomcat 8 once complete. (markt)|
Coyote|2015-05-05 Tomcat 8.0.22 (markt)|Fix||Possible incomplete writes with SSL NIO2. (remm)|
Coyote|2015-05-05 Tomcat 8.0.22 (markt)|Fix||Incorrect reads with SSL NIO2 caused by a bad strategy for handling IO differences between NIO and NIO2 that don't seem to be justified. (remm)|
Coyote|2015-05-05 Tomcat 8.0.22 (markt)|Fix||After some errors, the pending flags could remain set when using SSL NIO2. (remm)|
Coyote|2015-05-05 Tomcat 8.0.22 (markt)|Fix|57833|When using JKS based keystores for NIO or NIO2, ensure that the key alias is always converted to lower case since that is what JKS key stores expect. Based on a patch by Santosh Giri Govind M. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57833
Coyote|2015-05-05 Tomcat 8.0.22 (markt)|Fix|57837|Add text/css to the default list of compressable MIME types. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57837
Jasper|2015-05-05 Tomcat 8.0.22 (markt)|Fix|57845|Ensure that, if the same JSP is accessed directly and via a <jsp-file> declaration in web.xml, updates to the JSP are visible (subject to the normal rules on re-compilation) regardless of how the JSP is accessed. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57845
Jasper|2015-05-05 Tomcat 8.0.22 (markt)|Fix|57855|Explicitly handle the case where a MethodExpression is invoked with null or the wrong number of parameters. Rather than failing with an ArrayIndexOutOfBoundsException or a NullPointerException throw an IllegalArgumentException with a useful error message. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57855
Cluster|2015-05-05 Tomcat 8.0.22 (markt)|Fix||Avoid unnecessary call of DeltaRequest.addSessionListener() in non-primary nodes. (kfujino)|
Cluster|2015-05-05 Tomcat 8.0.22 (markt)|Add||Add new attribute that send all actions for session across Tomcat cluster nodes. (kfujino)|
Cluster|2015-05-05 Tomcat 8.0.22 (markt)|Fix||Remove unused pathname attribute in mbean definition of BackupManager. (kfujino)|
WebSocket|2015-05-05 Tomcat 8.0.22 (markt)|Fix|57761|Ensure that the opening HTTP request is correctly formatted when the WebSocket client connects to a server root. (remm)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57761
WebSocket|2015-05-05 Tomcat 8.0.22 (markt)|Fix|57762|Ensure that the WebSocket client correctly detects when the connection to the server is dropped. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57762
WebSocket|2015-05-05 Tomcat 8.0.22 (markt)|Fix|57776|Revert the 8.0.21 fix for the permessage-deflate implementation and incorrect op-codes since the fix was unnecessary (the bug only affected trunk) and the fix broke rather than fixed permessage-deflate if an uncompressed message was converted into more than one compressed message. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57776
WebSocket|2015-05-05 Tomcat 8.0.22 (markt)|Fix||Fix log name typo in WsRemoteEndpointImplServer class, caused by a copy-paste. (markt/kkolinko)|
WebSocket|2015-05-05 Tomcat 8.0.22 (markt)|Fix|57788|Avoid NPE when looking up a class hierarchy without finding anything. (remm)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57788
Web applications|2015-05-05 Tomcat 8.0.22 (markt)|Add|57759|Add information to the keyAlias documentation to make it clear that the order keys are read from the keystore is implementation dependent. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57759
Web applications|2015-05-05 Tomcat 8.0.22 (markt)|Fix|57864|Update the documentation web application to make it clearer that hex values are not valid for cluster send options. Based on a patch by Kyohei Nakamura. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57864
Tribes|2015-05-05 Tomcat 8.0.22 (markt)|Fix||Fix a concurrency issue when a backup message that has all session data and a backup message that has diff data are processing at the same time. This fix ensures that MapOwner is set to ReplicatedMapEntry. (kfujino)|
Other|2015-05-05 Tomcat 8.0.22 (markt)|Fix||Add missing pom for tomcat-storeconfig. (remm)|
Other|2015-05-05 Tomcat 8.0.22 (markt)|Update||Update optional Checkstyle library to 6.5. (kkolinko)|
Other|2015-05-05 Tomcat 8.0.22 (markt)|Fix|57707|Improve error message when trying to run a release build on a non-Windows platform and Wine is not available. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57707
Catalina|2015-03-26 Tomcat 8.0.21 (markt)|Add|49785|Enable StartTLS connections for JNDIRealm. (fschumacher)|https://bz.apache.org/bugzilla/show_bug.cgi?id=49785
Catalina|2015-03-26 Tomcat 8.0.21 (markt)|Fix||"When docBase refers internal war and unpackWARs is set to false, avoid registration of the invalid redeploy resource that has been added "".war"" extension in duplicate. (kfujino)"|
Catalina|2015-03-26 Tomcat 8.0.21 (markt)|Fix||If WAR exists, it is not necessary to trigger a reload when adding a Directory. (kfujino)|
Catalina|2015-03-26 Tomcat 8.0.21 (markt)|Fix|55988|Add support for Java 8 JSSE server-preferred TLS cipher suite ordering. This feature requires Java 8 and is controlled by useServerCipherSuitesOrder attribute on an HTTP connector. Based upon a patch provided by Ognjen Blagojevic. (schultz)|https://bz.apache.org/bugzilla/show_bug.cgi?id=55988
Catalina|2015-03-26 Tomcat 8.0.21 (markt)|Fix|56608|When deploying an external WAR, add watched resources in the expanded directory based on whether the expanded directory is expected to exist rather than if it does exist. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56608
Catalina|2015-03-26 Tomcat 8.0.21 (markt)|Fix||When triggering a reload due to a modified watched resource, ensure that multiple changed watched resources only trigger one reload rather than a series of reloads. (markt)|
Catalina|2015-03-26 Tomcat 8.0.21 (markt)|Fix|57601|Ensure that HEAD requests return the correct content length (i.e. the same as for a GET) when the requested resource includes a resource served by the Default servlet. (jboynes/markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57601
Catalina|2015-03-26 Tomcat 8.0.21 (markt)|Fix|57602|Ensure that HEAD requests return the correct content length (i.e. the same as for a GET) when the requested resource includes a resource served by a servlet that extends HttpServlet. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57602
Catalina|2015-03-26 Tomcat 8.0.21 (markt)|Fix|57621|When an async request completes, ensure that any remaining request body data is swallowed. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57621
Catalina|2015-03-26 Tomcat 8.0.21 (markt)|Fix|57637|Do not create unnecessary sessions when using PersistentValve. (jboynes/fschumacher)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57637
Catalina|2015-03-26 Tomcat 8.0.21 (markt)|Fix|57645|Correct a regression in the fix for 57190 that incorrectly required the path passed to ServletContext.getContext(String) to be an exact match to a path to an existing context. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57645
Catalina|2015-03-26 Tomcat 8.0.21 (markt)|Fix||Make sure that unpackWAR attribute of Context is handled correctly in HostConfig. (kfujino)|
Catalina|2015-03-26 Tomcat 8.0.21 (markt)|Fix||When deploying a WAR file that contains a context.xml file and unpackWARs is false ignore any context.xml file that may exist in an expanded directory associated with the WAR. (markt)|
Catalina|2015-03-26 Tomcat 8.0.21 (markt)|Fix|57675|Correctly quote strings when using the extended access log. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57675
Catalina|2015-03-26 Tomcat 8.0.21 (markt)|Add||Enable Tomcat to detect when a WAR file has been changed while Tomcat is not running. Tomcat does this by adding a META-INF/war-tracking file to the expanded directory and setting the last modified time of this file to the last modified time of the WAR. If Tomcat detects a modified WAR via this mechanism the web application will be redeployed (i.e. the expanded directory will be removed and the modified WAR expanded in its place). (markt)|
Catalina|2015-03-26 Tomcat 8.0.21 (markt)|Fix|57704|Fix potential NPEs during web application start/stop when org.apache.tomcat.InstanceManager is not initialized. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57704
Catalina|2015-03-26 Tomcat 8.0.21 (markt)|Add||"Use the simplified digest output for digest.bat|sh when generating digests with no salt and a single iteration to make it easier to use with DIGEST authentication. (markt)"|
Catalina|2015-03-26 Tomcat 8.0.21 (markt)|Fix||Add support for LAST_ACCESS_AT_START system property to SingleSignOn. (kfujino)|
Catalina|2015-03-26 Tomcat 8.0.21 (markt)|Code||Refactor Authenticator implementations to reduce code duplication. (markt)|
Catalina|2015-03-26 Tomcat 8.0.21 (markt)|Fix|57724|Handle the case in the CORS filter where a user agent includes an origin header for a non-CORS request. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57724
Catalina|2015-03-26 Tomcat 8.0.21 (markt)|Fix||When searching for SCIs o.a.catalina.Context.getParentClassLoader will be used instead of java.lang.ClassLoader.getParent. Thus one can provide the correct parent class loader when running embedded Tomcat in other environments such as OSGi. (violetagg)|
Catalina|2015-03-26 Tomcat 8.0.21 (markt)|Fix|57743|Fix a locked file / resource leak issue when a JAR is accessed just before or during web application undeploy. Patch provided by Pavel Avgustinov. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57743
Coyote|2015-03-26 Tomcat 8.0.21 (markt)|Add|57540|Make TLS/SSL protocol available in a new request attribute (org.apache.tomcat.util.net.secure_protocol_version). (Note that AJP connectors will require mod_jk 1.2.41 or later, or an as-yet-unknown version of mod_proxy_ajp, or configure the proxy to send the AJP_SSL_PROTOCOL request attribute to Tomcat. Please see the bug comments for details.) Based upon a patch provided by Ralf Hauser. (schultz)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57540
Coyote|2015-03-26 Tomcat 8.0.21 (markt)|Fix||Fix a cipher ordering issue when using the OpenSSL syntax for JSSE cipher configuration to ensure that ephemeral ECDH with AES is preferred to ephemeral ECDH with anything else. (markt)|
Coyote|2015-03-26 Tomcat 8.0.21 (markt)|Fix|57570|Make the processing of trailer headers with chunked input optional and disabled by default. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57570
Coyote|2015-03-26 Tomcat 8.0.21 (markt)|Fix|57592|Correctly handle the case where an AsyncContext is used for non-blocking I/O and is completed during a write operation. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57592
Coyote|2015-03-26 Tomcat 8.0.21 (markt)|Fix|57638|Avoid an IllegalArgumentException when an AJP request body chunk larger than the socket read buffer is being read. This typically requires a larger than default AJP packetSize. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57638
Coyote|2015-03-26 Tomcat 8.0.21 (markt)|Fix|57674|Avoid a BufferOverflowException when an AJP response body chunk larger than the socket write buffer is being written. This typically requires a larger than default AJP packetSize. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57674
Coyote|2015-03-26 Tomcat 8.0.21 (markt)|Update||Align the OpenSSL syntax cipher configuration with the OpenSSL 1.0.2 branch. (markt)|
Coyote|2015-03-26 Tomcat 8.0.21 (markt)|Fix||Numerous fixes to the APR/native connector to improve robustness. (markt)|
Coyote|2015-03-26 Tomcat 8.0.21 (markt)|Fix||Stop caching and re-using SocketWrapper instances. With the introduction of upgrade and non-blocking I/O, I/O can occur on non-container threads. This makes it nearly impossible to track whether a SocketWrapper is still being referenced or not, making re-use a risky proposition. (markt)|
Coyote|2015-03-26 Tomcat 8.0.21 (markt)|Code||Refactor Connector authentication (only used by AJP) into a separate method. (markt)|
Coyote|2015-03-26 Tomcat 8.0.21 (markt)|Add|57708|Implement a new feature for AJP connectors - Tomcat Authorization. If the new tomcatAuthorization attribute is set to true (it is disabled by default) Tomcat will take an authenticated user name from the AJP protocol and use the appropriate Realm for the request to authorize (i.e. add roles) to that user. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57708
Coyote|2015-03-26 Tomcat 8.0.21 (markt)|Fix||Fix an issue that meant that any pipe-lined data read by Tomcat before an asynchronous request completed was lost during the completion of the asynchronous request. This mean that the pipe-lined request(s) would be lost and/or corrupted. (markt)|
Coyote|2015-03-26 Tomcat 8.0.21 (markt)|Update||Update the minimum recommended version of the Tomcat Native library (if used) to 1.1.33. (markt)|
Jasper|2015-03-26 Tomcat 8.0.21 (markt)|Fix|57135|Package imports via javax.el.ImportHandler should only import public, concrete classes. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57135
Jasper|2015-03-26 Tomcat 8.0.21 (markt)|Fix|57583|Cache 'Not Found' results in javax.el.ImportHandler.resolveClass() to save repeated attempts to load classes that are known not to exist to improve performance. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57583
Jasper|2015-03-26 Tomcat 8.0.21 (markt)|Fix|57626|Correct a regression introduced in the 8.0.16 fix for ensuring Jars were closed after use, that broke recompilation of modified JSPs that depended on a tag file packaged in a Jar. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57626
Jasper|2015-03-26 Tomcat 8.0.21 (markt)|Fix|57627|Correctly determine last modified times for dependencies when a tag file packaged in a JAR depends on a tag file packaged in a second JAR. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57627
Jasper|2015-03-26 Tomcat 8.0.21 (markt)|Fix|57647|Ensure INFO message is logged when scanning jars for TLDs if the scan does not find a TLD in any jar. Previously a message would only be logged if a TLD was not found in all scanned jars. (jboynes)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57647
Jasper|2015-03-26 Tomcat 8.0.21 (markt)|Update|57662|Update all references to the ECJ compiler to version 4.4.2. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57662
Cluster|2015-03-26 Tomcat 8.0.21 (markt)|Fix||Remove unnecessary method that always returns true. The domain filtering works on DomainFilterInterceptor. (kfujino)|
WebSocket|2015-03-26 Tomcat 8.0.21 (markt)|Fix||Correct a bug in the permessage-deflate implementation that meant that the incorrect op-codes were used if an uncompressed message was converted into more than one compressed message. (markt)|
WebSocket|2015-03-26 Tomcat 8.0.21 (markt)|Add|57676|List conflicting WebSocket endpoint classes when there is a path conflict. Based upon a patch proposed by yangkun. (schultz)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57676
Web applications|2015-03-26 Tomcat 8.0.21 (markt)|Fix|56058|Add links to the AccessLogValve documentation for configuring reverse proxies and/or Tomcat to ensure that the desired information is used entered in the access log when Tomcat is running behind a reverse proxy. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56058
Web applications|2015-03-26 Tomcat 8.0.21 (markt)|Fix|57587|Update the JNDI Datasource HOWTO for DBCP2. Patch provided by Phil Steitz. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57587
Web applications|2015-03-26 Tomcat 8.0.21 (markt)|Fix||Remove incorrect note from context configuration page in the documentation web application that stated WAR files located outside the appBase were never unpacked. (markt)|
Web applications|2015-03-26 Tomcat 8.0.21 (markt)|Update|57644|Update examples to use Apache Standard Taglib 1.2.5. (jboynes)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57644
Web applications|2015-03-26 Tomcat 8.0.21 (markt)|Fix|57683|Ensure that if a client aborts their connection to the stock ticker example (the only way a client can disconnect), the example continues to work for existing and new clients. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57683
Web applications|2015-03-26 Tomcat 8.0.21 (markt)|Fix||Make it clear that when using digested passwords with DIGEST authentication that no salt and only a single iteration must be used when generating the digest. (markt)|
Extras|2015-03-26 Tomcat 8.0.21 (markt)|Fix|57377|Remove the restriction that prevented the use of SSL when specifying a bind address with the JMXRemoteLifecycleListener. Also enable SSL to be configured for the registry as well as the server. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57377
Tribes|2015-03-26 Tomcat 8.0.21 (markt)|Fix||When a map member has been added to ReplicatedMap, make sure to add it to backup nodes list of all other members. (kfujino)|
Tribes|2015-03-26 Tomcat 8.0.21 (markt)|Fix||Make sure that refuse the messages from a different domain in DomainFilterInterceptor. (kfujino)|
Other|2015-03-26 Tomcat 8.0.21 (markt)|Update||Update optional Checkstyle library to 6.4.1. (kkolinko)|
Other|2015-03-26 Tomcat 8.0.21 (markt)|Fix|57703|Update the http-method definition for web applications using a Servlet 2.5 descriptor as per Servlet 2.5 MR 6. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57703
Other|2015-03-26 Tomcat 8.0.21 (markt)|Update||Update to Tomcat Native Library version 1.1.33 to pick up the Windows binaries that are based on OpenSSL 1.0.1m and APR 1.5.1. (markt)|
Coyote|2015-02-20 Tomcat 8.0.20 (markt)|Fix||Fix a concurrency issue that meant that a change in socket timeout (e.g. when switching to asynchronous I/O) did not always take effect immediately. (markt)|
Catalina|not released Tomcat 8.0.19 (markt)|Fix||Clarify threaded usage of variables by removing volatile marker in NonceInfo. Issue reported by Coverity Scan. (fschumacher)|
Catalina|not released Tomcat 8.0.19 (markt)|Fix|57180|Further fixes to support the use of arbitrary HTTP methods with the CORS filter. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57180
Catalina|not released Tomcat 8.0.19 (markt)|Fix|57472|Fix performance regression in resources implementation when signed JARs are used in a web application. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57472
Catalina|not released Tomcat 8.0.19 (markt)|Add||Warn about problematic setting of appBase. (fschumacher)|
Catalina|not released Tomcat 8.0.19 (markt)|Fix||Fix exception while authentication in JDBCRealm. (fschumacher)|
Catalina|not released Tomcat 8.0.19 (markt)|Fix|57534|CORS Filter should only look at media type component of Content-Type request header. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57534
Catalina|not released Tomcat 8.0.19 (markt)|Fix|57556|Align getRealPath() behaviour with that of earlier versions and include a trailing separator if the real path refers to a directory. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57556
Catalina|not released Tomcat 8.0.19 (markt)|Fix||Ensure that Servlet 3.0 async requests where startAsync() is called in one container thread and dispatch() is called in a different container thread complete correctly. (markt)|
Catalina|not released Tomcat 8.0.19 (markt)|Fix||Ensure that user name checking in the optional SecurityListener is case-insensitive (as documented) and than the case-insensitive comparison is performed using the system default Locale. (markt)|
Catalina|not released Tomcat 8.0.19 (markt)|Add|57021|Improve logging in AprLifecycleListener and jni.Library when Tomcat-Native DLL fails to load. Based on a patch by Pravallika Peddi. (markt/kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57021
Coyote|not released Tomcat 8.0.19 (markt)|Fix||Fix several bugs that could cause multiple registrations for write events for a single socket when using Servlet 3.0 async. Typically, the side effects of these multiple registrations would be exceptions appearing in the logs. (markt)|
Coyote|not released Tomcat 8.0.19 (markt)|Fix|57432|Align SSL_OP_NO_TLSv1_1 and SSL_OP_NO_TLSv1_2 constant values with OpenSSL (they had been swapped). (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57432
Coyote|not released Tomcat 8.0.19 (markt)|Fix|57509|Improve length check when writing HTTP/1.1 response headers: reserve space for 4 extra bytes. (kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57509
Coyote|not released Tomcat 8.0.19 (markt)|Fix|57544|Fix potential infinite loop when preparing a kept alive HTTP connection for the next request. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57544
Coyote|not released Tomcat 8.0.19 (markt)|Fix|57546|Ensure that a dropped network connection does not leave references to the UpgradeProcessor associated with the connection in memory. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57546
Coyote|not released Tomcat 8.0.19 (markt)|Fix||When applying the maxSwallowSize limit to a connection read that many bytes first before closing the connection to give the client a chance to read the response. (markt)|
Coyote|not released Tomcat 8.0.19 (markt)|Fix||Prevent an async timeout being processed multiple times for the same socket when running on slow and/or heavily loaded systems. (markt)|
Coyote|not released Tomcat 8.0.19 (markt)|Fix|57581|Change statistics byte counter in coyote Request object to be long to allow values above 2Gb. (kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57581
Coyote|not released Tomcat 8.0.19 (markt)|Update||Use the data that supports cipher definition using OpenSSL syntax to improve the quality of values provided for the javax.servlet.request.key_size request attribute. (markt)|
Coyote|not released Tomcat 8.0.19 (markt)|Fix||Fix a concurrency issue in the APR Poller that meant it was possible under low load for a socket queued to be added to the Poller not to be added for 10 seconds. (markt)|
Jasper|not released Tomcat 8.0.19 (markt)|Update|57123|Update all references to the ECJ compiler to version 4.4.1. With thanks to Ralph Schaer for uploading the 4.4.1 JAR to Maven Central. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57123
Jasper|not released Tomcat 8.0.19 (markt)|Add|57564|Make JspC amenable to subclassing. Patch provided by Jan Bartel. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57564
Jasper|not released Tomcat 8.0.19 (markt)|Fix||Simplify code in ProtectedFunctionMapper class of Jasper runtime. (kkolinko)|
Jasper|not released Tomcat 8.0.19 (markt)|Fix|57574|Do not check existence of a Java package in javax.el.ImportHandler.importPackage(). (kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57574
WebSocket|not released Tomcat 8.0.19 (markt)|Fix|57490|Make it possible to use Tomcat's WebSocket client within a web application when running under a SecurityManager. Based on a patch by Mikael Sterner. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57490
WebSocket|not released Tomcat 8.0.19 (markt)|Add||Add some debug logging to the WebSocket session to track session creation and session closure. (markt)|
Web applications|not released Tomcat 8.0.19 (markt)|Update||Clarify documentation for useBodyEncodingForURI attribute of a connector. (kkolinko)|
Web applications|not released Tomcat 8.0.19 (markt)|Fix||Fix possible resource leaks by closing streams properly. Issues reported by Coverity Scan. (fschumacher)|
Web applications|not released Tomcat 8.0.19 (markt)|Fix|57503|Make clear that the JULI integration for log4j only works with log4j 1.2.x. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57503
Web applications|not released Tomcat 8.0.19 (markt)|Fix|57496|Remove hard-coded URL in JSP SVG example. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57496
Tribes|not released Tomcat 8.0.19 (markt)|Fix||Fix a possible deadlock when receiver thread invokes mapMemberAdded() while ping thread invokes memberAlive(). (kfujino)|
Other|not released Tomcat 8.0.19 (markt)|Add||Enhance bean factory used for JNDI resources. New attribute forceString allows to support non-standard string argument property setters. (rjung)|
Other|not released Tomcat 8.0.19 (markt)|Fix||Assign newly created stream to field instead of leaking it uselessly. Issue reported by Coverity Scan. (fschumacher)|
Other|not released Tomcat 8.0.19 (markt)|Update||Update optional Checkstyle library to 6.3. (kkolinko)|
Other|not released Tomcat 8.0.19 (markt)|Fix||Guard the digester from MbeansDescriptorsDigesterSource with its own lock object. (fschumacher)|
Other|not released Tomcat 8.0.19 (markt)|Fix||Refactor the unit tests and add some new test properties to make it easier to exclude performance tests and relax timing tests. This is primarily for the ASF CI system where these tests frequently fail. (markt)|
Other|not released Tomcat 8.0.19 (markt)|Fix|57558|Add missing JAR in Ant task definition required by the validate task. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57558
Other|not released Tomcat 8.0.19 (markt)|Add||List names of Testsuites that have failed or skipped tests when running the tests with Ant. (kkolinko)|
Catalina|2015-01-26 Tomcat 8.0.18 (markt)|Fix|57178|The CORS filter now treats null as a valid origin that matches *. Patch provided by Gregor Zurowski. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57178
Catalina|2015-01-26 Tomcat 8.0.18 (markt)|Fix|57425|Don't add attributes with null value or name to the replicated context. (fschumacher)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57425
Catalina|2015-01-26 Tomcat 8.0.18 (markt)|Add|57431|Enable usage of custom class for context creation when using embedded tomcat. (fschumacher)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57431
Catalina|2015-01-26 Tomcat 8.0.18 (markt)|Fix|57446|Ensure that ServletContextListeners that have limited access to ServletContext methods are called with the same ServletContext instance for both contextInitialized() and contextDestroyed(). (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57446
Catalina|2015-01-26 Tomcat 8.0.18 (markt)|Fix|57455|Explicitly block the use of the double-quote character when configuring the common, server and shared class loaders since double-quote is used to quote values that contain commas. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57455
Catalina|2015-01-26 Tomcat 8.0.18 (markt)|Fix|57461|"When an instance of org.apache.catalina.startup.VersionLoggerListener logs the result of System.getProperty(""java.home"") don't report it in a manner that makes it look like the JAVA_HOME environment variable. (markt)"|https://bz.apache.org/bugzilla/show_bug.cgi?id=57461
Catalina|2015-01-26 Tomcat 8.0.18 (markt)|Fix|57476|Ensure the responses written as part of a forward are fully written. This fixes a regression in 8.0.15 caused by the fix for 57252. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57476
Catalina|2015-01-26 Tomcat 8.0.18 (markt)|Fix||While closing streams for given resources ensure that if an exception happens it will be handled properly. Issue is reported by Coverity Scan. (violetagg)|
Catalina|2015-01-26 Tomcat 8.0.18 (markt)|Fix|57481|Fix IllegalStateException at the end of the request when using non-blocking reads with the HTTP BIO connector. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57481
Catalina|2015-01-26 Tomcat 8.0.18 (markt)|Fix||Change Response to use UEncoder instances with shared safeChars. (fschumacher)|
Catalina|2015-01-26 Tomcat 8.0.18 (markt)|Fix||Ensure that when static resources are served from JARs, only static resources are served. (markt)|
Catalina|2015-01-26 Tomcat 8.0.18 (markt)|Add||Allow VersionLoggerListener to log all system properties. This feature is off by default. (kkolinko)|
Jasper|2015-01-26 Tomcat 8.0.18 (markt)|Fix||Ensure that classes imported via the page directive are made available to the EL environment via the ImportHandler. Issue is reported by Coverity Scan. (violetagg)|
Jasper|2015-01-26 Tomcat 8.0.18 (markt)|Fix|57441|Do not trigger an error when using functions defined by lambdas or imported via an ImportHandler in an EL expression in a JSP. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57441
Cluster|2015-01-26 Tomcat 8.0.18 (markt)|Fix||Fix mbean descriptor of ClusterSingleSignOn. (kfujino)|
Cluster|2015-01-26 Tomcat 8.0.18 (markt)|Fix|57473|Add sanity check to FarmWebDeployer's WarWatcher to detect suspected incorrect permissions on the watch directory. (schultz)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57473
Tribes|2015-01-26 Tomcat 8.0.18 (markt)|Fix||Clarify the handling of Copy message and Copy nodes. (kfujino)|
Tribes|2015-01-26 Tomcat 8.0.18 (markt)|Fix||Copy node does not need to send the entry data. It is enough to send only the node information of the entry. (kfujino)|
Tribes|2015-01-26 Tomcat 8.0.18 (markt)|Fix||ReplicatedMap should send the Copy message when replicating. (kfujino)|
Tribes|2015-01-26 Tomcat 8.0.18 (markt)|Fix||Fix behavior of ReplicatedMap when member has disappeared. If map entry is primary, rebuild the backup members. If primary node of map entry has disappeared, backup node is promoted to primary. (kfujino)|
Catalina|2015-01-16 Tomcat 8.0.17 (markt)|Fix||Correct a regression in the previous fix for 57252 that broke request listeners for non-async requests that triggered an error that was handled by the ErrorReportingValve. (markt/violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57252
Coyote|2015-01-16 Tomcat 8.0.17 (markt)|Fix||Add flushing to send ack in the NIO2 connector. (remm)|
Catalina|not released Tomcat 8.0.16 (markt)|Fix|57172|Provide a better error message if something attempts to access a resource through a web application class loader that has been stopped. (markt/kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57172
Catalina|not released Tomcat 8.0.16 (markt)|Fix|57173|Revert the fix for 56953 that broke annotation scanning in some cases. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57173
Catalina|not released Tomcat 8.0.16 (markt)|Fix|57180|Do not limit the CORS filter to only accepting requests that use an HTTP method defined in RFC 7231. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57180
Catalina|not released Tomcat 8.0.16 (markt)|Fix|57190|Fix ServletContext.getContext(String) when parallel deployment is used so that the correct ServletContext is returned. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57190
Catalina|not released Tomcat 8.0.16 (markt)|Fix|57208|Prevent NPE in JNDI Realm when no results are found in a directory context for a user with specified user name. Based on a patch provided by Jason McIntosh. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57208
Catalina|not released Tomcat 8.0.16 (markt)|Add|57209|Add a new attribute, userSearchAsUser to the JNDI Realm. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57209
Catalina|not released Tomcat 8.0.16 (markt)|Fix|57215|Ensure that the result of calling HttpServletRequest.getContextPath() is neither decoded nor normalized as required by the Servlet specification. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57215
Catalina|not released Tomcat 8.0.16 (markt)|Fix|57216|"Improve handling of invalid context paths. A context path should either be an empty string or start with a '/' and do not end with a '/'. Invalid context path are automatically corrected and a warning is logged. The null and ""/"" values are now correctly changed to """". (markt/kkolinko)"|https://bz.apache.org/bugzilla/show_bug.cgi?id=57216
Catalina|not released Tomcat 8.0.16 (markt)|Fix||Update storeconfig with the CredentialHandler element. (remm)|
Catalina|not released Tomcat 8.0.16 (markt)|Fix||Correct message that is logged when load-on-startup servlet fails to load. It was logging a wrong name. (kkolinko)|
Catalina|not released Tomcat 8.0.16 (markt)|Fix|57239|Correct several message typos. Includes patch by vladk. (kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57239
Catalina|not released Tomcat 8.0.16 (markt)|Fix||Fix closing of Jars during annotation scanning. (schultz/kkolinko)|
Catalina|not released Tomcat 8.0.16 (markt)|Fix||Fix a concurrency issue in async processing. Ensure that a non-container thread can not change the async state until the container thread has completed. (markt)|
Catalina|not released Tomcat 8.0.16 (markt)|Fix|57252|Provide application configured error pages with a chance to handle an async error before the built-in error reporting. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57252
Catalina|not released Tomcat 8.0.16 (markt)|Fix|57281|Enable non-public Filter and Servlet classes to be configured programmatically via the Servlet 3.0 API and then used without error when running under a SecurityManager. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57281
Catalina|not released Tomcat 8.0.16 (markt)|Fix|57308|Remove unnecessary calls to System.getProperty() where more suitable API calls are available. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57308
Catalina|not released Tomcat 8.0.16 (markt)|Add||Add unit tests for RemoteAddrValve and RemoteHostValve. (rjung)|
Catalina|not released Tomcat 8.0.16 (markt)|Add||Allow to configure RemoteAddrValve and RemoteHostValve to adopt behavior depending on the connector port. Implemented by optionally adding the connector port to the string compared with the patterns allow and deny. Configured using addConnectorPort attribute on valve. (rjung)|
Catalina|not released Tomcat 8.0.16 (markt)|Add||Optionally trigger authentication instead of denial in RemoteAddrValve and RemoteHostValve. This only works in combination with preemptiveAuthentication on the application context. Configured using invalidAuthenticationWhenDeny attribute on valve. (rjung)|
Catalina|not released Tomcat 8.0.16 (markt)|Fix||Remove the obsolete jndi protocol usage from the scanning process performed by StandardJarScanner. (violetagg)|
Catalina|not released Tomcat 8.0.16 (markt)|Fix||Prevent file descriptors leak and ensure that files are closed after retrieving the last modification time. (violetagg)|
Catalina|not released Tomcat 8.0.16 (markt)|Update||Make o.a.catalina.webresources.StandardRoot easier for extending. (violetagg)|
Catalina|not released Tomcat 8.0.16 (markt)|Fix|57326|Enable AsyncListener implementations to re-register themselves during AsyncListener.onStartAsync. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57326
Catalina|not released Tomcat 8.0.16 (markt)|Fix|57331|"Allow ExpiresFilter to use ""year"" as synonym for ""years"" in its configuration. (kkolinko)"|https://bz.apache.org/bugzilla/show_bug.cgi?id=57331
Catalina|not released Tomcat 8.0.16 (markt)|Fix||Ensure that if the RewriteValve rewrites a request that subsequent calls to HttpServletRequest.getRequestURI() return the undecoded URI. (markt)|
Catalina|not released Tomcat 8.0.16 (markt)|Fix||Ensure that if the RewriteValve rewrites a request to a non-normalized URI that the URI is normalized before the URI is mapped to ensure that the correct mapping is applied. (markt)|
Catalina|not released Tomcat 8.0.16 (markt)|Fix||Prevent NPEs being logged during post-processing for requests that have been re-written by the RewriteValve. (markt)|
Catalina|not released Tomcat 8.0.16 (markt)|Fix||Various StoreConfig improvements including removing a dependency on the StandardServer implementation, improve consistency of behaviour when MBean is not registered and improve error messages when accessed via the Manager application. (markt)|
Catalina|not released Tomcat 8.0.16 (markt)|Update||Improve SnoopServlet in unit tests. (rjung)|
Catalina|not released Tomcat 8.0.16 (markt)|Add||Add RequestDescriptor class to unit tests. Adjust TestRewriteValve to use RequestDescriptor. (rjung)|
Catalina|not released Tomcat 8.0.16 (markt)|Update||Add more AJP unit tests. (rjung)|
Catalina|not released Tomcat 8.0.16 (markt)|Fix|57363|Log to stderr if LogManager is unable to read configuration files rather than swallowing the exception silently. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57363
Coyote|not released Tomcat 8.0.16 (markt)|Fix||Allow HTTP upgrade process to complete without data corruption when additional content is sent along with the upgrade header. (remm)|
Coyote|not released Tomcat 8.0.16 (markt)|Fix|57187|Regression handling the special * URL. (remm)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57187
Coyote|not released Tomcat 8.0.16 (markt)|Fix|57234|Make SSL protocol filtering to remove insecure protocols case insensitive. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57234
Coyote|not released Tomcat 8.0.16 (markt)|Fix|57265|Fix some potential concurrency issues with sendFile and the NIO connector. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57265
Coyote|not released Tomcat 8.0.16 (markt)|Fix|57324|If the client uses Expect: 100-continue and Tomcat responds with a non-2xx response code, Tomcat also closes the connection. If Tomcat knows the connection is going to be closed when committing the response, Tomcat will now also send the Connection: close response header. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57324
Coyote|not released Tomcat 8.0.16 (markt)|Fix|57340|When using Comet, ensure that Socket and SocketWrapper are only returned to their respective caches once on socket close (it is possible for multiple threads to call close concurrently). (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57340
Coyote|not released Tomcat 8.0.16 (markt)|Fix|57347|AJP response contains wrong status reason phrase (rjung)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57347
Coyote|not released Tomcat 8.0.16 (markt)|Add|57391|Allow TLS Session Tickets to be disabled when using the APR/native HTTP connector. Patch provided by Josiah Purtlebaugh. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57391
Jasper|not released Tomcat 8.0.16 (markt)|Fix|57142|As per the clarification from the JSP specification maintenance lead, classes and packages imported via the page directive must be made available to the EL environment via the ImportHandler. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57142
Jasper|not released Tomcat 8.0.16 (markt)|Fix|57247|Correct the default Java source and target versions in the JspC usage message to 1.7 for Java 7. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57247
Jasper|not released Tomcat 8.0.16 (markt)|Fix|57309|Ensure that the current EL Resolver is given an opportunity to perform type coercion before applying the default EL coercion rules. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57309
Jasper|not released Tomcat 8.0.16 (markt)|Fix||Improve the calculation of the resource's last-modified, performed by JspCompilationContext, in a way to support URLs with protocol different than jar:file. (violetagg)|
Jasper|not released Tomcat 8.0.16 (markt)|Fix||CVE-2014-7810: Do not use a privileged code block when evaluating EL expressions when running under a security manager, which allowed to bypass code restrictions. (markt)|
Jasper|not released Tomcat 8.0.16 (markt)|Fix||Fix an issue with BeanELResolver when running under a security manager. Some classes may not be accessible but may have accessible interfaces. (markt)|
Cluster|not released Tomcat 8.0.16 (markt)|Fix||In order to enable define in Cluster element, ClusterSingleSignOn implements ClusterValve. (kfujino)|
Cluster|not released Tomcat 8.0.16 (markt)|Fix|57338|Improve the ability of the ClusterSingleSignOn valve to handle nodes being added and removed from the Cluster at run time. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57338
WebSocket|not released Tomcat 8.0.16 (markt)|Fix||Correct multiple issues with the flushing of batched messages that could lead to duplicate and/or corrupt messages. (markt)|
WebSocket|not released Tomcat 8.0.16 (markt)|Fix||Correctly implement headers case insensitivity. (markt/remm)|
WebSocket|not released Tomcat 8.0.16 (markt)|Fix||Allow optional use of user extensions. (remm)|
WebSocket|not released Tomcat 8.0.16 (markt)|Fix||Allow using partial binary message handlers. (remm)|
WebSocket|not released Tomcat 8.0.16 (markt)|Fix||Limit ping/pong message size. (remm)|
WebSocket|not released Tomcat 8.0.16 (markt)|Fix||Allow configuration of the time interval for the periodic event. (remm)|
WebSocket|not released Tomcat 8.0.16 (markt)|Fix||More accurate annotations processing. (remm)|
WebSocket|not released Tomcat 8.0.16 (markt)|Fix||Allow optional default for origin header in the client. (remm)|
Web applications|not released Tomcat 8.0.16 (markt)|Fix||Update documentation for CGI servlet. Recommend to copy the servlet declaration into web application instead of enabling it globally. Correct documentation for cgiPathPrefix. (kkolinko)|
Web applications|not released Tomcat 8.0.16 (markt)|Update||Improve HTML version of build instructions and align with BUILDING.txt. (kkolinko)|
Web applications|not released Tomcat 8.0.16 (markt)|Update||Improve Tomcat Manager documentation. Rearrange, add section on HTML GUI, document /expire command and Server Status page. (kkolinko)|
Web applications|not released Tomcat 8.0.16 (markt)|Update|57238|Update information on SSL/TLS on Security and SSL documentation pages. Patch by Glen Peterson. (kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57238
Web applications|not released Tomcat 8.0.16 (markt)|Fix|57245|Correct the reference to allowLinking in the security configuration guide since that attribute has moved from the Context element to the nested Resources element. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57245
Web applications|not released Tomcat 8.0.16 (markt)|Fix||Fix ambiguity of section links on Valves configuration reference page. (kkolinko)|
Web applications|not released Tomcat 8.0.16 (markt)|Fix|57261|"Fix vminfo and threaddump Manager commands to start their output with an ""OK"" line. Document them. Based on a patch by Oleg Trokhov. (kkolinko)"|https://bz.apache.org/bugzilla/show_bug.cgi?id=57261
Web applications|not released Tomcat 8.0.16 (markt)|Fix|57267|Document the StoreConfigLifecycleListener and the /save command for the Manager application. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57267
Web applications|not released Tomcat 8.0.16 (markt)|Fix|57323|Correct display of outdated sessions in sessions count listing in Manager application. (kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57323
Web applications|not released Tomcat 8.0.16 (markt)|Add||Add document of ClusterSingleSignOn. (kfujino)|
Other|not released Tomcat 8.0.16 (markt)|Update||When downloading required libraries at build time, use random name for temporary file and automatically create destination directory (base.path). (kkolinko)|
Other|not released Tomcat 8.0.16 (markt)|Update||Update optional Checkstyle library to 6.2. (kkolinko)|
Other|not released Tomcat 8.0.16 (markt)|Update||Simplify setproxy task in build.xml. Taskdef there is not needed since Ant 1.8.2. (kkolinko)|
Other|not released Tomcat 8.0.16 (markt)|Fix||"Update ""ide-eclipse"" target in build.xml to create Eclipse project that uses Java 7 compliance settings instead of workspace-wide defaults. (kkolinko)"|
Other|not released Tomcat 8.0.16 (markt)|Fix||Update the package renamed copy of Apache Commons Pool 2 to the 2.3 release to pick up various fixes since the 2.2 release including one for a possible infinite loop. (markt)|
Other|not released Tomcat 8.0.16 (markt)|Fix|57285|Restore the manifest entry that marks the Windows uninstaller application as requiring elevated privileges. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57285
Other|not released Tomcat 8.0.16 (markt)|Add|57344|Provide sha1 checksum files for Tomcat downloads. Correct filename patterns for apache-tomcat-*-embed.tar.gz archive to exclude an *.asc file. (kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57344
Catalina|2014-11-07 Tomcat 8.0.15 (markt)|Add|43548|Add an XML schema for the tomcat-users.xml file. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=43548
Catalina|2014-11-07 Tomcat 8.0.15 (markt)|Add|43682|Add support for referring to the current context, host and service name in per Context logging.properties files by using the properties ${classloader.webappName}, ${classloader.hostName} and ${classloader.serviceName}. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=43682
Catalina|2014-11-07 Tomcat 8.0.15 (markt)|Add|47919|Extend the information logged when Tomcat starts to optionally log the values of command line arguments (enabled by default) and environment variables (disabled by default). Note that the values added to CATALINA_OPTS and JAVA_OPTS environment variables will be logged, as they are used to build up the command line. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=47919
Catalina|2014-11-07 Tomcat 8.0.15 (markt)|Add|49939|Expose the method that clears the static resource cache for a web application via JMX. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=49939
Catalina|2014-11-07 Tomcat 8.0.15 (markt)|Fix|55951|Allow cookies to use UTF-8 encoded values in HTTP headers. This requires the use of the RFC6265 CookieProcessor. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=55951
Catalina|2014-11-07 Tomcat 8.0.15 (markt)|Fix|55984|Using the allow separators in version 0 cookies option with the legacy cookie processor should only apply to version 0 cookies. Version 1 cookies with values that contain separators should not be affected and should continue to be quoted. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=55984
Catalina|2014-11-07 Tomcat 8.0.15 (markt)|Add|56393|Add support for RFC6265 cookie parsing and generation. This is currently disabled by default and may be enabled via the CookieProcessor element of a Context. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56393
Catalina|2014-11-07 Tomcat 8.0.15 (markt)|Add|56394|Introduce new configuration element CookieProcessor in Context to allow context-specific configuration of cookie processing options. Attributes of Context element that were added in Tomcat 8.0.13 to allow configuration of a new experimental RFC6265 based cookie parser (useRfc6265 and cookieEncoding) are replaced by this new configuration element. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56394
Catalina|2014-11-07 Tomcat 8.0.15 (markt)|Fix||Improve the previous fix for 56401. Avoid logging version information in the constructor since it then gets logged at undesirable times such as when using StoreConfig. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56401
Catalina|2014-11-07 Tomcat 8.0.15 (markt)|Fix|56403|Add pluggable password derivation support to the Realms via the new CredentialHandler interface. (markt/schultz)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56403
Catalina|2014-11-07 Tomcat 8.0.15 (markt)|Fix|57016|When using the PersistentValve do not remove sessions from the store when persisting them. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57016
Catalina|2014-11-07 Tomcat 8.0.15 (markt)|Add||Deprecate the use of system properties to control cookie parsing and replace them with attributes on the new CookieProcessor that may be configured on a per context basis. (markt)|
Catalina|2014-11-07 Tomcat 8.0.15 (markt)|Fix||Correct an edge case and allow a cookie if the value starts with an equals character and the CookieProcessor is not configured to allow equals characters in cookie values but is configured to allow name only cookies. (markt)|
Catalina|2014-11-07 Tomcat 8.0.15 (markt)|Fix|57022|Ensure SPNEGO authentication continues to work with the JNDI Realm using delegated credentials with recent Oracle JREs. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57022
Catalina|2014-11-07 Tomcat 8.0.15 (markt)|Fix|57027|Add additional validation for stored credentials used by Realms when the credential is stored using hex encoding. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57027
Catalina|2014-11-07 Tomcat 8.0.15 (markt)|Fix|57038|Add a WebResource.getCodeBase() method, implement for all WebResource implementations and then use it in the web application class loader to set the correct code base for resources loaded from JARs and WARs. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57038
Catalina|2014-11-07 Tomcat 8.0.15 (markt)|Fix||Correct a couple of NPEs in the JNDI Realm that could be triggered with when not specifying a roleBase and enabling roleSearchAsUser. (markt)|
Catalina|2014-11-07 Tomcat 8.0.15 (markt)|Fix||Correctly handle relative values for the docBase attribute of a Context. (markt)|
Catalina|2014-11-07 Tomcat 8.0.15 (markt)|Fix||Ensure that log messages generated by the web application class loader correctly identify the associated Context when multiple versions of a Context with the same path are present. (markt)|
Catalina|2014-11-07 Tomcat 8.0.15 (markt)|Fix||Remove the unnecessary registration of context.xml as a redeploy resource. The context.xml having an external docBase has already been registered as a redeploy resource at first. (kfujino)|
Catalina|2014-11-07 Tomcat 8.0.15 (markt)|Fix|57089|Ensure that configuration of a session ID generator is not lost when a web application is reloaded. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57089
Catalina|2014-11-07 Tomcat 8.0.15 (markt)|Fix|57105|When parsing web.xml do not limit the buffer element of the jsp-property-group element to integer values as the allowed values are <number>kb or none. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57105
Catalina|2014-11-07 Tomcat 8.0.15 (markt)|Update||Update the minimum required version of the Tomcat Native library (if used) to 1.1.32. (markt)|
Catalina|2014-11-07 Tomcat 8.0.15 (markt)|Fix||Update storeconfig with newly introduced elements: SessionIdGenerator, CookieProcessor, JarScanner and JarScanFilter. (remm)|
Catalina|2014-11-07 Tomcat 8.0.15 (markt)|Fix||Throw a NullPointerException if a null string is passed to the write(String,int,int) method of the PrintWriter obtained from the ServletResponse. (markt)|
Catalina|2014-11-07 Tomcat 8.0.15 (markt)|Fix||Cookie rewrite flag abbreviation should be CO rather than C. (remm)|
Catalina|2014-11-07 Tomcat 8.0.15 (markt)|Fix|57153|When the StandardJarScanner is configured to scan the full class path, ensure that class path entries added directly to the web application class loader are scanned. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57153
Catalina|2014-11-07 Tomcat 8.0.15 (markt)|Fix||AsyncContext should remain usable until fireOnComplete is called. (remm)|
Catalina|2014-11-07 Tomcat 8.0.15 (markt)|Fix||AsyncContext createListener should wrap any instantiation exception using a ServletException. (remm)|
Catalina|2014-11-07 Tomcat 8.0.15 (markt)|Fix|57155|Allow a web application to be configured that does not have a docBase on the file system. This is primarily intended for use when embedding. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57155
Catalina|2014-11-07 Tomcat 8.0.15 (markt)|Fix||Propagate header ordering from fileupload to the part implementation. (remm)|
Coyote|2014-11-07 Tomcat 8.0.15 (markt)|Add|53952|Add support for TLSv1.1 and TLSv1.2 for APR connector. Based upon a patch by Marcel Šebek. This feature requires Tomcat Native library 1.1.32 or later. (schultz/jfclere)|https://bz.apache.org/bugzilla/show_bug.cgi?id=53952
Coyote|2014-11-07 Tomcat 8.0.15 (markt)|Code||Cache the Encoder instances used to convert Strings to byte arrays in the Connectors (e.g. when writing HTTP headers) to improve throughput. (markt)|
Coyote|2014-11-07 Tomcat 8.0.15 (markt)|Add||Disable SSLv3 by default for JSSE based HTTPS connectors (BIO, NIO and NIO2). The change also ensures that SSLv2 is disabled for these connectors although SSLv2 should already be disabled by default by the JRE. (markt)|
Coyote|2014-11-07 Tomcat 8.0.15 (markt)|Add||Disable SSLv3 by default for the APR/native HTTPS connector. (markt)|
Coyote|2014-11-07 Tomcat 8.0.15 (markt)|Fix||Do not increase remaining counter at end of stream in IdentityInputFilter. (kkolinko)|
Coyote|2014-11-07 Tomcat 8.0.15 (markt)|Fix||Trigger an error if an invalid attempt is made to use non-blocking IO. (markt)|
Coyote|2014-11-07 Tomcat 8.0.15 (markt)|Fix|57157|Allow calls to AsyncContext.start(Runnable) during non-blocking IO reads and writes. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57157
Coyote|2014-11-07 Tomcat 8.0.15 (markt)|Fix||Async state MUST_COMPLETE should still be started. (remm)|
Jasper|2014-11-07 Tomcat 8.0.15 (markt)|Fix|57099|Ensure that semi-colons are not permitted in JSP import page directives. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57099
Jasper|2014-11-07 Tomcat 8.0.15 (markt)|Fix|57113|Fix broken package imports in Expression Language when more than one package was imported and the desired class was not in the last package imported. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57113
Jasper|2014-11-07 Tomcat 8.0.15 (markt)|Fix|57132|Fix import conflicts reporting in Expression Language. (kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57132
Jasper|2014-11-07 Tomcat 8.0.15 (markt)|Fix||When coercing an object to a given type, only attempt coercion to an array if both the object type and the target type are an array type. (violetagg/markt)|
Jasper|2014-11-07 Tomcat 8.0.15 (markt)|Fix||Improve handling of invalid input to javax.el.ImportHandler.resolveClass(). (markt)|
Jasper|2014-11-07 Tomcat 8.0.15 (markt)|Fix||Allow the same class to be added to an instance of javax.el.ImportHandler more than once without triggering an error. The second and subsequent calls for the same class will be ignored. (markt)|
Jasper|2014-11-07 Tomcat 8.0.15 (markt)|Fix|57136|Ensure only \${ and \#{ are treated as escapes for ${ and #{ rather than \$ and \# being treated as escapes for $ and # when processing literal expressions in expression language. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57136
Jasper|2014-11-07 Tomcat 8.0.15 (markt)|Fix||When coercing an object to an array type in Expression Language, handle the case where the source object is an array of primitives. (markt/kkolinko)|
Jasper|2014-11-07 Tomcat 8.0.15 (markt)|Fix||Do not throw an exception on missing JSP file servlet initialization. (remm)|
Jasper|2014-11-07 Tomcat 8.0.15 (markt)|Fix|57148|When coercing an object to a given type and a PropertyEditor has been registered for the type correctly coerce the empty string to null if the PropertyEditor throws an exception. (kkolinko/markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57148
Jasper|2014-11-07 Tomcat 8.0.15 (markt)|Fix|57153|Correctly scan for TLDs located in directories that represent expanded JARs files that have been added to the web application class loader's class path. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57153
Jasper|2014-11-07 Tomcat 8.0.15 (markt)|Fix|57141|Enable EL in JSPs to refer to static fields of imported classes including the standard java.lang.* imports. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57141
Cluster|2014-11-07 Tomcat 8.0.15 (markt)|Fix||Add support for the SessionIdGenerator to cluster manager template. (kfujino)|
Cluster|2014-11-07 Tomcat 8.0.15 (markt)|Fix||Avoid possible integer overflows reported by Coverity Scan. (fschumacher)|
WebSocket|2014-11-07 Tomcat 8.0.15 (markt)|Fix|57054|Correctly handle the case in the WebSocket client when the HTTP response to the upgrade request can not be read in a single pass; either because the buffer is too small or the server sent the response in multiple packets. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57054
WebSocket|2014-11-07 Tomcat 8.0.15 (markt)|Add||Extend support for the permessage-deflate extension to the client implementation. (markt)|
WebSocket|2014-11-07 Tomcat 8.0.15 (markt)|Fix||Fix client subprotocol handling. (remm)|
WebSocket|2014-11-07 Tomcat 8.0.15 (markt)|Fix||Add null checks for arguments in remote endpoint. (remm/kkolinko)|
WebSocket|2014-11-07 Tomcat 8.0.15 (markt)|Fix|57091|Work around the behaviour of the Oracle JRE when creating new threads in an applet environment that breaks the WebSocket client implementation. Patch provided by Niklas Hallqvist. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57091
WebSocket|2014-11-07 Tomcat 8.0.15 (markt)|Fix|57118|Ensure that that an EncodeException is thrown by RemoteEndpoint.Basic.sendObject(Object) rather than an IOException when no suitable Encoder is configured for the given Object. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57118
Web applications|2014-11-07 Tomcat 8.0.15 (markt)|Fix||Correct a couple of broken links in the Javadoc. (markt)|
Web applications|2014-11-07 Tomcat 8.0.15 (markt)|Fix||Correct documentation for ServerCookie.ALLOW_NAME_ONLY system property. (kkolinko)|
Web applications|2014-11-07 Tomcat 8.0.15 (markt)|Fix|57049|Clarified that jvmRoute can be set in <Engine>'s jvmRoute or in a system property. (schultz)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57049
Web applications|2014-11-07 Tomcat 8.0.15 (markt)|Fix||Correct version of Java WebSocket mentioned in documentation (s/1.0/1.1/). (markt/kkolinko)|
Web applications|2014-11-07 Tomcat 8.0.15 (markt)|Update||Suppress timestamp comments in Javadoc. (kkolinko)|
Web applications|2014-11-07 Tomcat 8.0.15 (markt)|Fix|57147|Various corrections to the JDBC Store section of the session manager configuration page of the documentation web application. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57147
Tribes|2014-11-07 Tomcat 8.0.15 (markt)|Fix|45282|Improve shutdown of NIO receiver so that sockets are closed cleanly. (fhanik/markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=45282
jdbc-pool|2014-11-07 Tomcat 8.0.15 (markt)|Fix|57005|Fix javadoc errors when building with Java 8. Patch provided by Pierre Viret. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57005
jdbc-pool|2014-11-07 Tomcat 8.0.15 (markt)|Fix|57079|Use Tomcat version number for jdbc-pool module when building and shipping the module as part of Tomcat. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57079
jdbc-pool|2014-11-07 Tomcat 8.0.15 (markt)|Fix||"Fix broken overview page in javadoc generated via ""javadoc"" task in jdbc-pool build.xml file. (kkolinko)"|
Other|2014-11-07 Tomcat 8.0.15 (markt)|Fix|56079|The uninstaller packaged with the Apache Tomcat Windows installer is now digitally signed. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56079
Other|2014-11-07 Tomcat 8.0.15 (markt)|Fix||Fix timestamps in Tomcat build and jdbc-pool to use 24-hour format instead of 12-hour one and use UTC timezone. (markt/kkolinko)|
Other|2014-11-07 Tomcat 8.0.15 (markt)|Fix||Update the package renamed copy of Apache Commons DBCP 2 to revision 1631450 to pick up additional fixes since the 2.0.1 release including Javadoc corrections to fix errors when compiling with Java 8. (markt)|
Other|2014-11-07 Tomcat 8.0.15 (markt)|Update|56596|Update to Tomcat Native Library version 1.1.32 to pick up the Windows binaries that are based on OpenSSL 1.0.1j and APR 1.5.1. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56596
Other|2014-11-07 Tomcat 8.0.15 (markt)|Code||In Tomcat tests: log name of the current test method at start time. (kkolinko)|
Other|2014-09-29 Tomcat 8.0.14 (markt)|Fix|56079|The Apache Tomcat Windows installer, the Apache Tomcat Windows service and the Apache Tomcat Windows service monitor application are now digitally signed. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56079
Catalina|not released Tomcat 8.0.13 (markt)|Fix|55917|Allow bytes in the range 0x80 to 0xFF to appear in cookie values if the cookie is a V1 (RFC2109) cookie and the value is correctly quoted. The new RFC6265 based cookie parser must be enabled to correctly handle these cookies. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=55917
Catalina|not released Tomcat 8.0.13 (markt)|Fix|55918|Do not permit control characters to appear in quoted V1 (RFC2109) cookie values. The new RFC6265 based cookie parser must be enabled to correctly handle these cookies. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=55918
Catalina|not released Tomcat 8.0.13 (markt)|Fix|55921|Correctly handle (ignore the cookie) unescaped JSON in a cookie value. The new RFC6265 based cookie parser must be enabled to correctly handle these cookies. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=55921
Catalina|not released Tomcat 8.0.13 (markt)|Add|56401|Log version information when Tomcat starts. (markt/kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56401
Catalina|not released Tomcat 8.0.13 (markt)|Add|56530|Add a web application class loader implementation that supports the parallel loading of web application classes. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56530
Catalina|not released Tomcat 8.0.13 (markt)|Fix|56900|Fix some potential resource leaks when reading property files reported by Coverity Scan. Based on patches provided by Felix Schumacher. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56900
Catalina|not released Tomcat 8.0.13 (markt)|Fix|56902|Fix a potential resource leak in the Default Servlet reported by Coverity Scan. Based on a patch provided by Felix Schumacher. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56902
Catalina|not released Tomcat 8.0.13 (markt)|Fix|56903|Correct the return value for StandardContext.getResourceOnlyServlets() so that multiple names are separated by commas. Identified by Coverity Scan and fixed based on a patch by Felix Schumacher. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56903
Catalina|not released Tomcat 8.0.13 (markt)|Add||Add an additional implementation of a RFC6265 based cookie parser along with new Context options to select and configure it. This parser is currently considered experimental and is not used by default. (markt)|
Catalina|not released Tomcat 8.0.13 (markt)|Fix||Fixed the multipart elements merge operation performed during web application deployment. Identified by Coverity Scan. (violetagg)|
Catalina|not released Tomcat 8.0.13 (markt)|Fix||Correct the information written by ExtendedAccessLogValve when a format token x-O(XXX) is used so that multiple values for a header XXX are separated by commas. Identified by Coverity Scan. (violetagg)|
Catalina|not released Tomcat 8.0.13 (markt)|Fix||Fix a potential resource leak when reading MANIFEST.MF file for extension dependencies reported by Coverity Scan. (violetagg)|
Catalina|not released Tomcat 8.0.13 (markt)|Fix||Fix some potential resource leaks when reading properties, files and other resources. Reported by Coverity Scan. (violetagg)|
Catalina|not released Tomcat 8.0.13 (markt)|Fix||Correct the previous fix for 56825 that enabled pre-emptive authentication to work with the SSL authenticator. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56825
Catalina|not released Tomcat 8.0.13 (markt)|Code||Refactor to reduce code duplication identified by Simian. (markt)|
Catalina|not released Tomcat 8.0.13 (markt)|Fix||When using parallel deployment and undeployOldVersions feature is enabled on a Host, correctly undeploy context of old version. Make sure that Tomcat does not undeploy older Context if current context is not running. (kfujino)|
Catalina|not released Tomcat 8.0.13 (markt)|Fix||Fix a rare threading issue when locking resources via WebDAV. (markt)|
Catalina|not released Tomcat 8.0.13 (markt)|Fix||Fix a rare threading issue when using HTTP digest authentication. (markt)|
Catalina|not released Tomcat 8.0.13 (markt)|Fix||When deploying war, add XML file in the config base to the redeploy resources if war does not have META-INF/context.xml or deployXML is false. If XML file is created in the config base, redeploy will occur. (kfujino)|
Catalina|not released Tomcat 8.0.13 (markt)|Code||Various changes to reduce unnecessary code in Tomcat's copy of Apache Commons BCEL to reduce the time taken for annotation scanning when web applications start. Includes contributions from kkolinko and hzhang9. (markt)|
Catalina|not released Tomcat 8.0.13 (markt)|Fix|56938|Ensure web applications that have mixed case context paths and are deployed as directories are correctly removed on undeploy when running on a case sensitive file system. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56938
Catalina|not released Tomcat 8.0.13 (markt)|Add|57004|Add stuckThreadCount property to StuckThreadDetectionValve's JMX bean. Patch provided by Jiří Pejchal. (schultz)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57004
Catalina|not released Tomcat 8.0.13 (markt)|Fix|57011|Ensure that the request and response are correctly recycled when processing errors during async processing. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=57011
Coyote|not released Tomcat 8.0.13 (markt)|Fix|56910|Prevent the invalid value of -1 being used for maxConnections with APR connectors. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56910
Coyote|not released Tomcat 8.0.13 (markt)|Fix||Ensure that AJP connectors enable the KeepAliveTimeout. (kfujino)|
Coyote|not released Tomcat 8.0.13 (markt)|Fix||Reduce duplicated code. All AJP connectors use common method to configuration of processor. (kfujino)|
Jasper|not released Tomcat 8.0.13 (markt)|Fix|43001|Enable the JspC Ant task to set the JspC option mappedFile. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=43001
Jasper|not released Tomcat 8.0.13 (markt)|Fix||Ensure that the implementation of javax.servlet.jsp.PageContext.include(String) and javax.servlet.jsp.PageContext.include(String, boolean) will throw IOException when an I/O error occur during the operation. (violetagg)|
Jasper|not released Tomcat 8.0.13 (markt)|Fix|56908|Fix some potential resource leaks when reading jar files. Reported by Coverity Scan. Patch provided by Felix Schumacher. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56908
Jasper|not released Tomcat 8.0.13 (markt)|Fix||Fix a potential resource leak in JDTCompiler when checking whether a resource is a package. Reported by Coverity Scan. (fschumacher)|
Jasper|not released Tomcat 8.0.13 (markt)|Fix|56991|Deprecate the use of a request attribute to pass a <jsp-file> declaration to Jasper and prevent an infinite loop if this technique is used in conjunction with an include. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56991
WebSocket|not released Tomcat 8.0.13 (markt)|Fix|56905|Make destruction on web application stop of thread group used for WebSocket connections more robust. (kkolinko/markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56905
WebSocket|not released Tomcat 8.0.13 (markt)|Fix|56907|Ensure that client IO threads are stopped if a secure WebSocket client connection fails. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56907
WebSocket|not released Tomcat 8.0.13 (markt)|Fix|56982|Return the actual negotiated extensions rather than an empty list for Session.getNegotiatedExtensions(). (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56982
WebSocket|not released Tomcat 8.0.13 (markt)|Update||Update the WebSocket implementation to support the Java WebSocket specification version 1.1. (markt)|
Web applications|not released Tomcat 8.0.13 (markt)|Add||Add JarScanner to the nested components listed for a Context. (markt)|
Web applications|not released Tomcat 8.0.13 (markt)|Update||Update the Windows authentication documentation after some additional testing to answer the remaining questions. (markt)|
Other|not released Tomcat 8.0.13 (markt)|Fix|56895|Correctly compose JAVA_OPTS in catalina.bat so that escape sequences are preserved. Patch by Lucas Theisen. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56895
Other|not released Tomcat 8.0.13 (markt)|Update|56988|Allow to use relative path in base.path setting when building Tomcat. (kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56988
Other|not released Tomcat 8.0.13 (markt)|Fix|56990|Ensure that the ide-eclipse build target downloads all the libraries required by the default Eclipse configuration files. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56990
Other|not released Tomcat 8.0.13 (markt)|Fix||Update the package renamed copy of Apache Commons DBCP 2 to revision 1626988 to pick up the fixes since the 2.0.1 release including support for custom eviction policies. (markt)|
Other|not released Tomcat 8.0.13 (markt)|Fix||Update the package renamed copy of Apache Commons Pool 2 to revision 1627271 to pick up the fixes since the 2.2 release including some memory leak fixes and support for application provided eviction policies. (markt)|
Catalina|2014-09-03 Tomcat 8.0.12 (markt)|Add||Make the session id generator extensible by adding a SessionIdGenerator interface, an abstract base class and a standard implementation. (rjung)|
Catalina|2014-09-03 Tomcat 8.0.12 (markt)|Fix|56882|Fix regression in processing of includes and forwards when Context have been reloaded. Tomcat was responding with HTTP Status 503 (Servlet xxx is currently unavailable). (kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56882
Coyote|2014-09-03 Tomcat 8.0.12 (markt)|Fix||When building a list of JSSE ciphers from an OpenSSL cipher definition, ignore unknown criteria rather than throwing a NullPointerException. (markt)|
Coyote|2014-09-03 Tomcat 8.0.12 (markt)|Add||Add support for the EECDH alias when using the OpenSSL cipher syntax to define JSSE ciphers. (markt)|
Jasper|2014-09-03 Tomcat 8.0.12 (markt)|Fix||Correct a logic error in the JasperElResolver. There was no functional impact but the code was less efficient as a result of the error. Based on a patch by martinschaef. (markt)|
Jasper|2014-09-03 Tomcat 8.0.12 (markt)|Fix|56568|Enable any HTTP method to be used to request a JSP page that has the isErrorPage page directive set to true. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56568
WebSocket|2014-09-03 Tomcat 8.0.12 (markt)|Add||Extend support for the permessage-deflate extension to compression of outgoing messages on the server side. (markt)|
Other|2014-09-03 Tomcat 8.0.12 (markt)|Add|56323|Include the *.bat files when installing Tomcat via the Windows installer. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56323
Catalina|2014-08-22 Tomcat 8.0.11 (markt)|Fix|56658|Fix regression that a context was inaccessible after reload. (kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56658
Catalina|2014-08-22 Tomcat 8.0.11 (markt)|Fix|56710|Do not map requests to servlets when context is being reloaded. (kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56710
Catalina|2014-08-22 Tomcat 8.0.11 (markt)|Fix|56712|Fix session idle time calculations in PersistenceManager. (kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56712
Catalina|2014-08-22 Tomcat 8.0.11 (markt)|Fix|56717|Fix duplicate registration of MapperListener during repeated starts of embedded Tomcat. (kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56717
Catalina|2014-08-22 Tomcat 8.0.11 (markt)|Add|56724|Write an error message to Tomcat logs if container background thread is aborted unexpectedly. (kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56724
Catalina|2014-08-22 Tomcat 8.0.11 (markt)|Fix||When scanning class files (e.g. for annotations) and reading the number of parameters in a MethodParameters structure only read a single byte (rather than two bytes) as per the JVM specification. Patch provided by Francesco Komauli. (markt)|
Catalina|2014-08-22 Tomcat 8.0.11 (markt)|Fix||Allow the JNDI Realm to start even if the directory is not available. The directory not being available is not fatal once the Realm is started and it need not be fatal when the Realm starts. Based on a patch by Cédric Couralet. (markt)|
Catalina|2014-08-22 Tomcat 8.0.11 (markt)|Fix|56736|Avoid an incorrect IllegalStateException if the async timeout fires after a non-container thread has called AsyncContext.dispatch() but before a container thread starts processing the dispatch. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56736
Catalina|2014-08-22 Tomcat 8.0.11 (markt)|Fix|56739|If an application handles an error on an application thread during asynchronous processing by calling HttpServletResponse.sendError(), then ensure that the application is given an opportunity to report that error via an appropriate application defined error page if one is configured. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56739
Catalina|2014-08-22 Tomcat 8.0.11 (markt)|Fix|56784|Fix a couple of rare but theoretically possible atomicity bugs. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56784
Catalina|2014-08-22 Tomcat 8.0.11 (markt)|Fix|56785|Avoid NullPointerException if directory exists on the class path that is not readable by the Tomcat user. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56785
Catalina|2014-08-22 Tomcat 8.0.11 (markt)|Fix|56796|Remove unnecessary sleep when stopping a web application. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56796
Catalina|2014-08-22 Tomcat 8.0.11 (markt)|Fix|56801|Improve performance of org.apache.tomcat.util.file.Matcher which is to filter JARs for scanning during web application start. Based on a patch by Sheldon Shao. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56801
Catalina|2014-08-22 Tomcat 8.0.11 (markt)|Fix|56815|When the gzip option is enabled for the DefaultServlet ensure that a suitable Vary header is returned for resources that might be returned directly in compressed form. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56815
Catalina|2014-08-22 Tomcat 8.0.11 (markt)|Fix||Do not mark threads from the container thread pool as container threads when being used to process AsyncContext.start(Runnable) so processing is correctly transferred back to a genuine container thread when necessary. (markt)|
Catalina|2014-08-22 Tomcat 8.0.11 (markt)|Add||Add simple caching for calls to StandardRoot.getResources() in the new (for 8.0.x) resources implementation. (markt)|
Catalina|2014-08-22 Tomcat 8.0.11 (markt)|Fix|56825|Enable pre-emptive authentication to work with the SSL authenticator. Based on a patch by jlmonteiro. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56825
Catalina|2014-08-22 Tomcat 8.0.11 (markt)|Fix|56840|Avoid NPE when the rewrite valve is mapped to a context. (remm)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56840
Catalina|2014-08-22 Tomcat 8.0.11 (markt)|Fix||Correctly handle multiple accept-language headers rather than just using the first header to determine the user's preferred Locale. (markt)|
Catalina|2014-08-22 Tomcat 8.0.11 (markt)|Fix|56848|Improve handling of accept-language headers. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56848
Catalina|2014-08-22 Tomcat 8.0.11 (markt)|Fix|56857|Fix thread safety issue when calling ServletContext methods while running under a security manager. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56857
Coyote|2014-08-22 Tomcat 8.0.11 (markt)|Fix||Fix NIO2 sendfile state tracking and error handling to fix various corruption issues. (remm)|
Coyote|2014-08-22 Tomcat 8.0.11 (markt)|Fix||Missing timeout for NIO2 sendfile writes. (remm)|
Coyote|2014-08-22 Tomcat 8.0.11 (markt)|Fix||Allow inline processing for NIO2 sendfile and optimize keepalive behavior. (remm)|
Coyote|2014-08-22 Tomcat 8.0.11 (markt)|Fix||Fix excessive NIO2 sendfile direct memory use in some cases, sendfile will now instead use the regular socket write buffer as configured. (remm)|
Coyote|2014-08-22 Tomcat 8.0.11 (markt)|Fix|56661|Fix getLocalAddr() for AJP connectors. The complete fix is only available with a recent AJP forwarder like the forthcoming mod_jk 1.2.41. (rjung)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56661
Coyote|2014-08-22 Tomcat 8.0.11 (markt)|Fix||Use default ciphers defined as HIGH:!aNULL:!eNULL:!EXPORT:!DES:!RC4:!MD5 so that no weak ciphers are enabled by default. (remm)|
Coyote|2014-08-22 Tomcat 8.0.11 (markt)|Fix|56780|Enable Tomcat to start when using SSL with an IBM JRE in strict SP800-131a mode. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56780
Coyote|2014-08-22 Tomcat 8.0.11 (markt)|Fix|56810|Remove use of Java 8 specific API calls in unit tests for OpenSSL to JSSE cipher conversion. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56810
Jasper|2014-08-22 Tomcat 8.0.11 (markt)|Fix|56709|Fix system property name in a log message. Submitted by Robert Kish. (remm)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56709
Jasper|2014-08-22 Tomcat 8.0.11 (markt)|Fix|56797|When matching a method in an EL expression, do not treat bridge methods as duplicates of the method they bridge to. In this case always call the target of the bridge method. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56797
WebSocket|2014-08-22 Tomcat 8.0.11 (markt)|Fix|56746|Allow secure WebSocket client threads to use the current context class loader rather than explicitly setting it to the class loader that loaded the WebSocket implementation. This allows WebSocket client connections from within web applications to access, amongst other things, the JNDI resources associated with the web application. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56746
Web applications|2014-08-22 Tomcat 8.0.11 (markt)|Fix||Correct the label in the list of sessions by idle time for the bin that represents the idle time immediately below the maximum permitted idle time when using the expire command of the Manager application. (markt)|
jdbc-pool|2014-08-22 Tomcat 8.0.11 (markt)|Fix|53088|More identifiable thread name. (fhanik)|https://bz.apache.org/bugzilla/show_bug.cgi?id=53088
jdbc-pool|2014-08-22 Tomcat 8.0.11 (markt)|Fix|53200|Selective logging for slow versus failed queries. (fhanik)|https://bz.apache.org/bugzilla/show_bug.cgi?id=53200
jdbc-pool|2014-08-22 Tomcat 8.0.11 (markt)|Fix|53853|More flexible classloading. (fhanik)|https://bz.apache.org/bugzilla/show_bug.cgi?id=53853
jdbc-pool|2014-08-22 Tomcat 8.0.11 (markt)|Fix|54225|Disallow empty init SQL. (fhanik)|https://bz.apache.org/bugzilla/show_bug.cgi?id=54225
jdbc-pool|2014-08-22 Tomcat 8.0.11 (markt)|Fix|54227|Evaluate max age upon borrow. (fhanik)|https://bz.apache.org/bugzilla/show_bug.cgi?id=54227
jdbc-pool|2014-08-22 Tomcat 8.0.11 (markt)|Fix|54235|Disallow nested pools exploitating using data source. (fhanik)|https://bz.apache.org/bugzilla/show_bug.cgi?id=54235
jdbc-pool|2014-08-22 Tomcat 8.0.11 (markt)|Fix|54395|Fix JDBC interceptor parsing bug. (fhanik)|https://bz.apache.org/bugzilla/show_bug.cgi?id=54395
jdbc-pool|2014-08-22 Tomcat 8.0.11 (markt)|Fix|54537|Performance improvement in StatementFinalizer. (fhanik)|https://bz.apache.org/bugzilla/show_bug.cgi?id=54537
jdbc-pool|2014-08-22 Tomcat 8.0.11 (markt)|Fix|54978|Make sure proper connection validation always happens, regardless of config. (fhanik)|https://bz.apache.org/bugzilla/show_bug.cgi?id=54978
jdbc-pool|2014-08-22 Tomcat 8.0.11 (markt)|Fix|56318|Ability to trace statement creation in StatementFinalizer. (fhanik)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56318
jdbc-pool|2014-08-22 Tomcat 8.0.11 (markt)|Fix|56789|getPool() returns the actual pool, always. (fhanik)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56789
Other|2014-08-22 Tomcat 8.0.11 (markt)|Add|56788|Display the full version in the list of installed applications when installed via the Windows installer package. Patch provided by Alexandre Garnier. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56788
Other|2014-08-22 Tomcat 8.0.11 (markt)|Add|56829|Add the ability for users to define their own values for _RUNJAVA and _RUNJDB environment variables. Be more strict with executable filename on Windows (s/java/java.exe/). Based on a patch by Neeme Praks. (markt/kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56829
Catalina|not released Tomcat 8.0.10 (markt)|Fix|44312|Log an error if there is a conflict between Host and Alias names. Improve host management methods in Mapper to avoid occasionally removing a wrong host. Check that host management operations are performed on the host and not on an alias. (kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=44312
Catalina|not released Tomcat 8.0.10 (markt)|Code|56611|Refactor code to remove inefficient calls to Method.isAnnotationPresent(). Based on a patch by Jian Mou. (markt/kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56611
Catalina|not released Tomcat 8.0.10 (markt)|Fix||Fix regression in StandardContext.removeApplicationListener(), introduced by the fix for bug 56588. (kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56588
Catalina|not released Tomcat 8.0.10 (markt)|Fix|56653|Fix concurrency issue with lists of contexts in Mapper when stopping Contexts. (kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56653
Catalina|not released Tomcat 8.0.10 (markt)|Fix|56657|When using parallel deployment, if the same session id matches different versions of a web application, prefer the latest version. Ensure that remapping selects the version that we expect. (kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56657
Catalina|not released Tomcat 8.0.10 (markt)|Fix||Assert that mapping result object is empty before performing mapping work in Mapper. (kkolinko)|
Catalina|not released Tomcat 8.0.10 (markt)|Code||Remove context and wrapper fields in Request class and deprecate their setters. (kkolinko)|
Catalina|not released Tomcat 8.0.10 (markt)|Fix|56658|Avoid delay between registrations of mappings for context and for its servlets. (kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56658
Catalina|not released Tomcat 8.0.10 (markt)|Fix|56665|Correct the generation of the effective web.xml when elements contain an empty string as value. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56665
Catalina|not released Tomcat 8.0.10 (markt)|Fix||Fix storeconfig exception routing issues, so that a major problem should avoid configuration overwrite. (remm)|
Catalina|not released Tomcat 8.0.10 (markt)|Fix||Add configuration fields for header names in SSLValve. (remm)|
Catalina|not released Tomcat 8.0.10 (markt)|Fix|56666|When clearing the SSO cookie use the same values for domain, path, httpOnly and secure as were used to set the SSO cookie. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56666
Catalina|not released Tomcat 8.0.10 (markt)|Fix|56677|Ensure that HttpServletRequest.getServletContext() returns the correct value during a cross-context dispatch. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56677
Catalina|not released Tomcat 8.0.10 (markt)|Fix|56684|Ensure that Tomcat does not shut down if the socket waiting for the shutdown command experiences a SocketTimeoutException. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56684
Catalina|not released Tomcat 8.0.10 (markt)|Fix|56693|Fix various issues in the static resource cache implementation where the cache retained a stale entry after the successful completion of an operation that always invalidates the cache entry such as a delete operation. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56693
Catalina|not released Tomcat 8.0.10 (markt)|Fix||When the current PathInfo is modified as a result of dispatching a request, ensure that a call to HttpServletRequest.getPathTranslated() returns a value that is based on the modified PathInfo. (markt)|
Catalina|not released Tomcat 8.0.10 (markt)|Fix|56698|When persisting idle sessions, only persist newly idle sessions. Patch provided by Felix Schumacher. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56698
Coyote|not released Tomcat 8.0.10 (markt)|Fix|56663|Fix edge cases demonstrated by ByteCounter relating to data available, remaining and extra write events, mostly occurring with non blocking Servlet 3.1. (remm)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56663
Coyote|not released Tomcat 8.0.10 (markt)|Fix||Avoid possible NPE stopping endpoints that are not started (stop shouldn't do anything in that case). (remm)|
Coyote|not released Tomcat 8.0.10 (markt)|Add|56704|Add support for OpenSSL syntax for ciphers when using JSSE SSL connectors. Submitted by Emmanuel Hugonnet. (remm)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56704
Coyote|not released Tomcat 8.0.10 (markt)|Update||Allow to configure maxSwallowSize attribute of an HTTP connector via JMX. (kkolinko)|
Jasper|not released Tomcat 8.0.10 (markt)|Fix|56543|Update to the Eclipse JDT Compiler 4.4. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56543
Jasper|not released Tomcat 8.0.10 (markt)|Fix|56652|Add support for method parameters that use arrays and varargs to ELProcessor.defineFunction().(markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56652
WebSocket|not released Tomcat 8.0.10 (markt)|Add||Add support for the permessage-deflate extension. This is currently limited to decompressing incoming messages on the server side. It is expected that support will be extended to outgoing messages and to the client side shortly. (markt)|
Web applications|not released Tomcat 8.0.10 (markt)|Fix||Attempt to obfuscate session cookie values associated with other web applications when viewing HTTP request headers with the Cookies example from the examples web application. This reduces the opportunity to use this example for malicious purposes should the advice to remove the examples web application from security sensitive systems be ignored. (markt)|
Web applications|not released Tomcat 8.0.10 (markt)|Fix|56694|Remove references to Manager attribute checkInterval from documentation and Javadoc since it no longer exists. Based on a patch by Felix Schumacher. Also remove other references to checkInterval that are no longer valid. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56694
Other|not released Tomcat 8.0.10 (markt)|Update||Update the API stability section of the release notes now that Tomcat 8 has had its first stable release. (markt)|
Other|not released Tomcat 8.0.10 (markt)|Update||Improve build.xml so that when Eclipse JDT Compiler is updated, it will delete the old JAR from build/lib directory. (kkolinko)|
Other|not released Tomcat 8.0.10 (markt)|Code||"Simplify implementation of ""setproxy"" target in build.xml. (kkolinko)"|
Other|not released Tomcat 8.0.10 (markt)|Update||Update optional Checkstyle library to 5.7. (kkolinko)|
Other|not released Tomcat 8.0.10 (markt)|Update|56596|Update to Tomcat Native Library version 1.1.31 to pick up the Windows binaries that are based on OpenSSL 1.0.1h. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56596
Other|not released Tomcat 8.0.10 (markt)|Fix|56685|Add quotes necessary for daemon.sh to work correctly on Solaris. Based on a suggestion by lfuka. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56685
Other|not released Tomcat 8.0.10 (markt)|Update||Update package renamed Apache Commons Pool2 to r1609323 to pick various bug fixes. (markt)|
Other|not released Tomcat 8.0.10 (markt)|Update||Update package renamed Apache Commons DBCP2 to r1609329 to pick up a minor bug fix. (markt)|
Other|not released Tomcat 8.0.10 (markt)|Update||Update package renamed Apache Commons FileUpload to r1596086 to pick various bug fixes. (markt)|
Catalina|2014-06-24 Tomcat 8.0.9 (markt)|Fix|55282|Ensure that one and the same application listener is added only once when starting the web application. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=55282
Catalina|2014-06-24 Tomcat 8.0.9 (markt)|Fix|55975|Apply consistent escaping for double quote and backslash characters when escaping cookie values. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=55975
Catalina|2014-06-24 Tomcat 8.0.9 (markt)|Code|56387|Improve the code that handles an attempt to load a class after a web application has been stopped. Use common code to handle this case regardless of the access path and don't throw an exception purely to log a stack trace. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56387
Catalina|2014-06-24 Tomcat 8.0.9 (markt)|Code|56399|Improve implementation of CoyoteAdapter.checkRecycled() to do not use an exception for flow control. (kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56399
Catalina|2014-06-24 Tomcat 8.0.9 (markt)|Add|56461|New failCtxIfServletStartFails attribute on Context and Host configuration to force the context startup to fail if a load-on-startup servlet fails its startup. (slaurent)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56461
Catalina|2014-06-24 Tomcat 8.0.9 (markt)|Add|56526|Improved the StuckThreadDetectionValve to optionally interrupt stuck threads to attempt to unblock them. (slaurent)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56526
Catalina|2014-06-24 Tomcat 8.0.9 (markt)|Fix|56545|Pre-load two additional classes, the loading of which may otherwise be triggered by a web application which in turn would trigger an exception when running under a security manager. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56545
Catalina|2014-06-24 Tomcat 8.0.9 (markt)|Update|56546|Reduce logging level for stack traces of stuck web application threads printed by WebappClassLoader.clearReferencesThreads() from error to info. (kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56546
Catalina|2014-06-24 Tomcat 8.0.9 (markt)|Code||Refactor and simplify common code in object factories in org.apache.catalina.naming package, found thanks to Simian (Similarity Analyser) tool. Improve handling of Throwable. (markt/kkolinko)|
Catalina|2014-06-24 Tomcat 8.0.9 (markt)|Fix||Relax cookie naming restrictions. Cookie attribute names used in the Set-Cookie header may be used unambiguously as cookie names. The restriction that prevented such usage has been removed. (jboynes/markt)|
Catalina|2014-06-24 Tomcat 8.0.9 (markt)|Fix||Further relax cookie naming restrictions. Version 0 (a.k.a Netscape format) cookies may now use names that start with the $ character. (jboynes/markt)|
Catalina|2014-06-24 Tomcat 8.0.9 (markt)|Fix||Restrict cookie naming so that the = character is no longer permitted in a version 0 (a.k.a. Netscape format) cookie name. While Tomcat allowed this, browsers always truncated the name at the = character leading to a mis-match between the cookie the server set and the cookie returned by the browser. (jboynes/markt)|
Catalina|2014-06-24 Tomcat 8.0.9 (markt)|Add||Add a simple ServiceLoader based discovery mechanism to the JULI LogFactory to make it easier to use JULI and Tomcat components that depend on JULI (such as Jasper) independently from Tomcat. Patch provided by Greg Wilkins. (markt)|
Catalina|2014-06-24 Tomcat 8.0.9 (markt)|Fix|56578|Correct regression in the fix for 56339 that prevented sessions from expiring when using clustering. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56578
Catalina|2014-06-24 Tomcat 8.0.9 (markt)|Fix|56588|Remove code previously added to enforce the requirements of section 4.4 of the Servlet 3.1 specification. The code is no longer required now that Jasper initialization has been refactored and TLD defined listeners are added via a different code path that already enforces the specification requirements. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56588
Catalina|2014-06-24 Tomcat 8.0.9 (markt)|Fix|56600|In WebdavServlet: Do not waste time generating response for broken PROPFIND request. (kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56600
Catalina|2014-06-24 Tomcat 8.0.9 (markt)|Fix||Provide a better error message when asynchronous operations are not supported by a filter or servlet. Patch provided by Romain Manni-Bucau. (violetagg)|
Catalina|2014-06-24 Tomcat 8.0.9 (markt)|Fix|56606|"User entries in tomcat-users.xml file are recommended to use ""username"" attribute rather than legacy ""name"" attribute. Fix inconsistencies in Windows installer, examples. Update digester rules and documentation for MemoryRealm. (markt/kkolinko)"|https://bz.apache.org/bugzilla/show_bug.cgi?id=56606
Coyote|2014-06-24 Tomcat 8.0.9 (markt)|Fix|56518|When using NIO, do not attempt to write to the socket if the thread is marked interrupted as this will lead to a connection limit leak. This fix was based on analysis of the issue by hanyong. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56518
Coyote|2014-06-24 Tomcat 8.0.9 (markt)|Fix|56521|Re-use the asynchronous write buffer between writes to reduce allocation and GC overhead. Based on a patch by leonzhx. Also make the buffer size configurable and remove copying of data within buffer when the buffer is only partially written on a subsequent write. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56521
Coyote|2014-06-24 Tomcat 8.0.9 (markt)|Fix||Ensure that a request without a body is correctly handled during Comet processing. This fixes the Comet chat example. (markt)|
Coyote|2014-06-24 Tomcat 8.0.9 (markt)|Fix||Fix input concurrency issue in NIO2 upgrade. (remm)|
Coyote|2014-06-24 Tomcat 8.0.9 (markt)|Fix||Correct a copy/paste error and return a 500 response rather than a 400 response when an internal server error occurs on early stages of request processing. (markt)|
Coyote|2014-06-24 Tomcat 8.0.9 (markt)|Code|56582|"Use switch(actionCode) in processors instead of a chain of ""elseif""s. (kkolinko)"|https://bz.apache.org/bugzilla/show_bug.cgi?id=56582
Coyote|2014-06-24 Tomcat 8.0.9 (markt)|Fix||56582#c1: Implement DISPATCH_EXECUTE action for AJP connectors. (kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56582#c1
Coyote|2014-06-24 Tomcat 8.0.9 (markt)|Fix||Fix CVE-2014-0227: Various improvements to ChunkedInputFilter including clean-up, i18n for error messages and adding an error flag to allow subsequent attempts at reading after an error to fail fast. (markt)|
Coyote|2014-06-24 Tomcat 8.0.9 (markt)|Fix||If request contains an unrecognized Expect header, respond with error 417 (Expectation Failed), according to RFC2616 chapter 14.20. (markt)|
Coyote|2014-06-24 Tomcat 8.0.9 (markt)|Fix||When an error occurs after the response has been committed close the connection immediately rather than attempting to finish the response to make it easier for the client to differentiate between a complete response and one that failed part way though. (markt)|
Coyote|2014-06-24 Tomcat 8.0.9 (markt)|Code||Remove the beta tag from the NIO2 connectors. (remm)|
Coyote|2014-06-24 Tomcat 8.0.9 (markt)|Fix|56620|Avoid bogus access log entries when pausing the NIO HTTP connector and ensure that access log entries generated by error conditions use the correct request start time. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56620
Coyote|2014-06-24 Tomcat 8.0.9 (markt)|Fix||Improve configuration of cache sizes in the endpoint. (markt)|
Coyote|2014-06-24 Tomcat 8.0.9 (markt)|Add||Fix CVE-2014-0230: Add a new limit, defaulting to 2MB, for the amount of data Tomcat will swallow for an aborted upload. The limit is configurable by maxSwallowSize attribute of an HTTP connector. (markt)|
Jasper|2014-06-24 Tomcat 8.0.9 (markt)|Fix||56334#c15: Fix a regression in EL parsing when quoted string follows a whitespace. (kkolinko/markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56334#c15
Jasper|2014-06-24 Tomcat 8.0.9 (markt)|Update|56543|Update to the Eclipse JDT Compiler 4.4RC4 to pick up some fixes for Java 8 support. (markt/kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56543
Jasper|2014-06-24 Tomcat 8.0.9 (markt)|Fix|56561|Avoid NoSuchElementException while handling attributes with empty string value. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56561
Jasper|2014-06-24 Tomcat 8.0.9 (markt)|Code||Do not configure a JspFactory in the JasperInitializer if one has already been set as might be the case in some embedding scenarios. (markt)|
Jasper|2014-06-24 Tomcat 8.0.9 (markt)|Add||Add a simple implementation of InstanceManager and have Jasper use it if no other InstanceManager is provided. This makes it easier to use Jasper independently from Tomcat. Patch provided by Greg Wilkins. (markt)|
Jasper|2014-06-24 Tomcat 8.0.9 (markt)|Fix|56568|Allow any HTTP method when a JSP is being used as an error page. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56568
Jasper|2014-06-24 Tomcat 8.0.9 (markt)|Update|56581|If an error on a JSP page occurs when response has already been committed, do not clear the buffer of JspWriter, but flush it. It will make more clear where the error occurred. (kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56581
Jasper|2014-06-24 Tomcat 8.0.9 (markt)|Fix|56612|Correctly parse two consecutive escaped single quotes when used in UEL expression in a JSP. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56612
Jasper|2014-06-24 Tomcat 8.0.9 (markt)|Update||Move code that parses EL expressions within JSP template text from Parser to JspReader class for better performance. (kkolinko)|
Jasper|2014-06-24 Tomcat 8.0.9 (markt)|Fix|56636|Correctly identify the required method when specified via ELProcessor.defineFunction(String,String,String,String) when using Expression Language. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56636
Jasper|2014-06-24 Tomcat 8.0.9 (markt)|Fix|56638|When using ELProcessor.defineFunction(String,String,String,String) and no function name is specified, use the method name as the function name as required by the specification. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56638
WebSocket|2014-06-24 Tomcat 8.0.9 (markt)|Code|56446|Clearer handling of exceptions when calling a method on a POJO based WebSocket endpoint. Based on a suggestion by Eugene Chung. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56446
WebSocket|2014-06-24 Tomcat 8.0.9 (markt)|Fix||When a WebSocket client attempts to write to a closed connection, handle the resulting IllegalStateException in a manner consistent with the handling of an IOException. (markt)|
WebSocket|2014-06-24 Tomcat 8.0.9 (markt)|Fix||Add more varied endpoints for echo testing. (remm)|
WebSocket|2014-06-24 Tomcat 8.0.9 (markt)|Fix|56577|Improve the executor configuration used for the callbacks associated with asynchronous writes. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56577
Web applications|2014-06-24 Tomcat 8.0.9 (markt)|Fix||Set the path for cookies created by the examples web application so they only returned to the examples application. This reduces the opportunity for using such cookies for malicious purposes should the advice to remove the examples web application from security sensitive systems be ignored. (markt/kkolinko)|
Web applications|2014-06-24 Tomcat 8.0.9 (markt)|Fix||Attempt to obfuscate session cookie values associated with other web applications when viewing HTTP request headers with the Request Header example from the examples web application. This reduces the opportunity to use this example for malicious purposes should the advice to remove the examples web application from security sensitive systems be ignored. (markt)|
Web applications|2014-06-24 Tomcat 8.0.9 (markt)|Add||Add options for all of the WebSocket echo endpoints to the WebSocket echo example in the examples web application. (markt)|
Web applications|2014-06-24 Tomcat 8.0.9 (markt)|Fix||Ensure that the asynchronous WebSocket echo endpoint in the examples web application always waits for the previous message to complete before it sends the next. (markt)|
Other|2014-06-24 Tomcat 8.0.9 (markt)|Update||Update package renamed Apache Commons DBCP2 to r1596858. (markt)|
Catalina|beta, 2014-05-21 Tomcat 8.0.8 (markt)|Fix|56536|Ensure that HttpSessionBindingListener.valueUnbound() uses the correct class loader when the SingleSignOn valve is used. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56536
Jasper|beta, 2014-05-21 Tomcat 8.0.8 (markt)|Fix|56529|Avoid NoSuchElementException while handling attributes with empty string value in custom tags. Patch provided by Hariprasad Manchi. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56529
Catalina|not released Tomcat 8.0.7 (markt)|Fix|56523|When using SPNEGO authentication, log the exceptions associated with failed user logins at debug level rather than error level. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56523
Coyote|not released Tomcat 8.0.7 (markt)|Add|56399|Assert that both Coyote and Catalina request objects have been properly recycled. (kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56399
Jasper|not released Tomcat 8.0.7 (markt)|Fix|56522|When setting a value for a ValueExpression, ensure that the expected coercions take place such as a null string being coerced to an empty string. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56522
Other|not released Tomcat 8.0.7 (markt)|Fix||Copy missing resources file from Apache Commons DBCP 2 to packaged renamed copy of DBCP 2. (markt)|
Catalina|not released Tomcat 8.0.6 (markt)|Fix||Fix extension validation which was broken by refactoring for new resources implementation. (markt)|
Catalina|not released Tomcat 8.0.6 (markt)|Fix||Fix custom UTF-8 decoder so that a byte of value 0xC1 is always rejected immediately as it is never valid in a UTF-8 byte sequence. Update UTF-8 decoder tests to account for UTF-8 decoding improvements in Java 8. The custom UTF-8 decoder is still required due to bugs in the UTF-8 decoder provided by Java. Java 8's decoder is better than Java 7's but it is still buggy. (markt)|
Catalina|not released Tomcat 8.0.6 (markt)|Fix|56027|Add more options for managing FIPS mode in the AprLifecycleListener. (schultz/kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56027
Catalina|not released Tomcat 8.0.6 (markt)|Fix|56320|Fix a file descriptor leak in the default servlet when sendfile is used. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56320
Catalina|not released Tomcat 8.0.6 (markt)|Fix|56321|When a WAR is modified, undeploy the web application before deleting any expanded directory as the undeploy process may refer to classes that need to be loaded from the expanded directory. If the expanded directory is deleted first, any attempt to load a new class during undeploy will fail. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56321
Catalina|not released Tomcat 8.0.6 (markt)|Fix|56327|Enable AJP as well as HTTP connectors to be created via JMX. Patch by kiran. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56327
Catalina|not released Tomcat 8.0.6 (markt)|Fix|56339|Avoid an infinite loop if an application calls session.invalidate() from the session destroyed event for that session. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56339
Catalina|not released Tomcat 8.0.6 (markt)|Code|56365|Simplify file name pattern matching code in StandardJarScanner. Improve documentation. (kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56365
Catalina|not released Tomcat 8.0.6 (markt)|Fix||Ensure that the static resource cache is able to detect when a cache entry is invalidated by being overridden by a new resource in a different WebResourceSet. (markt)|
Catalina|not released Tomcat 8.0.6 (markt)|Fix|56369|Ensure that removing an MBean notification listener reverts all the operations performed when adding an MBean notification listener. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56369
Catalina|not released Tomcat 8.0.6 (markt)|Code||Improve implementation of Lifecycle for WebappClassLoader. State is now correctly reported rather than always reporting as NEW. (markt)|
Catalina|not released Tomcat 8.0.6 (markt)|Add|56382|Information about finished deployment and its execution time is added to the log files. Patch is provided by Danila Galimov. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56382
Catalina|not released Tomcat 8.0.6 (markt)|Add|56383|Properties for disabling server information and error report are added to the org.apache.catalina.valves.ErrorReportValve. Based on the patch provided by Nick Bunn. (violetagg/kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56383
Catalina|not released Tomcat 8.0.6 (markt)|Fix|56390|Fix JAR locking issue with JARs containing TLDs and the TLD cache that prevented the undeployment of web applications when the WAR was deleted. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56390
Catalina|not released Tomcat 8.0.6 (markt)|Fix||Fix CVE-2014-0119: Only create XML parsing objects if required and fix associated potential memory leak in the default Servlet. Extend XML factory, parser etc. memory leak protection to cover some additional locations where, theoretically, a memory leak could occur. (markt)|
Catalina|not released Tomcat 8.0.6 (markt)|Fix||Modify generic exception handling so that StackOverflowError is not treated as a fatal error and can handled and/or logged as required. (markt)|
Catalina|not released Tomcat 8.0.6 (markt)|Fix|56409|Avoid StackOverflowError on non-Windows systems if a file named \ is encountered when scanning for TLDs. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56409
Catalina|not released Tomcat 8.0.6 (markt)|Add|56430|Extend checks for suspicious URL patterns to include patterns of the form *.a.b which are not valid patterns for extension mappings. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56430
Catalina|not released Tomcat 8.0.6 (markt)|Fix|56441|Raise the visibility of exceptions thrown when a problem is encountered calling a getter or setter on a component attribute. The logging level is raised from debug to warning. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56441
Catalina|not released Tomcat 8.0.6 (markt)|Add|56463|Property for disabling server information is added to the DefaultServlet. Server information is presented in the response sent to the client when directory listings is enabled. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56463
Catalina|not released Tomcat 8.0.6 (markt)|Fix|56472|Allow NamingContextListener to clean up on stop if its start failed. (kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56472
Catalina|not released Tomcat 8.0.6 (markt)|Fix|56481|Work around case insensitivity issue in URLClassLoader exposed by some recent refactoring. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56481
Catalina|not released Tomcat 8.0.6 (markt)|Add|56492|Avoid eclipse debugger pausing on uncaught exceptions when tomcat renews its threads. (slaurent)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56492
Catalina|not released Tomcat 8.0.6 (markt)|Add||Add the org.apache.naming package to the packages requiring code to have the defineClassInPackage permission when running under a security manager. (markt)|
Catalina|not released Tomcat 8.0.6 (markt)|Fix||Make the naming context tokens for containers more robust by using a separate object. Require RuntimePermission when introducing a new token. (markt/kkolinko)|
Catalina|not released Tomcat 8.0.6 (markt)|Fix|56501|HttpServletRequest.getContextPath() should return the undecoded context path used by the user agent. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56501
Catalina|not released Tomcat 8.0.6 (markt)|Fix||Minor fixes to ThreadLocalLeakPreventionListener. Do not trigger threads renewal for failed contexts. Do not ignore threadRenewalDelay setting. Improve documentation. (kkolinko)|
Catalina|not released Tomcat 8.0.6 (markt)|Fix||Correct regression introduced in r1239520 that broke loading of users from tomcat-users.xml when using the JAASMemoryLoginModule. (markt)|https://svn.apache.org/viewvc?view=rev&rev=1239520
Catalina|not released Tomcat 8.0.6 (markt)|Fix||Correct regression introduced in r797162 that broke authentication of users when using the JAASMemoryLoginModule. (markt)|https://svn.apache.org/viewvc?view=rev&rev=797162
Coyote|not released Tomcat 8.0.6 (markt)|Fix||More cleanup of NIO2 endpoint shutdown. (remm)|
Coyote|not released Tomcat 8.0.6 (markt)|Fix|56336|AJP output corruption and errors. (remm)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56336
Coyote|not released Tomcat 8.0.6 (markt)|Fix||Handle various cases of incomplete writes in NIO2. (remm)|
Coyote|not released Tomcat 8.0.6 (markt)|Code||Code cleanups and i18n in NIO2. (remm)|
Coyote|not released Tomcat 8.0.6 (markt)|Fix||Fix extra onDataAvailable calls in the NIO2 connector. (remm)|
Coyote|not released Tomcat 8.0.6 (markt)|Fix||Fix gather writes in NIO2 SSL. (remm)|
Coyote|not released Tomcat 8.0.6 (markt)|Code||Upgrade the NIO2 connectors to beta, but still not ready for production. (remm)|
Coyote|not released Tomcat 8.0.6 (markt)|Code||Fix code duplication between NIO and NIO2. (remm)|
Coyote|not released Tomcat 8.0.6 (markt)|Fix|56348|Fix slow asynchronous read when read was performed on a non-container thread. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56348
Coyote|not released Tomcat 8.0.6 (markt)|Fix|56416|Correct documentation for default value of socket linger for the AJP and HTTP connectors. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56416
Coyote|not released Tomcat 8.0.6 (markt)|Fix||Fix possible corruption if doing keepalive after a comet request. (remm)|
Coyote|not released Tomcat 8.0.6 (markt)|Fix|56518|Fix connection limit latch leak when a non-container thread is interrupted during asynchronous processing. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56518
Jasper|not released Tomcat 8.0.6 (markt)|Fix|56334|Fix a regression in the handling of back-slash escaping introduced by the fix for 55735. (markt/kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56334
Jasper|not released Tomcat 8.0.6 (markt)|Fix|56425|Improve method matching for EL expressions. When looking for matching methods, an exact match between parameter types is preferred followed by an assignable match followed by a coercible match. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56425
Jasper|not released Tomcat 8.0.6 (markt)|Fix||Correct the handling of back-slash escaping in the EL parser and no longer require that \$ or \# must be followed by { in order for the back-slash escaping to take effect. (markt)|
Cluster|not released Tomcat 8.0.6 (markt)|Code||Remove the implementation of org.apache.catalina.LifecycleListener from org.apache.catalina.ha.tcp.SimpleTcpCluster. SimpleTcpCluster does not work as LifecycleListener, it works as nested components of Host or Engine. (kfujino)|
Cluster|not released Tomcat 8.0.6 (markt)|Fix||Remove cluster and replicationValve from cluster manager template. These instance are not necessary to template. (kfujino)|
Cluster|not released Tomcat 8.0.6 (markt)|Fix||Add support for cross context session replication to org.apache.catalina.ha.session.BackupManager. (kfujino)|
Cluster|not released Tomcat 8.0.6 (markt)|Fix||Remove the unnecessary cross context check. It does not matter whether the context that is referenced by other context is set to crossContext=true. The context that refers to the different context must be set to crossContext=true. (kfujino)|
Cluster|not released Tomcat 8.0.6 (markt)|Code||Move to org.apache.catalina.ha.session.ClusterManagerBase common logics of org.apache.catalina.ha.session.BackupManager and org.apache.catalina.ha.session.DeltaManager. (kfujino)|
Cluster|not released Tomcat 8.0.6 (markt)|Code||Simplify the code of o.a.c.ha.tcp.SimpleTcpCluster. In order to add or remove cluster valve to Container, use pipeline instead of IntrospectionUtils. (kfujino)|
Cluster|not released Tomcat 8.0.6 (markt)|Fix||There is no need to set cluster instance when SimpleTcpCluster.unregisterClusterValve is called. Set null than cluster instance for cleanup. (kfujino)|
WebSocket|not released Tomcat 8.0.6 (markt)|Fix|56343|Avoid a NPE if Tomcat's Java WebSocket 1.0 implementation is used with the Java WebSocket 1.0 API JAR from the reference implementation. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56343
WebSocket|not released Tomcat 8.0.6 (markt)|Fix||Increase the default maximum size of the executor used by the WebSocket implementation for call backs associated with asynchronous writes from 10 to 200. (markt)|
WebSocket|not released Tomcat 8.0.6 (markt)|Add||Add a warning if the thread group created for WebSocket asynchronous write call backs can not be destroyed when the web application is stopped. (markt)|
WebSocket|not released Tomcat 8.0.6 (markt)|Fix||Ensure that threads created to support WebSocket clients are stopped when no longer required. This will happen automatically for WebSocket client connections initiated by web applications but stand alone clients must call WsWebSocketContainer.destroy(). (markt)|
WebSocket|not released Tomcat 8.0.6 (markt)|Fix|56449|When creating a new session, add the message handlers to the session before calling Endpoint.onOpen() so the message handlers are in place should the onOpen() method trigger the sending of any messages. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56449
WebSocket|not released Tomcat 8.0.6 (markt)|Fix|56458|Report WebSocket sessions that are created over secure connections as secure rather than as not secure. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56458
WebSocket|not released Tomcat 8.0.6 (markt)|Fix||Stop threads used for secure WebSocket client connections when they are no longer required and give them better names for easier debugging while they are running. (markt)|
Web applications|not released Tomcat 8.0.6 (markt)|Fix||Add Support for copyXML attribute of Host to Host Manager. (kfujino)|
Web applications|not released Tomcat 8.0.6 (markt)|Fix||"Ensure that ""name"" request parameter is used as a application base of host if ""webapps"" request parameter is not set when adding host in HostManager Application. (kfujino)"|
Web applications|not released Tomcat 8.0.6 (markt)|Fix||Correct documentation on Windows service options, aligning it with Apache Commons Daemon documentation. (kkolinko)|
Web applications|not released Tomcat 8.0.6 (markt)|Fix|56418|Ensure that the Manager web application does not report success for a web application deployment that fails. (slaurent)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56418
Web applications|not released Tomcat 8.0.6 (markt)|Update||Improve valves documentation. Split valves into groups. (kkolinko)|
Web applications|not released Tomcat 8.0.6 (markt)|Fix|56513|Make the documentation crystal clear that using sendfile will disable any compression that Tomcat may otherwise have applied to the response. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56513
Other|not released Tomcat 8.0.6 (markt)|Code||Review source code and take advantage of Java 7's try-with-resources syntax where possible. (markt)|
Other|not released Tomcat 8.0.6 (markt)|Fix||Align DisplayName of Tomcat installed by service.bat with one installed by the *.exe installer. Print a warning in case if neither server nor client jvm is found by service.bat. (kkolinko)|
Other|not released Tomcat 8.0.6 (markt)|Update|56363|Update to version 1.1.30 of Tomcat Native library. (schultz)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56363
Other|not released Tomcat 8.0.6 (markt)|Update||Update package renamed Apache Commons BCEL to r1593495 to pick up some additional changes for Java 7 support and some code clean up. (markt)|
Other|not released Tomcat 8.0.6 (markt)|Update||Update package renamed Apache Commons FileUpload to r1569132 to pick up some small improvements (e.g. better null protection) and some code clean up. (markt)|
Other|not released Tomcat 8.0.6 (markt)|Update||Update package renamed Apache Commons Codec to r1586336 to pick up some Javadoc fixes and some code clean up. (markt)|
Other|not released Tomcat 8.0.6 (markt)|Code||Switch to including Apache Commons DBCP via a package renamed svn copy rather than building from a source release for consistency with other Commons packages and to allow faster releases to fix DBCP related issues. (markt)|
Other|not released Tomcat 8.0.6 (markt)|Update||Update package renamed Apache Commons Pool2 and DBCP2 to r1593563 to pick various bug fixes. (markt)|
Other|not released Tomcat 8.0.6 (markt)|Add||In tests: allow to configure directory where JUnit reports and access log are written to. (kkolinko)|
Catalina|beta, 2014-03-27 Tomcat 8.0.5 (markt)|Fix||Rework the fix for 56190 as the previous fix did not recycle the request in all cases leading to mis-routing of requests. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56190
Catalina|beta, 2014-03-27 Tomcat 8.0.5 (markt)|Fix||Allow web applications to package tomcat-jdbc.jar and their JDBC driver of choice in the web application. (markt)|
Catalina|beta, 2014-03-27 Tomcat 8.0.5 (markt)|Fix|56293|Cache resources loaded by the class loader from /META-INF/services/ for better performance for repeated look ups. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56293
Coyote|beta, 2014-03-27 Tomcat 8.0.5 (markt)|Fix||Fix possibly incomplete final flush with NIO2 when using non blocking mode. (remm)|
Coyote|beta, 2014-03-27 Tomcat 8.0.5 (markt)|Fix||Cleanup NIO2 endpoint shutdown. (remm)|
Coyote|beta, 2014-03-27 Tomcat 8.0.5 (markt)|Fix||Fix rare race condition notifying onWritePossible in the NIO2 HTTP/1.1 connector. (remm)|
Jasper|beta, 2014-03-27 Tomcat 8.0.5 (markt)|Fix|54475|Add Java 8 support to SMAP generation for JSPs. Patch by Robbie Gibson. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=54475
Web applications|beta, 2014-03-27 Tomcat 8.0.5 (markt)|Fix|56273|If the Manager web application does not perform an operation because the web application is already being serviced, report an error rather than reporting success. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56273
Web applications|beta, 2014-03-27 Tomcat 8.0.5 (markt)|Fix|56304|Add a note to the documentation about not using WebSocket with BIO HTTP in production. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56304
Catalina|not released Tomcat 8.0.4 (markt)|Fix||Restore the ability to use the addURL() method of the web application class loader to add external resources to the web application. (markt)|
Catalina|not released Tomcat 8.0.4 (markt)|Fix||Improve the robustness of web application undeployment based on some code analysis triggered by the report for 54315. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=54315
Catalina|not released Tomcat 8.0.4 (markt)|Fix|56125|Correctly construct the URL for a resource that represents the root of a JAR file. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56125
Catalina|not released Tomcat 8.0.4 (markt)|Fix||Generate a valid root element for the effective web.xml for a web application for all supported versions of web.xml. (markt)|
Catalina|not released Tomcat 8.0.4 (markt)|Add||Make it easier for applications embedding and/or extending Tomcat to modify the javaseClassLoader attribute of the WebappClassLoader. (markt)|
Catalina|not released Tomcat 8.0.4 (markt)|Fix||Add missing support for <deny-uncovered-http-methods> element when merging web.xml files. (markt)|
Catalina|not released Tomcat 8.0.4 (markt)|Fix||Improve merging process for web.xml files to take account of the elements and attributes supported by the Servlet version of the merged file. (markt)|
Catalina|not released Tomcat 8.0.4 (markt)|Fix||Avoid NullPointerException in resource cache when making an invalid request for a resource outside of the web application. (markt)|
Catalina|not released Tomcat 8.0.4 (markt)|Fix||Remove an unnecessary null check identified by FindBugs. (markt)|
Catalina|not released Tomcat 8.0.4 (markt)|Add||In WebappClassLoader, when reporting threads that are still running while web application is being stopped, print their stack traces to the log. (kkolinko)|
Catalina|not released Tomcat 8.0.4 (markt)|Fix|56190|The response should be closed (i.e. no further output is permitted) when a call to AsyncContext.complete() takes effect. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56190
Catalina|not released Tomcat 8.0.4 (markt)|Fix|56236|Enable Tomcat to work with alternative Servlet and JSP API JARs that package the XML schemas in such as way as to require a dependency on the JSP API before enabling validation for web.xml. Tomcat has no such dependency. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56236
Catalina|not released Tomcat 8.0.4 (markt)|Fix|56244|Fix MBeans descriptor for WebappClassLoader MBean. (kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56244
Catalina|not released Tomcat 8.0.4 (markt)|Add||Add a work around for validating XML documents (often TLDs) that use just the file name to refer to the JavaEE schema on which they are based. (markt)|
Catalina|not released Tomcat 8.0.4 (markt)|Add||Add methods of get the idle time from last client access time to org.apache.catalina.Session. (kfujino)|
Catalina|not released Tomcat 8.0.4 (markt)|Fix|56246|Fix NullPointerException in MemoryRealm when authenticating an unknown user. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56246
Catalina|not released Tomcat 8.0.4 (markt)|Fix|56248|Allow the deployer to update an existing WAR file without undeploying the existing application if the update flag is set. This allows any existing custom context.xml for the application to be retained. To update an application and remove any existing context.xml simply undeploy the old version of the application before deploying the new version. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56248
Catalina|not released Tomcat 8.0.4 (markt)|Fix|56253|When listing resources that are provided by a JAR, fix possible StringIndexOutOfBoundsExceptions. Add some unit tests for this and similar scenarios and fix the additional issues those unit tests identified. Based on a patch by Larry Isaacs. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56253
Catalina|not released Tomcat 8.0.4 (markt)|Fix||Fix CVE-2014-0096: Redefine the globalXsltFile initialisation parameter of the DefaultServlet as relative to CATALINA_BASE/conf or CATALINA_HOME/conf. Prevent user supplied XSLTs used by the DefaultServlet from defining external entities. (markt)|
Coyote|not released Tomcat 8.0.4 (markt)|Fix||In some circumstances asynchronous requests could time out too soon. (markt)|
Coyote|not released Tomcat 8.0.4 (markt)|Fix|56172|Avoid possible request corruption when using the AJP NIO connector and a request is sent using more than one AJP message. Patch provided by Amund Elstad. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56172
Coyote|not released Tomcat 8.0.4 (markt)|Add||Add experimental NIO2 connector. Based on code developed by Nabil Benothman. (remm)|
Coyote|not released Tomcat 8.0.4 (markt)|Fix||Fix CVE-2014-0075: Improve processing of chuck size from chunked headers. Avoid overflow and use a bit shift instead of a multiplication as it is marginally faster. (markt/kkolinko)|
Coyote|not released Tomcat 8.0.4 (markt)|Fix||Fix CVE-2014-0095: Correct regression introduced in 8.0.0-RC2 as part of the Servlet 3.1 non-blocking IO support that broke handling of requests with an explicit content length of zero. (markt/kkolinko)|
Coyote|not released Tomcat 8.0.4 (markt)|Fix||Fix CVE-2014-0099: Fix possible overflow when parsing long values from a byte array. (markt)|
Jasper|not released Tomcat 8.0.4 (markt)|Fix||Change the default compiler source and compiler target versions to 1.7 since Tomcat 8 requires a minimum of Java 7. (markt)|
Jasper|not released Tomcat 8.0.4 (markt)|Fix|56179|Fix parsing of EL expressions that contain unnecessary parentheses. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56179
Jasper|not released Tomcat 8.0.4 (markt)|Fix|56177|Handle dependency tracking for TLDs when using JspC with a tag library JAR that is located outside of the web application. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56177
Jasper|not released Tomcat 8.0.4 (markt)|Fix||Remove an unnecessary null check identified by FindBugs. (markt)|
Jasper|not released Tomcat 8.0.4 (markt)|Fix|56199|Restore validateXml option for JspC which determines if web.xml will be parsed with a validating parser. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56199
Jasper|not released Tomcat 8.0.4 (markt)|Fix|56223|Throw an IllegalStateException if a call is made to ServletContext.setInitParameter() after the ServletContext has been initialized. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56223
Jasper|not released Tomcat 8.0.4 (markt)|Fix|56265|Do not escape values of dynamic tag attributes containing EL expressions. (kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56265
Jasper|not released Tomcat 8.0.4 (markt)|Fix||Make the default compiler source and target versions for JSPs Java 7 since Tomcat 8 requires Java 7 as a minimum. (markt)|
Jasper|not released Tomcat 8.0.4 (markt)|Update|56283|"Update to the Eclipse JDT Compiler P20140317-1600 which adds support for Java 8 syntax to JSPs. Add support for value ""1.8"" for the compilerSourceVM and compilerTargetVM options. (markt)"|https://bz.apache.org/bugzilla/show_bug.cgi?id=56283
WebSocket|not released Tomcat 8.0.4 (markt)|Fix||Avoid a possible deadlock when one thread is shutting down a connection while another thread is trying to write to it. (markt)|
WebSocket|not released Tomcat 8.0.4 (markt)|Fix||Avoid NPE when flushing batched messages. (markt)|
Web Applications|not released Tomcat 8.0.4 (markt)|Add|56093|Add the SSL Valve to the documentation web application. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56093
Web Applications|not released Tomcat 8.0.4 (markt)|Fix|56217|Improve readability by using left alignment for the table cell containing the request information on the Manager application status page. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56217
Web Applications|not released Tomcat 8.0.4 (markt)|Fix||"Fixed java.lang.NegativeArraySizeException when using ""Expire sessions"" command in the manager web application on a context where the session timeout is disabled. (kfujino)"|
Web Applications|not released Tomcat 8.0.4 (markt)|Fix||Add support for LAST_ACCESS_AT_START system property to Manager web application. (kfujino)|
Other|not released Tomcat 8.0.4 (markt)|Fix|56115|Expose the httpusecaches property of Ant's get task as some users may need to change the default. Based on a suggestion by Anthony. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56115
Other|not released Tomcat 8.0.4 (markt)|Fix|56143|Improve service.bat so that it can be launched from a non-UAC console. This includes using a single call to tomcat8.exe to install the Windows service rather than three calls, and using command line arguments instead of environment variables to pass the settings. (markt/kkolinko)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56143
Other|not released Tomcat 8.0.4 (markt)|Code||Simplify Windows *.bat files: remove %OS% checks, as current java does not run on ancient non-NT operating systems. (kkolinko)|
Other|not released Tomcat 8.0.4 (markt)|Fix||Align options between service.bat and exe Windows installer. For service.bat the changes are in --Classpath, --DisplayName, --StartPath, --StopPath. For exe installer the changes are in --JvmMs, --JvmMx options, which are now 128 Mb and 256 Mb respectively instead of being empty. Explicitly specify --LogPath path when uninstalling Windows service, avoiding default value for that option. (kkolinko)|
Other|not released Tomcat 8.0.4 (markt)|Fix|56137|Explicitly use NIO connector in SSL example in server.xml so it doesn't break if APR is enabled. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56137
Other|not released Tomcat 8.0.4 (markt)|Fix|56139|Avoid a web application class loader leak in some unit tests when running on Windows. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56139
Other|not released Tomcat 8.0.4 (markt)|Fix||Correct build script to avoid building JARs with empty packages. (markt)|
Other|not released Tomcat 8.0.4 (markt)|Add||Allow to limit JUnit test run to a number of selected test case methods. (kkolinko)|
Other|not released Tomcat 8.0.4 (markt)|Update||Update Commons Pool 2 to 2.2. (markt)|
Other|not released Tomcat 8.0.4 (markt)|Update||Update Commons DBCP 2 to the 2.0 release. (markt)|
Other|not released Tomcat 8.0.4 (markt)|Fix|56189|Remove used file cpappend.bat from the distribution. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56189
Other|not released Tomcat 8.0.4 (markt)|Fix|56204|Remove unnecessary dependency between tasks in the build script. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56204
Other|not released Tomcat 8.0.4 (markt)|Fix||Add definition of org.apache.catalina.ant.FindLeaksTask. (kfujino)|
Other|not released Tomcat 8.0.4 (markt)|Fix||Implement org.apache.catalina.ant.VminfoTask, org.apache.catalina.ant.ThreaddumpTask and org.apache.catalina.ant.SslConnectorCiphersTask. (kfujino)|
Other|not released Tomcat 8.0.4 (markt)|Add||"Add the option to the Apache Ant tasks to ignore the constraint of the first line of the response message that must be ""OK -"" (ignoreResponseConstraint in AbstractCatalinaTask). Default is false. (kfujino)"|
Other|beta, 2014-02-11 Tomcat 8.0.3 (markt)|Fix||Fix build of Apache Commons DBCP2 classes. (kkolinko)|
Other|beta, 2014-02-11 Tomcat 8.0.3 (markt)|Update||Update Commons DBCP 2 to snapshot 170 dated 07 Feb 2014. This enables DBCP to work with a SecurityManager such that only DBCP needs to be granted the necessary permissions to communicate with the database. (markt)|
Catalina|not released Tomcat 8.0.2 (markt)|Fix|56082|Fix a concurrency bug in JULI's LogManager implementation. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56082
Catalina|not released Tomcat 8.0.2 (markt)|Fix|56085|ServletContext.getRealPath(String) should return null for invalid input rather than throwing an IllegalArgumentException. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56085
Catalina|not released Tomcat 8.0.2 (markt)|Fix||Fix WebDAV support that was broken by the refactoring for the new resources implementation. (markt)|
Catalina|not released Tomcat 8.0.2 (markt)|Code||Simplify Catalina.initDirs(). (kkolinko)|
Catalina|not released Tomcat 8.0.2 (markt)|Fix|56096|When the attribute rmiBindAddress of the JMX Remote Lifecycle Listener is specified it's value will be used when constructing the address of a JMX API connector server. Patch is provided by Jim Talbut. (violetagg)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56096
Catalina|not released Tomcat 8.0.2 (markt)|Fix||When environment entry with one and the same name is defined in the web deployment descriptor and with annotation then the one specified in the web deployment descriptor is with priority. (violetagg)|
Catalina|not released Tomcat 8.0.2 (markt)|Fix||Fix passing the value of false for xmlBlockExternal option of Context to Jasper, as the default was changed in 8.0.1. (kkolinko)|
Coyote|not released Tomcat 8.0.2 (markt)|Fix||Enable non-blocking reads to take place on non-container threads. (markt)|
Cluster|not released Tomcat 8.0.2 (markt)|Code||Simplify the code of o.a.c.ha.tcp.SimpleTcpCluster.createManager(String). Remove unnecessary class cast. (kfujino)|
Web applications|not released Tomcat 8.0.2 (markt)|Fix||In Manager web application improve handling of file upload errors. Display a message instead of error 500 page. Simplify. (kkolinko)|
Other|not released Tomcat 8.0.2 (markt)|Fix|56104|Correct the version number on the welcome page of the Windows installer. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=56104
Other|not released Tomcat 8.0.2 (markt)|Update||Update Commons DBCP 2 to snapshot 168 dated 05 Feb 2014. (markt)|
Other|not released Tomcat 8.0.2 (markt)|Fix||Fix CVE-2014-0050, a denial of service with a malicious, malformed Content-Type header and multipart request processing. Fixed by merging latest code (r1565159) from Commons FileUpload. (markt)|
Catalina|beta, 2014-02-02 Tomcat 8.0.1 (markt)|Fix||Change default value of xmlBlockExternal attribute of Context. It is true now. (kkolinko)|
Coyote|beta, 2014-02-02 Tomcat 8.0.1 (markt)|Fix||Correct regression in the fix for 55996 that meant that asynchronous requests might timeout too early. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=55996
Jasper|beta, 2014-02-02 Tomcat 8.0.1 (markt)|Fix||Change default value of the blockExternal attribute of JspC task. The default value is true. Add support for -no-blockExternal switch when JspC is run as a standalone application. (kkolinko)|
WebSocket|beta, 2014-02-02 Tomcat 8.0.1 (markt)|Fix||Do not return an empty string for the Sec-WebSocket-Protocol HTTP header when no sub-protocol has been requested or no sub-protocol could be agreed as RFC6455 requires that no Sec-WebSocket-Protocol header is returned in this case. (markt)|
Catalina|not released Tomcat 8.0.0 (markt)|Add||Implement JSR 340 - Servlet 3.1. The JSR 340 implementation includes contributions from Nick Williams and Jeremy Boynes. (markt)|
Catalina|not released Tomcat 8.0.0 (markt)|Add||Implement JSR 245 MR2 - JSP 2.3. (markt)|
Catalina|not released Tomcat 8.0.0 (markt)|Add||Implement JSR 341 - Unified Expression Language 3.0. (markt)|
Catalina|not released Tomcat 8.0.0 (markt)|Add||Implement JSR 356 - WebSockets. The JSR 356 implementation includes contributions from Nick Williams, Rossen Stoyanchev and Niki Dokovski. (markt)|
Catalina|not released Tomcat 8.0.0 (markt)|Update|46727|Refactor default servlet to make it easier to sub-class to implement finer grained control of the file encoding. Based on a patch by Fred Toth. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=46727
Catalina|not released Tomcat 8.0.0 (markt)|Add|45995|Align Tomcat with Apache httpd and perform MIME type mapping based on file extension in a case insensitive manner. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=45995
Catalina|not released Tomcat 8.0.0 (markt)|Code||Remove duplicate code that converted a Host's appBase attribute to a canonical file. (markt)|
Catalina|not released Tomcat 8.0.0 (markt)|Code|51408|Replace calls to Charset.defaultCharset() with an explicit reference to the ISO-8859-1 Charset. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=51408
Catalina|not released Tomcat 8.0.0 (markt)|Code||Refactor initialization code to use a single, consistent approach to determining the Catalina home (binary) and base (instance) directories. The search order for home is catalina.home system property, parent of current directory if boootstrap.jar is present and finally current working directory. The search order for Catalina base is catalina.base system property falling back to the value for Catalina home. (markt)|
Catalina|not released Tomcat 8.0.0 (markt)|Update|52092|JULI now uses the OneLineFormatter and AsyncFileHandler by default. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=52092
Catalina|not released Tomcat 8.0.0 (markt)|Fix|52558|Refactor CometConnectionManagerValve so that it does not prevent the session from being serialized in when running in a cluster. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=52558
Catalina|not released Tomcat 8.0.0 (markt)|Fix|52767|Remove reference to MySQL specific autoReconnect property in JDBCAccessLogValve. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=52767
Catalina|not released Tomcat 8.0.0 (markt)|Code||Make the Mapper type-safe. Hosts, Contexts and Wrappers are no longer handled as plain objects, instead they keep their type. Code using the Mapper doesn't need to cast objects returned by the mapper. (rjung)|
Catalina|not released Tomcat 8.0.0 (markt)|Code||Move Manager, Loader and Resources from Container to Context since Context is the only place they are used. The documentation already states (and has done for some time) that Context is the only valid location for these nested components. (markt)|
Catalina|not released Tomcat 8.0.0 (markt)|Code||Move the Mapper from the Connector to the Service since the Mapper is identical for all Connectors of a given Service and it is common for there to be multiple Connectors for a Service (http, https and ajp). This means there is now only ever one Mapper per Service rather than possibly multiple identically configured Mapper objects. (markt)|
Catalina|not released Tomcat 8.0.0 (markt)|Code||Remove the per Context Mapper objects and use the Mapper from the Service. This removes the need to maintain two copies of the mappings for Servlets and Filters. (markt)|
Catalina|not released Tomcat 8.0.0 (markt)|Add||Implement a new Resources implementation that merges Aliases, VirtualLoader, VirtualDirContext, JAR resources and external repositories into a single framework rather than a separate one for each feature. (markt)|
Catalina|not released Tomcat 8.0.0 (markt)|Add||URL rewrite valve, similar in functionality to mod_rewrite. (remm)|
Catalina|not released Tomcat 8.0.0 (markt)|Add||Port storeconfig functionality, which can persist to server.xml and context.xml runtime container configuration changes. (remm)|
Catalina|not released Tomcat 8.0.0 (markt)|Add|54095|Add support to the Default Servlet for serving gzipped versions of static resources directly from disk as an alternative to Tomcat compressing them on each request. Patch by Philippe Marschall. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=54095
Catalina|not released Tomcat 8.0.0 (markt)|Fix|54708|Change the name of the working directory for the ROOT application (located under $CATALINA_BASE/work by default) from _ to ROOT. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=54708
Catalina|not released Tomcat 8.0.0 (markt)|Add||Change default configuration so that a change to the global web.xml file will trigger a reload of all web applications. (markt)|
Catalina|not released Tomcat 8.0.0 (markt)|Fix|55101|Make BASIC authentication more tolerant of whitespace. Patch provided by Brian Burch. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=55101
Catalina|not released Tomcat 8.0.0 (markt)|Fix|55166|Move JSP descriptor and tag library descriptor schemas to servlet-api.jar to enable relative references between the schemas to be correctly resolved. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=55166
Catalina|not released Tomcat 8.0.0 (markt)|Code||Refactor the descriptor parsing code into a separate module that can be used by both Catalina and Jasper. Includes patches provided by Jeremy Boynes. (violetagg/markt)|
Catalina|not released Tomcat 8.0.0 (markt)|Code|55246|Move TLD scanning to a ServletContainerInitializer provided by Jasper. Includes removal of TldConfig lifecycle listener and associated Context properties. (jboynes)|https://bz.apache.org/bugzilla/show_bug.cgi?id=55246
Catalina|not released Tomcat 8.0.0 (markt)|Add|55317|Facilitate weaving by allowing ClassFileTransformer to be added to WebappClassLoader. Patch by Nick Williams. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=55317
Catalina|not released Tomcat 8.0.0 (markt)|Fix|55620|Enable Tomcat to start when either $CATALINA_HOME and/or $CATALINA_BASE contains a comma character. Prevent Tomcat from starting when $CATALINA_HOME and/or $CATALINA_BASE contains a semi-colon on Windows. Prevent Tomcat from starting when $CATALINA_HOME and/or $CATALINA_BASE contains a colon on Linux/FreeBSD/etc. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=55620
Catalina|not released Tomcat 8.0.0 (markt)|Code||Initialize the JSP runtime in Jasper's initializer to avoid need for a Jasper-specific lifecycle listener. JasperListener has been removed. (jboynes)|
Catalina|not released Tomcat 8.0.0 (markt)|Fix||Change ordering of elements of JMX objects names so components are grouped more logically in JConsole. Generally, components are now grouped by Host and then by Context. (markt)|
Catalina|not released Tomcat 8.0.0 (markt)|Add||Context listener to allow better EE and framework integration. (remm)|
Catalina|not released Tomcat 8.0.0 (markt)|Fix|57896|"Support defensive copying of ""cookie"" header so that unescaping double quotes in a cookie value does not corrupt original value of ""cookie"" header. This is an opt-in feature, enabled by org.apache.tomcat.util.http.ServerCookie.PRESERVE_COOKIE_HEADER system property. (remm/kkolinko)"|https://bz.apache.org/bugzilla/show_bug.cgi?id=57896
Coyote|not released Tomcat 8.0.0 (markt)|Add||Experimental support for SPDY. Includes contributions from Sheldon Shao. (costin)|
Coyote|not released Tomcat 8.0.0 (markt)|Code||The default connector is now the Java NIO connector even when specifying HTTP/1.1 as protocol (fhanik)|
Coyote|not released Tomcat 8.0.0 (markt)|Code||Update default value of pollerThreadCount for the NIO connector. The new default value will never go above 2 regardless of available processors. (fhanik)|
Coyote|not released Tomcat 8.0.0 (markt)|Fix|54010|Remove some unnecessary code (duplicate calls to configure the scheme as https for AJP requests originally received over HTTPS). (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=54010
Coyote|not released Tomcat 8.0.0 (markt)|Code||Refactor char encoding/decoding using NIO APIs. (remm)|
Coyote|not released Tomcat 8.0.0 (markt)|Update||Change the default URIEncoding for all connectors from ISO-8859-1 to UTF-8. (markt)|
Jasper|not released Tomcat 8.0.0 (markt)|Code||Simplify API of ErrorDispatcher class by using varargs. (kkolinko)|
Jasper|not released Tomcat 8.0.0 (markt)|Code||Update Jasper to use the new common web.xml parsing code. Includes patches by Jeremy Boynes. (markt/violetagg)|
Jasper|not released Tomcat 8.0.0 (markt)|Add||Create test cases for JspC. Patch by Jeremy Boynes. (markt)|
Jasper|not released Tomcat 8.0.0 (markt)|Code|55246|TLD scanning is now performed by JasperInitializer (a ServletContainerInitializer) removing the need for support within the Servlet container itself. The scan is now performed only once rather than in two passes reducing startup time. (jboynes)|https://bz.apache.org/bugzilla/show_bug.cgi?id=55246
Jasper|not released Tomcat 8.0.0 (markt)|Fix|55251|Do not allow JspC task to fail silently if the web.xml or web.xml fragment can not be generated. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=55251
Cluster|not released Tomcat 8.0.0 (markt)|Code||Remove unused JvmRouteSessionIDBinderListener and SessionIDMessage. (kfujino)|
Cluster|not released Tomcat 8.0.0 (markt)|Code||Modify method signature in ReplicationValve. Cluster instance is not necessary to argument of method. (kfujino)|
Cluster|not released Tomcat 8.0.0 (markt)|Code||Remove unused expireSessionsOnShutdown attribute in org.apache.catalina.ha.session.BackupManager. (kfujino)|
Web applications|not released Tomcat 8.0.0 (markt)|Add||Extend the diagnostic information provided by the Manager web application to include details of the configured SSL ciphers suites for each connector. (markt)|
Web applications|not released Tomcat 8.0.0 (markt)|Update|48550|Update examples web application to use UTF-8. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=48550
Web applications|not released Tomcat 8.0.0 (markt)|Update|55383|Improve the design and correct the HTML markup of the documentation web application. Patches provided by Konstantin Preißer. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=55383
Tribes|not released Tomcat 8.0.0 (markt)|Code||Refactor AbstractReplicatedMap to use generics. A key side-effect of this is that the class now implements Map<K,V> rather than extends ConcurrentMap. (markt)|
Other|not released Tomcat 8.0.0 (markt)|Code||Remove unused, deprecated code. (markt)|
Other|not released Tomcat 8.0.0 (markt)|Code||Remove static info String and associated getInfo() method where present. (markt)|
Other|not released Tomcat 8.0.0 (markt)|Update||(r1353242, r1353410): Remove Ant tasks jasper2 and jkstatus. The correct names are jasper and jkupdate. (kkolinko)|https://svn.apache.org/viewvc?view=rev&rev=1353242
Other|not released Tomcat 8.0.0 (markt)|Fix|53529|Clean-up the handling of InterruptedException throughout the code base. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=53529
Other|not released Tomcat 8.0.0 (markt)|Add|54899|Provide an initial implementation of NetBeans support. Patch provided by Brian Burch. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=54899
Other|not released Tomcat 8.0.0 (markt)|Fix|55166|Move the JSP descriptor and tag library descriptor schema definition files from jsp-api.jar to servlet-api.jar so relative includes between the J2EE, Servlet and JSP schemas are correctly resolved. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=55166
Other|not released Tomcat 8.0.0 (markt)|Fix|55372|When starting Tomcat with the jpda option to enable remote debugging, by default only listen on localhost for connections from a debugger. Prior to this change, Tomcat listened on all known addresses. (markt)|https://bz.apache.org/bugzilla/show_bug.cgi?id=55372
